{"ast":null,"code":"// // hooks/useGameData.js\n// import { useState, useEffect } from 'react';\n// import { useApi } from './useApi';\n// export const useGameData = (initialUrl = \"https://api.png71.live/api/games/New-table-Games-with-Providers\") => {\n//   const [data, setData] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n//   const [active, setActive] = useState(null);\n//   const [activeIndex, setActiveIndex] = useState(0);\n//   const { apiCall } = useApi();\n//   const fetchGameData = async (url = initialUrl) => {\n//     setLoading(true);\n//     setError(null);\n//     try {\n//       const response = await fetch(url, {\n//         method: \"GET\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//       });\n//       if (!response.ok) {\n//         throw new Error(`HTTP error! status: ${response.status}`);\n//       }\n//       const result = await response.json();\n//       console.log(result)\n//       setData(result.data);\n//       // Set initial active state\n//       if (result.length > 0) {\n//         setActive(result[0]?.category);\n//         setActiveIndex(0);\n//       }\n//       return result;\n//     } catch (err) {\n//       console.error(\"Error fetching game data:\", err);\n//       setError(\"গেম ডেটা লোড করতে সমস্যা হচ্ছে\");\n//       throw err;\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   useEffect(() => {\n//     fetchGameData();\n//   }, []);\n//   const [gameData, setGameData] = useState([]);\n//   const fetchGames = async (category_name) => {\n//     try {\n//       setLoading(true);\n//       // const providerParam = selectedProvider === \"ALL\"\n//       //   ? \"\"\n//       //   : Array.isArray(selectedProvider)\n//       //     ? selectedProvider.join(\",\")\n//       //     : selectedProvider;\n//       const result = await apiCall(\n//         \"/New-Games-with-Providers-By-Category\",\n//         \"GET\",\n//         {\n//           category_name: category_name,\n//         }\n//       );\n//       console.log(\"GET GamesProvidersPage result:\", result);\n//       setGameData(result.data || []);\n//     } catch (error) {\n//       console.error(\"Error fetching games:\", error);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   useEffect(() => {\n//     if (active && activeIndex > 2) {\n//       fetchGames(active.category_name);\n//     }\n//   }, [active, activeIndex]);\n//   useEffect(() => {\n//     if (data.length > 0) {\n//       setActive(data[0]?.category);\n//       setActiveIndex(0); // Reset index when data changes\n//     }\n//   }, [data]);\n//   const handleItemClick = (index, item) => {\n//     setActiveIndex(index);\n//     setActive(item ? item : data[0]?.category?.uniqueProviders);\n//   };\n//   const refetch = () => {\n//     return fetchGameData();\n//   };\n//   const setActiveCategory = (categoryName) => {\n//     const categoryIndex = data.findIndex(\n//       item => item?.category?.name === categoryName\n//     );\n//     if (categoryIndex !== -1) {\n//       setActiveIndex(categoryIndex);\n//       setActive(data[categoryIndex]?.category);\n//     }\n//   };\n//   return {\n//     data,\n//     loading,\n//     error,\n//     active,\n//     activeIndex,\n//     handleItemClick,\n//     setActiveCategory,\n//     refetch,\n//     setActive,\n//     setActiveIndex,\n//     gameData\n//   };\n// };\n// hooks/useGameData.js\nimport{useState,useEffect}from'react';import{useApi}from'./useApi';export const useGameData=function(){let initialUrl=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"https://api.png71.live/api/games/New-table-Games-with-Providers\";const[data,setData]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[active,setActive]=useState(null);const[activeIndex,setActiveIndex]=useState(0);const[gameData,setGameData]=useState([]);const{apiCall}=useApi();const fetchGameData=async function(){let url=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialUrl;setLoading(true);setError(null);try{const response=await fetch(url,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const result=await response.json();console.log(\"Game categories result:\",result);setData(result.data||[]);// Set initial active state\nif(result.data&&result.data.length>0){var _result$data$;setActive((_result$data$=result.data[0])===null||_result$data$===void 0?void 0:_result$data$.category);setActiveIndex(0);}return result;}catch(err){console.error(\"Error fetching game data:\",err);setError(\"গেম ডেটা লোড করতে সমস্যা হচ্ছে\");throw err;}finally{setLoading(false);}};const fetchGames=async category_name=>{if(!category_name)return;try{// setLoading(true);\nconst result=await apiCall(\"/New-Games-with-Providers-By-Category\",\"GET\",{category_name:category_name});console.log(\"GET GamesProvidersPage result:\",result);setGameData(result.data||[]);}catch(error){console.error(\"Error fetching games:\",error);// } finally {\n//   setLoading(false);\n}};useEffect(()=>{fetchGameData();},[]);// Fetch games when active category changes\nuseEffect(()=>{if(active&&active.category_name){fetchGames(active.category_name||\"\");}},[active,data]);console.log(data);// Set initial active category when data loads\nuseEffect(()=>{if(data.length>0&&!active){setActive(data[0]);setActiveIndex(0);}},[data,active]);const handleItemClick=(index,item)=>{setActiveIndex(index);setActive((item===null||item===void 0?void 0:item.category)||item);};const refetch=()=>{return fetchGameData();};const setActiveCategory=categoryName=>{const categoryIndex=data.findIndex(item=>{var _item$category;return(item===null||item===void 0?void 0:(_item$category=item.category)===null||_item$category===void 0?void 0:_item$category.name)===categoryName;});if(categoryIndex!==-1){var _data$categoryIndex;setActiveIndex(categoryIndex);setActive((_data$categoryIndex=data[categoryIndex])===null||_data$categoryIndex===void 0?void 0:_data$categoryIndex.category);}};return{data,loading,error,active,activeIndex,handleItemClick,setActiveCategory,refetch,setActive,setActiveIndex,gameData};};","map":{"version":3,"names":["useState","useEffect","useApi","useGameData","initialUrl","arguments","length","undefined","data","setData","loading","setLoading","error","setError","active","setActive","activeIndex","setActiveIndex","gameData","setGameData","apiCall","fetchGameData","url","response","fetch","method","headers","ok","Error","concat","status","result","json","console","log","_result$data$","category","err","fetchGames","category_name","handleItemClick","index","item","refetch","setActiveCategory","categoryName","categoryIndex","findIndex","_item$category","name","_data$categoryIndex"],"sources":["F:/png71/my-app/src/hooks/useGameData.js"],"sourcesContent":["// // hooks/useGameData.js\r\n// import { useState, useEffect } from 'react';\r\n// import { useApi } from './useApi';\r\n\r\n// export const useGameData = (initialUrl = \"https://api.png71.live/api/games/New-table-Games-with-Providers\") => {\r\n//   const [data, setData] = useState([]);\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [error, setError] = useState(null);\r\n//   const [active, setActive] = useState(null);\r\n//   const [activeIndex, setActiveIndex] = useState(0);\r\n//   const { apiCall } = useApi();\r\n//   const fetchGameData = async (url = initialUrl) => {\r\n//     setLoading(true);\r\n//     setError(null);\r\n\r\n//     try {\r\n//       const response = await fetch(url, {\r\n//         method: \"GET\",\r\n//         headers: {\r\n//           \"Content-Type\": \"application/json\",\r\n//         },\r\n//       });\r\n\r\n//       if (!response.ok) {\r\n//         throw new Error(`HTTP error! status: ${response.status}`);\r\n//       }\r\n\r\n//       const result = await response.json();\r\n//       console.log(result)\r\n//       setData(result.data);\r\n\r\n//       // Set initial active state\r\n//       if (result.length > 0) {\r\n//         setActive(result[0]?.category);\r\n//         setActiveIndex(0);\r\n//       }\r\n\r\n//       return result;\r\n//     } catch (err) {\r\n//       console.error(\"Error fetching game data:\", err);\r\n//       setError(\"গেম ডেটা লোড করতে সমস্যা হচ্ছে\");\r\n//       throw err;\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchGameData();\r\n//   }, []);\r\n\r\n\r\n\r\n//   const [gameData, setGameData] = useState([]);\r\n\r\n\r\n//   const fetchGames = async (category_name) => {\r\n\r\n\r\n//     try {\r\n//       setLoading(true);\r\n//       // const providerParam = selectedProvider === \"ALL\"\r\n//       //   ? \"\"\r\n//       //   : Array.isArray(selectedProvider)\r\n//       //     ? selectedProvider.join(\",\")\r\n//       //     : selectedProvider;\r\n\r\n//       const result = await apiCall(\r\n//         \"/New-Games-with-Providers-By-Category\",\r\n//         \"GET\",\r\n//         {\r\n//           category_name: category_name,\r\n//         }\r\n//       );\r\n\r\n//       console.log(\"GET GamesProvidersPage result:\", result);\r\n\r\n\r\n//       setGameData(result.data || []);\r\n\r\n\r\n\r\n\r\n\r\n//     } catch (error) {\r\n//       console.error(\"Error fetching games:\", error);\r\n\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     if (active && activeIndex > 2) {\r\n//       fetchGames(active.category_name);\r\n//     }\r\n\r\n//   }, [active, activeIndex]);\r\n\r\n//   useEffect(() => {\r\n//     if (data.length > 0) {\r\n//       setActive(data[0]?.category);\r\n//       setActiveIndex(0); // Reset index when data changes\r\n//     }\r\n//   }, [data]);\r\n\r\n//   const handleItemClick = (index, item) => {\r\n//     setActiveIndex(index);\r\n//     setActive(item ? item : data[0]?.category?.uniqueProviders);\r\n//   };\r\n\r\n//   const refetch = () => {\r\n//     return fetchGameData();\r\n//   };\r\n\r\n//   const setActiveCategory = (categoryName) => {\r\n//     const categoryIndex = data.findIndex(\r\n//       item => item?.category?.name === categoryName\r\n//     );\r\n//     if (categoryIndex !== -1) {\r\n//       setActiveIndex(categoryIndex);\r\n//       setActive(data[categoryIndex]?.category);\r\n//     }\r\n//   };\r\n\r\n//   return {\r\n//     data,\r\n//     loading,\r\n//     error,\r\n//     active,\r\n//     activeIndex,\r\n//     handleItemClick,\r\n//     setActiveCategory,\r\n//     refetch,\r\n//     setActive,\r\n//     setActiveIndex,\r\n//     gameData\r\n//   };\r\n// };\r\n\r\n// hooks/useGameData.js\r\nimport { useState, useEffect } from 'react';\r\nimport { useApi } from './useApi';\r\n\r\nexport const useGameData = (initialUrl = \"https://api.png71.live/api/games/New-table-Games-with-Providers\") => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [active, setActive] = useState(null);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [gameData, setGameData] = useState([]);\r\n  \r\n  const { apiCall } = useApi();\r\n\r\n  const fetchGameData = async (url = initialUrl) => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await fetch(url, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      console.log(\"Game categories result:\", result);\r\n      setData(result.data || []);\r\n\r\n      // Set initial active state\r\n      if (result.data && result.data.length > 0) {\r\n        setActive(result.data[0]?.category);\r\n        setActiveIndex(0);\r\n      }\r\n\r\n      return result;\r\n    } catch (err) {\r\n      console.error(\"Error fetching game data:\", err);\r\n      setError(\"গেম ডেটা লোড করতে সমস্যা হচ্ছে\");\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchGames = async (category_name) => {\r\n    if (!category_name) return;\r\n    \r\n    try {\r\n      // setLoading(true);\r\n      const result = await apiCall(\r\n        \"/New-Games-with-Providers-By-Category\",\r\n        \"GET\",\r\n        {\r\n          category_name: category_name,\r\n        }\r\n      );\r\n\r\n      console.log(\"GET GamesProvidersPage result:\", result);\r\n      setGameData(result.data || []);\r\n    } catch (error) {\r\n      console.error(\"Error fetching games:\", error);\r\n    // } finally {\r\n    //   setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchGameData();\r\n  }, []);\r\n\r\n  // Fetch games when active category changes\r\n  useEffect(() => {\r\n    if (active && active.category_name) {\r\n      fetchGames(active.category_name || \"\");\r\n    }\r\n  }, [active, data]);\r\n\r\n  console.log(data)\r\n  // Set initial active category when data loads\r\n  useEffect(() => {\r\n    if (data.length > 0 && !active) {\r\n      setActive(data[0]);\r\n      setActiveIndex(0);\r\n    }\r\n  }, [data, active]);\r\n\r\n  const handleItemClick = (index, item) => {\r\n    setActiveIndex(index);\r\n    setActive(item?.category || item);\r\n  };\r\n\r\n  const refetch = () => {\r\n    return fetchGameData();\r\n  };\r\n\r\n  const setActiveCategory = (categoryName) => {\r\n    const categoryIndex = data.findIndex(\r\n      item => item?.category?.name === categoryName\r\n    );\r\n    if (categoryIndex !== -1) {\r\n      setActiveIndex(categoryIndex);\r\n      setActive(data[categoryIndex]?.category);\r\n    }\r\n  };\r\n\r\n  return {\r\n    data,\r\n    loading,\r\n    error,\r\n    active,\r\n    activeIndex,\r\n    handleItemClick,\r\n    setActiveCategory,\r\n    refetch,\r\n    setActive,\r\n    setActiveIndex,\r\n    gameData\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}