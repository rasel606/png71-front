{"ast":null,"code":"import{apiService}from'./api';export const authService={register:async userData=>{return await apiService.post('/v1/createUser',userData);},login:async credentials=>{const response=await apiService.post('/v1/login_user',credentials);console.log(\"User profile fetched:\",response);if(response&&response.token){const token=response.token;localStorage.setItem('png71-user',token);apiService.setToken(token);}return response;},getProfile:async()=>{try{const response=await apiService.get('/v1/user_details');console.log(\"User profile fetched:\",response);// Handle different response structures\nif(response.data){return response.data;// If backend returns { success: true, data: user }\n}else if(response.user){return response.user;// If backend returns { user }\n}else{return response;// If backend returns user object directly\n}}catch(error){console.error(\"getProfile error:\",error);throw error;}},changePassword:async passwordData=>{// return await apiService.put('/auth/register_sub_admin', passwordData);\n},logout:()=>{localStorage.removeItem('png71-user');apiService.setToken(null);},setToken:token=>{apiService.setToken(token);if(token){localStorage.setItem('png71-user',token);}else{localStorage.removeItem('png71-user');}},init(){const token=localStorage.getItem('png71-user');if(token){this.setToken(token);return token;}return null;}};export default authService;","map":{"version":3,"names":["apiService","authService","register","userData","post","login","credentials","response","console","log","token","localStorage","setItem","setToken","getProfile","get","data","user","error","changePassword","passwordData","logout","removeItem","init","getItem"],"sources":["F:/png71/my-app/src/services/authServices.js"],"sourcesContent":["import { apiService } from './api';\r\n\r\nexport const authService = {\r\n  register: async (userData) => {\r\n    return await apiService.post('/v1/createUser', userData);\r\n  },\r\n\r\n  login: async (credentials) => {\r\n    const response = await apiService.post('/v1/login_user', credentials);\r\n  console.log(\"User profile fetched:\", response);\r\n    if (response && response.token) {\r\n      const token = response.token;\r\n      localStorage.setItem('png71-user', token);\r\n      apiService.setToken(token);\r\n    }\r\n\r\n    return response;\r\n  },\r\n \r\n\r\n  getProfile: async () => {\r\n    try {\r\n      const response = await apiService.get('/v1/user_details');\r\n  console.log(\"User profile fetched:\", response);\r\n      // Handle different response structures\r\n      if (response.data) {\r\n        return response.data; // If backend returns { success: true, data: user }\r\n      } else if (response.user) {\r\n        return response.user; // If backend returns { user }\r\n      } else {\r\n        return response; // If backend returns user object directly\r\n      }\r\n    } catch (error) {\r\n      console.error(\"getProfile error:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  changePassword: async (passwordData) => {\r\n    // return await apiService.put('/auth/register_sub_admin', passwordData);\r\n  },\r\n\r\n  logout: () => {\r\n    localStorage.removeItem('png71-user');\r\n    apiService.setToken(null);\r\n  },\r\n\r\n  setToken: (token) => {\r\n    apiService.setToken(token);\r\n    if (token) {\r\n      localStorage.setItem('png71-user', token);\r\n    } else {\r\n      localStorage.removeItem('png71-user');\r\n    }\r\n  },\r\n\r\n  init() {\r\n    const token = localStorage.getItem('png71-user');\r\n    if (token) {\r\n      this.setToken(token);\r\n      return token;\r\n    }\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default authService;"],"mappings":"AAAA,OAASA,UAAU,KAAQ,OAAO,CAElC,MAAO,MAAM,CAAAC,WAAW,CAAG,CACzBC,QAAQ,CAAE,KAAO,CAAAC,QAAQ,EAAK,CAC5B,MAAO,MAAM,CAAAH,UAAU,CAACI,IAAI,CAAC,gBAAgB,CAAED,QAAQ,CAAC,CAC1D,CAAC,CAEDE,KAAK,CAAE,KAAO,CAAAC,WAAW,EAAK,CAC5B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,UAAU,CAACI,IAAI,CAAC,gBAAgB,CAAEE,WAAW,CAAC,CACvEE,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAEF,QAAQ,CAAC,CAC5C,GAAIA,QAAQ,EAAIA,QAAQ,CAACG,KAAK,CAAE,CAC9B,KAAM,CAAAA,KAAK,CAAGH,QAAQ,CAACG,KAAK,CAC5BC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAEF,KAAK,CAAC,CACzCV,UAAU,CAACa,QAAQ,CAACH,KAAK,CAAC,CAC5B,CAEA,MAAO,CAAAH,QAAQ,CACjB,CAAC,CAGDO,UAAU,CAAE,KAAAA,CAAA,GAAY,CACtB,GAAI,CACF,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAAP,UAAU,CAACe,GAAG,CAAC,kBAAkB,CAAC,CAC7DP,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAEF,QAAQ,CAAC,CAC1C;AACA,GAAIA,QAAQ,CAACS,IAAI,CAAE,CACjB,MAAO,CAAAT,QAAQ,CAACS,IAAI,CAAE;AACxB,CAAC,IAAM,IAAIT,QAAQ,CAACU,IAAI,CAAE,CACxB,MAAO,CAAAV,QAAQ,CAACU,IAAI,CAAE;AACxB,CAAC,IAAM,CACL,MAAO,CAAAV,QAAQ,CAAE;AACnB,CACF,CAAE,MAAOW,KAAK,CAAE,CACdV,OAAO,CAACU,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAAC,CACzC,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAEDC,cAAc,CAAE,KAAO,CAAAC,YAAY,EAAK,CACtC;AAAA,CACD,CAEDC,MAAM,CAAEA,CAAA,GAAM,CACZV,YAAY,CAACW,UAAU,CAAC,YAAY,CAAC,CACrCtB,UAAU,CAACa,QAAQ,CAAC,IAAI,CAAC,CAC3B,CAAC,CAEDA,QAAQ,CAAGH,KAAK,EAAK,CACnBV,UAAU,CAACa,QAAQ,CAACH,KAAK,CAAC,CAC1B,GAAIA,KAAK,CAAE,CACTC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAEF,KAAK,CAAC,CAC3C,CAAC,IAAM,CACLC,YAAY,CAACW,UAAU,CAAC,YAAY,CAAC,CACvC,CACF,CAAC,CAEDC,IAAIA,CAAA,CAAG,CACL,KAAM,CAAAb,KAAK,CAAGC,YAAY,CAACa,OAAO,CAAC,YAAY,CAAC,CAChD,GAAId,KAAK,CAAE,CACT,IAAI,CAACG,QAAQ,CAACH,KAAK,CAAC,CACpB,MAAO,CAAAA,KAAK,CACd,CACA,MAAO,KAAI,CACb,CACF,CAAC,CAED,cAAe,CAAAT,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}