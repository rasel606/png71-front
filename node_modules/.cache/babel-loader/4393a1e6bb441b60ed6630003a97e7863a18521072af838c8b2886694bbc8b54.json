{"ast":null,"code":"var _jsxFileName = \"F:\\\\png71\\\\my-app\\\\src\\\\components\\\\pages\\\\GamesProvidersPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useApi } from \"../../hooks/useApi\";\nimport GameBox from \"../games/GameBox\";\nimport SearchTab from \"../games/SearchTab\";\nimport SearchPage from \"../games/SearchPage\";\nimport SortBar from \"../games/SortBar\";\nimport JackpotBanner from \"../games/JackpotBanner\";\nimport { useGamePlay } from \"../../hooks/useGamePlay\";\nimport { useApp } from \"../../contexts/AppContext\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GamesProvidersPage = () => {\n  _s();\n  const {\n    category_name,\n    providercode\n  } = useParams();\n  const [data, setData] = useState([]);\n  const [gameData, setGameData] = useState([]);\n  const [selectedProvider, setSelectedProvider] = useState(providercode ? [providercode] : \"ALL\");\n  const {\n    gameLaunchState,\n    closeGame,\n    launchGame,\n    setGameLaunchState\n  } = useApp();\n  const [sortOption, setSortOption] = useState(\"recommend\");\n  const [page, setPage] = useState(0);\n  const [hasMore, setHasMore] = useState(true);\n  const [showSearch, setShowSearch] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const loader = useRef();\n  const limit = 24;\n  const {\n    apiCall\n  } = useApi();\n  const {\n    user\n  } = useAuth();\n  const {\n    isPlaying,\n    playGameData,\n    showPopup,\n    handlePlay,\n    handleClosePopup\n  } = useGamePlay();\n\n  // Fetch providers data\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n        const result = await apiCall(\"/New-table-Games-with-Providers\", \"GET\", {\n          category_name: category_name\n        });\n        console.log(\"GamesProvidersPage category result\", result.data);\n        if (result.success) {\n          setData(result.data[0] || {});\n        }\n      } catch (error) {\n        console.error(\"Error fetching categories:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, [category_name]);\n\n  // Handle provider selection\n  const handleProviderChange = provider => {\n    let newProvider;\n    if (provider === \"ALL\") {\n      newProvider = \"ALL\";\n    } else {\n      if (selectedProvider === \"ALL\") {\n        newProvider = [provider];\n      } else if (Array.isArray(selectedProvider)) {\n        if (selectedProvider.includes(provider)) {\n          newProvider = selectedProvider.filter(p => p !== provider);\n          if (newProvider.length === 0) {\n            newProvider = \"ALL\";\n          }\n        } else {\n          newProvider = [...selectedProvider, provider];\n        }\n      } else {\n        newProvider = [provider];\n      }\n    }\n    setSelectedProvider(newProvider);\n    setPage(0);\n    setGameData([]);\n    setHasMore(true);\n  };\n\n  // Fetch games with filters\n  const fetchGames = async () => {\n    if (!hasMore || isLoading) return;\n    try {\n      setIsLoading(true);\n      const providerParam = selectedProvider === \"ALL\" ? \"\" : Array.isArray(selectedProvider) ? selectedProvider.join(\",\") : selectedProvider;\n      const result = await apiCall(\"/New-Games-with-Providers-By-Category\", \"GET\", {\n        category_name: category_name,\n        page: page,\n        provider: providerParam,\n        gameName: searchQuery,\n        sortBy: sortOption\n      });\n      console.log(\"GET GamesProvidersPage result:\", result);\n      if (result.success) {\n        const newGames = result.data || [];\n        if (newGames.length < limit) {\n          setHasMore(false);\n        }\n        setGameData(prev => [...prev, ...result.data]);\n        setPage(prev => prev + 1);\n      }\n      if (result.success) {\n        if (result.data.length < limit) setHasMore(false);\n        setGameData(prev => [...prev, ...result.data]);\n        setPage(prev => prev + 1);\n      }\n    } catch (error) {\n      console.error(\"Error fetching games:\", error);\n      setHasMore(false);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Reset and fetch when filters change\n  useEffect(() => {\n    setPage(0);\n    setGameData([]);\n    setHasMore(true);\n  }, [selectedProvider, searchQuery, sortOption, category_name]);\n\n  // Initial fetch and when page changes\n  // useEffect(() => {\n  //   if (page === 0 && hasMore) {\n  //     fetchGames();\n  //   }\n  // }, [page, hasMore]);\n\n  // Infinite scroll setup\n  useEffect(() => {\n    const observer = new IntersectionObserver(entries => {\n      if (entries[0].isIntersecting && hasMore && !isLoading) {\n        fetchGames();\n      }\n    }, {\n      threshold: 1\n    });\n    const currentLoader = loader.current;\n    if (currentLoader) {\n      observer.observe(currentLoader);\n    }\n    return () => {\n      if (currentLoader) {\n        observer.unobserve(currentLoader);\n      }\n    };\n  }, [hasMore, isLoading]);\n  const handleSearchConfirm = () => {\n    setShowSearch(false);\n    setPage(0);\n    setGameData([]);\n    setHasMore(true);\n  };\n\n  //////////===========================================handle effects lunch game==================//////////\n\n  const onRefreshBalance = () => {\n    if (user !== null && user !== void 0 && user.userId) {\n      handleRefresh(user.userId);\n    }\n  };\n\n  // Fixed handleGamePlay function with authentication check\n  const handleGamePlay = async (game, e, userId) => {\n    e.preventDefault();\n    // If user is not authenticated, redirect to login\n    if (!isAuthenticated || !userId) {\n      navigate('/login', {\n        state: {\n          from: window.location.pathname\n        }\n      });\n      return;\n    }\n\n    // If user is authenticated, launch the game\n    const result = await launchGame(game);\n    console.log(\"Game launch result:\", result);\n    if (result.success) {\n      console.log(\"Game launched successfully\");\n    } else if (result.requiresLogin) {\n      // This should not happen if route guards are working properly\n      navigate('/login', {\n        state: {\n          from: window.location.pathname,\n          message: \"গেম খেলতে লগইন করুন\"\n        }\n      });\n    } else {\n      console.error(\"Game launch failed:\", result.message);\n      // You can show an error notification here\n    }\n  };\n\n  // Handle game link click with authentication\n  // const handleGameLinkClick = (game) => {\n  //   // e.preventDefault();\n  //   handleGamePlay(game);\n  // };\n\n  //////////===========================================handle effects lunch game==================//////////\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content mcd-style\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-box\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"games\",\n          children: [/*#__PURE__*/_jsxDEV(JackpotBanner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SearchTab, {\n            providers: data.uniqueProviders || [],\n            selectedProvider: selectedProvider,\n            onProviderChange: handleProviderChange,\n            showSearch: showSearch,\n            setShowSearch: setShowSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SearchPage, {\n            showSearch: showSearch,\n            setShowSearch: setShowSearch,\n            providers: data.uniqueProviders || [],\n            selectedProvider: selectedProvider,\n            onProviderChange: handleProviderChange,\n            searchQuery: searchQuery,\n            setSearchQuery: setSearchQuery,\n            onConfirm: handleSearchConfirm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SortBar, {\n            sortOption: sortOption,\n            setSortOption: setSortOption,\n            title: category_name || \"Games\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"games-main\",\n            children: gameData.map(game => /*#__PURE__*/_jsxDEV(GameBox, {\n              game: game,\n              onPlay: e => handleGamePlay(game, e, user === null || user === void 0 ? void 0 : user.userId),\n              type: \"game\"\n            }, game._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: loader,\n            className: \"loading\",\n            children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"list-loading\",\n              children: \"Loading more games...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 29\n            }, this), !hasMore && gameData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prompt\",\n              children: \"\\uFF0Dend of page\\uFF0D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this), !hasMore && gameData.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"prompt\",\n              children: \"No games found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n};\n_s(GamesProvidersPage, \"k8jldA0GRuG+3sfsIcjKOmqRTko=\", false, function () {\n  return [useParams, useApp, useApi, useAuth, useGamePlay];\n});\n_c = GamesProvidersPage;\nexport default GamesProvidersPage;\nvar _c;\n$RefreshReg$(_c, \"GamesProvidersPage\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useParams","useApi","GameBox","SearchTab","SearchPage","SortBar","JackpotBanner","useGamePlay","useApp","useAuth","jsxDEV","_jsxDEV","GamesProvidersPage","_s","category_name","providercode","data","setData","gameData","setGameData","selectedProvider","setSelectedProvider","gameLaunchState","closeGame","launchGame","setGameLaunchState","sortOption","setSortOption","page","setPage","hasMore","setHasMore","showSearch","setShowSearch","searchQuery","setSearchQuery","isLoading","setIsLoading","loader","limit","apiCall","user","isPlaying","playGameData","showPopup","handlePlay","handleClosePopup","fetchData","result","console","log","success","error","handleProviderChange","provider","newProvider","Array","isArray","includes","filter","p","length","fetchGames","providerParam","join","gameName","sortBy","newGames","prev","observer","IntersectionObserver","entries","isIntersecting","threshold","currentLoader","current","observe","unobserve","handleSearchConfirm","onRefreshBalance","userId","handleRefresh","handleGamePlay","game","e","preventDefault","isAuthenticated","navigate","state","from","window","location","pathname","requiresLogin","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","providers","uniqueProviders","onProviderChange","onConfirm","title","map","onPlay","type","_id","ref","_c","$RefreshReg$"],"sources":["F:/png71/my-app/src/components/pages/GamesProvidersPage.jsx"],"sourcesContent":["\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useApi } from \"../../hooks/useApi\";\r\nimport GameBox from \"../games/GameBox\";\r\nimport SearchTab from \"../games/SearchTab\";\r\nimport SearchPage from \"../games/SearchPage\";\r\nimport SortBar from \"../games/SortBar\";\r\nimport JackpotBanner from \"../games/JackpotBanner\";\r\nimport { useGamePlay } from \"../../hooks/useGamePlay\";\r\nimport { useApp } from \"../../contexts/AppContext\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\n\r\nconst GamesProvidersPage = () => {\r\n  const { category_name, providercode } = useParams();\r\n  const [data, setData] = useState([]);\r\n  const [gameData, setGameData] = useState([]);\r\n  const [selectedProvider, setSelectedProvider] = useState(\r\n    providercode ? [providercode] : \"ALL\"\r\n  );\r\n\r\n  const { gameLaunchState, closeGame, launchGame, setGameLaunchState } = useApp();\r\n  const [sortOption, setSortOption] = useState(\"recommend\");\r\n  const [page, setPage] = useState(0);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [showSearch, setShowSearch] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const loader = useRef();\r\n  const limit = 24;\r\n  const { apiCall } = useApi();\r\n  const { user } = useAuth();\r\n\r\n  const { \r\n    isPlaying, \r\n    playGameData, \r\n    showPopup, \r\n    handlePlay, \r\n    handleClosePopup \r\n  } = useGamePlay();\r\n\r\n  // Fetch providers data\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const result = await apiCall(\"/New-table-Games-with-Providers\", \"GET\", {\r\n          category_name: category_name,\r\n        });\r\n        console.log(\"GamesProvidersPage category result\", result.data);\r\n        if (result.success) {\r\n          setData(result.data[0] || {});\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching categories:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [category_name]);\r\n\r\n  // Handle provider selection\r\n  const handleProviderChange = (provider) => {\r\n    let newProvider;\r\n    \r\n    if (provider === \"ALL\") {\r\n      newProvider = \"ALL\";\r\n    } else {\r\n      if (selectedProvider === \"ALL\") {\r\n        newProvider = [provider];\r\n      } else if (Array.isArray(selectedProvider)) {\r\n        if (selectedProvider.includes(provider)) {\r\n          newProvider = selectedProvider.filter((p) => p !== provider);\r\n          if (newProvider.length === 0) {\r\n            newProvider = \"ALL\";\r\n          }\r\n        } else {\r\n          newProvider = [...selectedProvider, provider];\r\n        }\r\n      } else {\r\n        newProvider = [provider];\r\n      }\r\n    }\r\n\r\n    setSelectedProvider(newProvider);\r\n    setPage(0);\r\n    setGameData([]);\r\n    setHasMore(true);\r\n  };\r\n\r\n  // Fetch games with filters\r\n  const fetchGames = async () => {\r\n    if (!hasMore || isLoading) return;\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      const providerParam = selectedProvider === \"ALL\" \r\n        ? \"\" \r\n        : Array.isArray(selectedProvider) \r\n          ? selectedProvider.join(\",\") \r\n          : selectedProvider;\r\n\r\n      const result = await apiCall(\r\n        \"/New-Games-with-Providers-By-Category\",\r\n        \"GET\",\r\n        {\r\n          category_name: category_name,\r\n          page: page,\r\n          provider: providerParam,\r\n          gameName: searchQuery,\r\n          sortBy: sortOption,\r\n        }\r\n      );\r\n\r\n      console.log(\"GET GamesProvidersPage result:\", result);\r\n\r\n      if (result.success) {\r\n        const newGames = result.data || [];\r\n        if (newGames.length < limit) {\r\n          setHasMore(false);\r\n        }\r\n        setGameData((prev) => [...prev, ...result.data]);\r\n        setPage((prev) => prev + 1);\r\n      }\r\n\r\n\r\n      if (result.success) {\r\n        if (result.data.length < limit) setHasMore(false);\r\n        setGameData((prev) => [...prev, ...result.data]);\r\n\r\n        setPage((prev) => prev + 1);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching games:\", error);\r\n      setHasMore(false);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Reset and fetch when filters change\r\n  useEffect(() => {\r\n    setPage(0);\r\n    setGameData([]);\r\n    setHasMore(true);\r\n  }, [selectedProvider, searchQuery, sortOption, category_name]);\r\n\r\n  // Initial fetch and when page changes\r\n  // useEffect(() => {\r\n  //   if (page === 0 && hasMore) {\r\n  //     fetchGames();\r\n  //   }\r\n  // }, [page, hasMore]);\r\n\r\n  // Infinite scroll setup\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting && hasMore && !isLoading) {\r\n          fetchGames();\r\n        }\r\n      },\r\n      { threshold: 1 }\r\n    );\r\n\r\n    const currentLoader = loader.current;\r\n    if (currentLoader) {\r\n      observer.observe(currentLoader);\r\n    }\r\n\r\n    return () => {\r\n      if (currentLoader) {\r\n        observer.unobserve(currentLoader);\r\n      }\r\n    };\r\n  }, [hasMore, isLoading]);\r\n\r\n  const handleSearchConfirm = () => {\r\n    setShowSearch(false);\r\n    setPage(0);\r\n    setGameData([]);\r\n    setHasMore(true);\r\n  };\r\n\r\n  //////////===========================================handle effects lunch game==================//////////\r\n\r\n\r\n  const onRefreshBalance = () => {\r\n    if (user?.userId) {\r\n      handleRefresh(user.userId);\r\n    }\r\n  };\r\n\r\n  // Fixed handleGamePlay function with authentication check\r\n  const handleGamePlay = async (game, e,userId) => {\r\n    e.preventDefault();\r\n    // If user is not authenticated, redirect to login\r\n    if (!isAuthenticated || !userId) {\r\n      navigate('/login', { \r\n        state: { \r\n          from: window.location.pathname,\r\n         \r\n        } \r\n      });\r\n      return;\r\n    }\r\n\r\n    // If user is authenticated, launch the game\r\n    const result = await launchGame(game);\r\n    console.log(\"Game launch result:\", result);\r\n    if (result.success) {\r\n      console.log(\"Game launched successfully\");\r\n    } else if (result.requiresLogin) {\r\n      // This should not happen if route guards are working properly\r\n      navigate('/login', { \r\n        state: { \r\n          from: window.location.pathname,\r\n          message: \"গেম খেলতে লগইন করুন\" \r\n        } \r\n      });\r\n    } else {\r\n      console.error(\"Game launch failed:\", result.message);\r\n      // You can show an error notification here\r\n    }\r\n  };\r\n\r\n  // Handle game link click with authentication\r\n  // const handleGameLinkClick = (game) => {\r\n  //   // e.preventDefault();\r\n  //   handleGamePlay(game);\r\n  // };\r\n\r\n\r\n//////////===========================================handle effects lunch game==================//////////\r\n\r\n  return (\r\n    <div className=\"content mcd-style\">\r\n      <div className=\"content-main\">\r\n        <div className=\"content-box\">\r\n          <div className=\"games\">\r\n            <JackpotBanner />\r\n            \r\n            {/* Search Tab Component */}\r\n            <SearchTab\r\n              providers={data.uniqueProviders || []}\r\n              selectedProvider={selectedProvider}\r\n              onProviderChange={handleProviderChange}\r\n              showSearch={showSearch}\r\n              setShowSearch={setShowSearch}\r\n            />\r\n\r\n            {/* Search Page Component */}\r\n            <SearchPage\r\n              showSearch={showSearch}\r\n              setShowSearch={setShowSearch}\r\n              providers={data.uniqueProviders || []}\r\n              selectedProvider={selectedProvider}\r\n              onProviderChange={handleProviderChange}\r\n              searchQuery={searchQuery}\r\n              setSearchQuery={setSearchQuery}\r\n              onConfirm={handleSearchConfirm}\r\n            />\r\n\r\n            {/* Sort Bar Component */}\r\n            <SortBar \r\n              sortOption={sortOption} \r\n              setSortOption={setSortOption} \r\n              title={category_name || \"Games\"}\r\n            />\r\n\r\n            {/* Games Grid */}\r\n            <div className=\"games-main\">\r\n              {gameData.map((game) => (\r\n                <GameBox\r\n                  key={game._id}\r\n                  game={game}\r\n                  onPlay={(e) => handleGamePlay(game, e, user?.userId)}\r\n                  type=\"game\"\r\n                />\r\n              ))}\r\n            </div>\r\n\r\n            {/* Loading and End of Page */}\r\n            <div ref={loader} className=\"loading\">\r\n              {isLoading && <div className=\"list-loading\">Loading more games...</div>}\r\n              {!hasMore && gameData.length > 0 && (\r\n                <div className=\"prompt\">－end of page－</div>\r\n              )}\r\n              {!hasMore && gameData.length === 0 && !isLoading && (\r\n                <div className=\"prompt\">No games found</div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Game Popup would go here */}\r\n      {/* {showPopup && (\r\n        <GamePopup\r\n          showPopup={showPopup}\r\n          playGameData={playGameData}\r\n          onClose={handleClosePopup}\r\n          title=\"Game\"\r\n        />\r\n      )} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GamesProvidersPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}