{"ast":null,"code":"// components/member/VerificationCode/VerificationCode.js\nimport React,{useState,useRef,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import{phoneVerificationService}from'../../../services/phoneVerificationService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VerificationCode=_ref=>{var _location$state;let{showError,showSuccess,showWarning,showInfo}=_ref;const navigate=useNavigate();const location=useLocation();const[code,setCode]=useState(['','','','']);const[isSubmitting,setIsSubmitting]=useState(false);//   const [showSuccess, setShowSuccess] = useState(false);\nconst[resendTime,setResendTime]=useState(285);// 4:45 in seconds\nconst[canResend,setCanResend]=useState(false);const inputRefs=[useRef(null),useRef(null),useRef(null),useRef(null)];// Get phone number from navigation state\nconst phoneNumber=((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.phoneNumber)||'+880 13******23';const maskedPhoneNumber=phoneNumber?phoneNumber.replace(/(\\d{4})(\\d+)(\\d{2})/,'$1******$3'):'+880 13******23';// Timer for resend code\nuseEffect(()=>{const timer=setInterval(()=>{setResendTime(prev=>{if(prev<=1){setCanResend(true);return 0;}return prev-1;});},1000);return()=>clearInterval(timer);},[]);const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return\"(\".concat(mins.toString().padStart(2,'0'),\":\").concat(secs.toString().padStart(2,'0'),\")\");};const handleCodeChange=(index,value)=>{const numericValue=value.replace(/\\D/g,'').slice(0,1);const newCode=[...code];newCode[index]=numericValue;setCode(newCode);if(numericValue&&index<3){inputRefs[index+1].current.focus();}if(newCode.every(digit=>digit!=='')&&index===3){handleSubmit(newCode.join(''));}};const handleKeyDown=(index,e)=>{if(e.key==='Backspace'&&!code[index]&&index>0){inputRefs[index-1].current.focus();}};const handlePaste=e=>{e.preventDefault();const pastedData=e.clipboardData.getData('text');const numbers=pastedData.replace(/\\D/g,'').slice(0,4);const newCode=[...code];numbers.split('').forEach((num,index)=>{if(index<4){newCode[index]=num;}});setCode(newCode);const nextEmptyIndex=newCode.findIndex(digit=>digit==='');if(nextEmptyIndex!==-1){inputRefs[nextEmptyIndex].current.focus();}else{inputRefs[3].current.focus();}};const handleSubmit=async function(){let verificationCode=arguments.length>0&&arguments[0]!==undefined?arguments[0]:code.join('');if(verificationCode.length!==4){showError('Please enter the complete 4-digit verification code');return;}setIsSubmitting(true);try{// Verify the code\nconst verifyResult=await phoneVerificationService.verifyCode(phoneNumber,verificationCode);if(verifyResult.success){// Update user's phone number in profile\nconst updateResult=await phoneVerificationService.updatePhoneNumber(phoneNumber);if(updateResult.success){//   setShowSuccess(true);\nshowSuccess('Phone number verified and updated successfully!');// Auto navigate back after success\nsetTimeout(()=>{// setShowSuccess(false);\nnavigate(-1);// Go back to profile page\n},2000);}}}catch(error){console.error('Verification error:',error);if(error.code===400){showError('Invalid verification code');}else if(error.code===410){showError('Verification code has expired');}else if(error.code===429){showError('Too many attempts. Please try again later.');}else if(error.code===500){showError('Server error. Please try again later.');}else{showError(error.message||'Verification failed');}// Clear the code on error\nsetCode(['','','','']);inputRefs[0].current.focus();}finally{setIsSubmitting(false);}};const handleResendCode=async()=>{if(!canResend)return;setResendTime(285);// Reset to 4:45\nsetCanResend(false);setCode(['','','','']);inputRefs[0].current.focus();try{const result=await phoneVerificationService.resendVerificationCode(phoneNumber);if(result.success){// showSuccess(result.message);\n}}catch(error){console.error('Resend code error:',error);showError(error.message||'Failed to resend verification code');setCanResend(true);// Allow retry if resend fails\n}};return/*#__PURE__*/_jsxs(\"div\",{className:\"content mcd-style third-party-login verify-code\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"verification-wrap ng-star-inserted\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"verification-txt\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Please enter the 4-digit code sent to\",' ',/*#__PURE__*/_jsx(\"span\",{className:\"player ng-star-inserted\",children:maskedPhoneNumber})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"verification-content\",children:/*#__PURE__*/_jsx(\"form\",{novalidate:true,name:\"one-time-code\",className:\"verification-code ng-untouched ng-pristine ng-valid\",onSubmit:e=>e.preventDefault(),children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"code-1\",className:\"label\",children:\"Number 1\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"code-2\",className:\"label\",children:\"Number 2\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"code-3\",className:\"label\",children:\"Number 3\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"code-4\",className:\"label\",children:\"Number 4\"}),/*#__PURE__*/_jsx(\"div\",{id:\"verification-input\",className:\"verification-input\",children:code.map((digit,index)=>/*#__PURE__*/_jsx(\"input\",{ref:inputRefs[index],type:\"number\",pattern:\"[0-9]*\",min:\"0\",max:\"9\",maxLength:\"1\",value:digit,inputtype:\"numeric\",id:\"code-\".concat(index),className:\"code-input \".concat(digit?'filled':''),onChange:e=>handleCodeChange(index,e.target.value),onKeyDown:e=>handleKeyDown(index,e),onPaste:index===0?handlePaste:undefined,onInput:e=>{if(e.target.value.length>1){e.target.value=e.target.value.slice(0,1);}},disabled:isSubmitting||showSuccess,autoFocus:index===0},index))})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"verification-tips\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Didn't receive code?\",' ',/*#__PURE__*/_jsxs(\"a\",{className:\"resend-btn \".concat(canResend?'active':'disabled'),onClick:handleResendCode,children:[\"Resend\",' ',!canResend&&/*#__PURE__*/_jsx(\"span\",{className:\"time active\",children:formatTime(resendTime)})]})]})})]}),showSuccess&&/*#__PURE__*/_jsx(\"div\",{className:\"pop-wrap pop-success ng-star-inserted\",children:/*#__PURE__*/_jsx(\"div\",{className:\"register-success-wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"register-success-cont\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register-success-txt top-inner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"success-checkmark\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"check-icon\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon-line line-tip\"}),/*#__PURE__*/_jsx(\"span\",{className:\"icon-line line-long\"}),/*#__PURE__*/_jsx(\"div\",{className:\"icon-circle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"icon-fix\"})]})}),/*#__PURE__*/_jsx(\"h4\",{children:\"Success\"})]})})})})]});};export default VerificationCode;","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","useLocation","phoneVerificationService","jsx","_jsx","jsxs","_jsxs","VerificationCode","_ref","_location$state","showError","showSuccess","showWarning","showInfo","navigate","location","code","setCode","isSubmitting","setIsSubmitting","resendTime","setResendTime","canResend","setCanResend","inputRefs","phoneNumber","state","maskedPhoneNumber","replace","timer","setInterval","prev","clearInterval","formatTime","seconds","mins","Math","floor","secs","concat","toString","padStart","handleCodeChange","index","value","numericValue","slice","newCode","current","focus","every","digit","handleSubmit","join","handleKeyDown","e","key","handlePaste","preventDefault","pastedData","clipboardData","getData","numbers","split","forEach","num","nextEmptyIndex","findIndex","verificationCode","arguments","length","undefined","verifyResult","verifyCode","success","updateResult","updatePhoneNumber","setTimeout","error","console","message","handleResendCode","result","resendVerificationCode","className","children","novalidate","name","onSubmit","htmlFor","id","map","ref","type","pattern","min","max","maxLength","inputtype","onChange","target","onKeyDown","onPaste","onInput","disabled","autoFocus","onClick"],"sources":["F:/png71/my-app/src/components/member/AddPhoneNumber/VerificationCode.jsx"],"sourcesContent":["// components/member/VerificationCode/VerificationCode.js\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { phoneVerificationService } from '../../../services/phoneVerificationService';\r\n\r\nconst VerificationCode = ({ showError, showSuccess, showWarning, showInfo }) => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [code, setCode] = useState(['', '', '', '']);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n//   const [showSuccess, setShowSuccess] = useState(false);\r\n  const [resendTime, setResendTime] = useState(285); // 4:45 in seconds\r\n  const [canResend, setCanResend] = useState(false);\r\n  \r\n  const inputRefs = [\r\n    useRef(null),\r\n    useRef(null),\r\n    useRef(null),\r\n    useRef(null)\r\n  ];\r\n\r\n  // Get phone number from navigation state\r\n  const phoneNumber = location.state?.phoneNumber || '+880 13******23';\r\n  const maskedPhoneNumber = phoneNumber ? phoneNumber.replace(/(\\d{4})(\\d+)(\\d{2})/, '$1******$3') : '+880 13******23';\r\n\r\n  // Timer for resend code\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      setResendTime(prev => {\r\n        if (prev <= 1) {\r\n          setCanResend(true);\r\n          return 0;\r\n        }\r\n        return prev - 1;\r\n      });\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  }, []);\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `(${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')})`;\r\n  };\r\n\r\n  const handleCodeChange = (index, value) => {\r\n    const numericValue = value.replace(/\\D/g, '').slice(0, 1);\r\n    \r\n    const newCode = [...code];\r\n    newCode[index] = numericValue;\r\n    setCode(newCode);\r\n\r\n    if (numericValue && index < 3) {\r\n      inputRefs[index + 1].current.focus();\r\n    }\r\n\r\n    if (newCode.every(digit => digit !== '') && index === 3) {\r\n      handleSubmit(newCode.join(''));\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (index, e) => {\r\n    if (e.key === 'Backspace' && !code[index] && index > 0) {\r\n      inputRefs[index - 1].current.focus();\r\n    }\r\n  };\r\n\r\n  const handlePaste = (e) => {\r\n    e.preventDefault();\r\n    const pastedData = e.clipboardData.getData('text');\r\n    const numbers = pastedData.replace(/\\D/g, '').slice(0, 4);\r\n    \r\n    const newCode = [...code];\r\n    numbers.split('').forEach((num, index) => {\r\n      if (index < 4) {\r\n        newCode[index] = num;\r\n      }\r\n    });\r\n    \r\n    setCode(newCode);\r\n    \r\n    const nextEmptyIndex = newCode.findIndex(digit => digit === '');\r\n    if (nextEmptyIndex !== -1) {\r\n      inputRefs[nextEmptyIndex].current.focus();\r\n    } else {\r\n      inputRefs[3].current.focus();\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (verificationCode = code.join('')) => {\r\n    if (verificationCode.length !== 4) {\r\n      showError('Please enter the complete 4-digit verification code');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      // Verify the code\r\n      const verifyResult = await phoneVerificationService.verifyCode(phoneNumber, verificationCode);\r\n      \r\n      if (verifyResult.success) {\r\n        // Update user's phone number in profile\r\n        const updateResult = await phoneVerificationService.updatePhoneNumber(phoneNumber);\r\n        \r\n        if (updateResult.success) {\r\n        //   setShowSuccess(true);\r\n          showSuccess('Phone number verified and updated successfully!');\r\n          \r\n          // Auto navigate back after success\r\n          setTimeout(() => {\r\n            // setShowSuccess(false);\r\n            navigate(-1); // Go back to profile page\r\n          }, 2000);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Verification error:', error);\r\n      \r\n      if (error.code === 400) {\r\n        showError('Invalid verification code');\r\n      } else if (error.code === 410) {\r\n        showError('Verification code has expired');\r\n      } else if (error.code === 429) {\r\n        showError('Too many attempts. Please try again later.');\r\n      } else if (error.code === 500) {\r\n        showError('Server error. Please try again later.');\r\n      } else {\r\n        showError(error.message || 'Verification failed');\r\n      }\r\n      \r\n      // Clear the code on error\r\n      setCode(['', '', '', '']);\r\n      inputRefs[0].current.focus();\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleResendCode = async () => {\r\n    if (!canResend) return;\r\n\r\n    setResendTime(285); // Reset to 4:45\r\n    setCanResend(false);\r\n    setCode(['', '', '', '']);\r\n    inputRefs[0].current.focus();\r\n    \r\n    try {\r\n      const result = await phoneVerificationService.resendVerificationCode(phoneNumber);\r\n      \r\n      if (result.success) {\r\n        // showSuccess(result.message);\r\n      }\r\n    } catch (error) {\r\n      console.error('Resend code error:', error);\r\n      showError(error.message || 'Failed to resend verification code');\r\n      setCanResend(true); // Allow retry if resend fails\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"content mcd-style third-party-login verify-code\">\r\n      <div className=\"verification-wrap ng-star-inserted\">\r\n        <div className=\"verification-txt\">\r\n          <p>\r\n            Please enter the 4-digit code sent to{' '}\r\n            <span className=\"player ng-star-inserted\">{maskedPhoneNumber}</span>\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"verification-content\">\r\n          <form \r\n            novalidate \r\n            name=\"one-time-code\" \r\n            className=\"verification-code ng-untouched ng-pristine ng-valid\"\r\n            onSubmit={(e) => e.preventDefault()}\r\n          >\r\n            <fieldset>\r\n              <label htmlFor=\"code-1\" className=\"label\">Number 1</label>\r\n              <label htmlFor=\"code-2\" className=\"label\">Number 2</label>\r\n              <label htmlFor=\"code-3\" className=\"label\">Number 3</label>\r\n              <label htmlFor=\"code-4\" className=\"label\">Number 4</label>\r\n              \r\n              <div id=\"verification-input\" className=\"verification-input\">\r\n                {code.map((digit, index) => (\r\n                  <input\r\n                    key={index}\r\n                    ref={inputRefs[index]}\r\n                    type=\"number\"\r\n                    pattern=\"[0-9]*\"\r\n                    min=\"0\"\r\n                    max=\"9\"\r\n                    maxLength=\"1\"\r\n                    value={digit}\r\n                    inputtype=\"numeric\"\r\n                    id={`code-${index}`}\r\n                    className={`code-input ${digit ? 'filled' : ''}`}\r\n                    onChange={(e) => handleCodeChange(index, e.target.value)}\r\n                    onKeyDown={(e) => handleKeyDown(index, e)}\r\n                    onPaste={index === 0 ? handlePaste : undefined}\r\n                    onInput={(e) => {\r\n                      if (e.target.value.length > 1) {\r\n                        e.target.value = e.target.value.slice(0, 1);\r\n                      }\r\n                    }}\r\n                    disabled={isSubmitting || showSuccess}\r\n                    autoFocus={index === 0}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </fieldset>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"verification-tips\">\r\n          <p>\r\n            Didn't receive code?{' '}\r\n            <a \r\n              className={`resend-btn ${canResend ? 'active' : 'disabled'}`}\r\n              onClick={handleResendCode}\r\n            >\r\n              Resend{' '}\r\n              {!canResend && (\r\n                <span className=\"time active\">{formatTime(resendTime)}</span>\r\n              )}\r\n            </a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Success Popup */}\r\n      {showSuccess && (\r\n        <div className=\"pop-wrap pop-success ng-star-inserted\">\r\n          <div className=\"register-success-wrap\">\r\n            <div className=\"register-success-cont\">\r\n              <div className=\"register-success-txt top-inner\">\r\n                <div className=\"success-checkmark\">\r\n                  <div className=\"check-icon\">\r\n                    <span className=\"icon-line line-tip\"></span>\r\n                    <span className=\"icon-line line-long\"></span>\r\n                    <div className=\"icon-circle\"></div>\r\n                    <div className=\"icon-fix\"></div>\r\n                  </div>\r\n                </div>\r\n                <h4>Success</h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VerificationCode;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}