{"ast":null,"code":"import { API_ENDPOINTS, API_BASE_URL } from '../utils/constants';\nimport { getToken, clearToken } from '../utils/storage';\nclass ApiClient {\n  constructor(baseURL) {\n    this.baseURL = baseURL;\n  }\n  async request(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n    const token = getToken();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers\n      },\n      ...options\n    };\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    try {\n      const response = await fetch(url, config);\n      if (response.status === 401) {\n        clearToken();\n        window.location.href = '/login';\n        throw new Error('Authentication required');\n      }\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n  get(endpoint, options = {}) {\n    return this.request(endpoint, {\n      ...options,\n      method: 'GET'\n    });\n  }\n  post(endpoint, data = {}, options = {}) {\n    return this.request(endpoint, {\n      ...options,\n      method: 'POST',\n      body: JSON.stringify(data)\n    });\n  }\n  put(endpoint, data = {}, options = {}) {\n    return this.request(endpoint, {\n      ...options,\n      method: 'PUT',\n      body: JSON.stringify(data)\n    });\n  }\n  patch(endpoint, data = {}, options = {}) {\n    return this.request(endpoint, {\n      ...options,\n      method: 'PATCH',\n      body: JSON.stringify(data)\n    });\n  }\n  delete(endpoint, options = {}) {\n    return this.request(endpoint, {\n      ...options,\n      method: 'DELETE'\n    });\n  }\n}\nexport const apiClient = new ApiClient(API_BASE_URL);","map":{"version":3,"names":["API_ENDPOINTS","API_BASE_URL","getToken","clearToken","ApiClient","constructor","baseURL","request","endpoint","options","url","token","config","headers","Authorization","response","fetch","status","window","location","href","Error","ok","errorData","json","catch","message","error","console","get","method","post","data","body","JSON","stringify","put","patch","delete","apiClient"],"sources":["F:/mew png-71/my-app/src/api/index.js"],"sourcesContent":["import { API_ENDPOINTS,API_BASE_URL } from '../utils/constants';\r\nimport { getToken, clearToken } from '../utils/storage';\r\n\r\nclass ApiClient {\r\n  constructor(baseURL) {\r\n    this.baseURL = baseURL;\r\n  }\r\n\r\n  async request(endpoint, options = {}) {\r\n    const url = `${this.baseURL}${endpoint}`;\r\n    const token = getToken();\r\n    \r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    };\r\n\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, config);\r\n      \r\n      if (response.status === 401) {\r\n        clearToken();\r\n        window.location.href = '/login';\r\n        throw new Error('Authentication required');\r\n      }\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('API request failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  get(endpoint, options = {}) {\r\n    return this.request(endpoint, { ...options, method: 'GET' });\r\n  }\r\n\r\n  post(endpoint, data = {}, options = {}) {\r\n    return this.request(endpoint, {\r\n      ...options,\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  put(endpoint, data = {}, options = {}) {\r\n    return this.request(endpoint, {\r\n      ...options,\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  patch(endpoint, data = {}, options = {}) {\r\n    return this.request(endpoint, {\r\n      ...options,\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  delete(endpoint, options = {}) {\r\n    return this.request(endpoint, { ...options, method: 'DELETE' });\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient(API_BASE_URL);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}