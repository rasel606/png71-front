{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{useApi}from\"../../hooks/useApi\";import GameBox from\"../games/GameBox\";import SearchTab from\"../games/SearchTab\";import SearchPage from\"../games/SearchPage\";import SortBar from\"../games/SortBar\";import JackpotBanner from\"../games/JackpotBanner\";import{useGamePlay}from\"../../hooks/useGamePlay\";import{useApp}from\"../../contexts/AppContext\";import{useAuth}from\"../../contexts/AuthContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GamesProvidersPage=()=>{const{category_name,providercode}=useParams();const[data,setData]=useState([]);const[gameData,setGameData]=useState([]);const[selectedProvider,setSelectedProvider]=useState(providercode?[providercode]:\"ALL\");const{gameLaunchState,closeGame,launchGame,setGameLaunchState,handleRefresh}=useApp();const[sortOption,setSortOption]=useState(\"recommend\");const[page,setPage]=useState(0);const[hasMore,setHasMore]=useState(true);const[showSearch,setShowSearch]=useState(false);const[searchQuery,setSearchQuery]=useState(\"\");const[isLoading,setIsLoading]=useState(false);const loader=useRef();const limit=24;const{apiCall}=useApi();const{user,isAuthenticated}=useAuth();const navigate=useNavigate();// const { handleRefresh } = useApp();\nconst{isPlaying,playGameData,showPopup,handlePlay,handleClosePopup}=useGamePlay();// Fetch providers data\nuseEffect(()=>{const fetchData=async()=>{try{setIsLoading(true);const result=await apiCall(\"/New-table-Games-with-Providers\",\"GET\",{category_name:category_name});console.log(\"GamesProvidersPage category result\",result.data);if(result.success){setData(result.data[0]||{});}}catch(error){console.error(\"Error fetching categories:\",error);}finally{setIsLoading(false);}};fetchData();},[category_name]);// Handle provider selection\nconst handleProviderChange=provider=>{let newProvider;if(provider===\"ALL\"){newProvider=\"ALL\";}else{if(selectedProvider===\"ALL\"){newProvider=[provider];}else if(Array.isArray(selectedProvider)){if(selectedProvider.includes(provider)){newProvider=selectedProvider.filter(p=>p!==provider);if(newProvider.length===0){newProvider=\"ALL\";}}else{newProvider=[...selectedProvider,provider];}}else{newProvider=[provider];}}setSelectedProvider(newProvider);setPage(0);setGameData([]);setHasMore(true);};// Fetch games with filters\nconst fetchGames=async()=>{if(!hasMore||isLoading)return;try{setIsLoading(true);const providerParam=selectedProvider===\"ALL\"?\"\":Array.isArray(selectedProvider)?selectedProvider.join(\",\"):selectedProvider;const result=await apiCall(\"/New-Games-with-Providers-By-Category\",\"GET\",{category_name:category_name,page:page,provider:providerParam,gameName:searchQuery,sortBy:sortOption});console.log(\"GET GamesProvidersPage result:\",result);if(result.success){const newGames=result.data||[];if(newGames.length<limit){setHasMore(false);}setGameData(prev=>[...prev,...result.data]);setPage(prev=>prev+1);}if(result.success){if(result.data.length<limit)setHasMore(false);setGameData(prev=>[...prev,...result.data]);setPage(prev=>prev+1);}}catch(error){console.error(\"Error fetching games:\",error);setHasMore(false);}finally{setIsLoading(false);}};// Reset and fetch when filters change\nuseEffect(()=>{setPage(0);setGameData([]);setHasMore(true);},[selectedProvider,searchQuery,sortOption,category_name]);// Initial fetch and when page changes\n// useEffect(() => {\n//   if (page === 0 && hasMore) {\n//     fetchGames();\n//   }\n// }, [page, hasMore]);\n// Infinite scroll setup\nuseEffect(()=>{const observer=new IntersectionObserver(entries=>{if(entries[0].isIntersecting&&hasMore&&!isLoading){fetchGames();}},{threshold:1});const currentLoader=loader.current;if(currentLoader){observer.observe(currentLoader);}return()=>{if(currentLoader){observer.unobserve(currentLoader);}};},[hasMore,isLoading]);const handleSearchConfirm=()=>{setShowSearch(false);setPage(0);setGameData([]);setHasMore(true);};//////////===========================================handle effects lunch game==================//////////\nconst onRefreshBalance=()=>{if(user!==null&&user!==void 0&&user.userId){handleRefresh(user.userId);}};// Fixed handleGamePlay function with authentication check\nconst handleGamePlay=async(game,userId)=>{// If user is not authenticated, redirect to login\n// if (!isAuthenticated || !userId) {\n//   navigate('/login', { \n//     state: { \n//       from: window.location.pathname,\n//     } \n//   });\n//   return;\n// }\n// If user is authenticated, launch the game\nconst result=await launchGame(game);console.log(\"Game launch result:\",result);if(result){console.log(\"Game launched successfully\");}// else if (result.requiresLogin) {\n//   // This should not happen if route guards are working properly\n//   navigate('/login', { \n//     state: { \n//       from: window.location.pathname,\n//       message: \"গেম খেলতে লগইন করুন\" \n//     } \n//   });\n// } \n// else {\n//   console.error(\"Game launch failed:\", result.error);\n//   // You can show an error notification here\n// }\n};// Handle game link click with authentication\n// const handleGameLinkClick = (game) => {\n//   // e.preventDefault();\n//   handleGamePlay(game);\n// };\n//////////===========================================handle effects lunch game==================//////////\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"content mcd-style\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content-main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"games\",children:[/*#__PURE__*/_jsx(JackpotBanner,{}),/*#__PURE__*/_jsx(SearchTab,{providers:data.uniqueProviders||[],selectedProvider:selectedProvider,onProviderChange:handleProviderChange,showSearch:showSearch,setShowSearch:setShowSearch}),/*#__PURE__*/_jsx(SearchPage,{showSearch:showSearch,setShowSearch:setShowSearch,providers:data.uniqueProviders||[],selectedProvider:selectedProvider,onProviderChange:handleProviderChange,searchQuery:searchQuery,setSearchQuery:setSearchQuery,onConfirm:handleSearchConfirm}),/*#__PURE__*/_jsx(SortBar,{sortOption:sortOption,setSortOption:setSortOption,title:category_name||\"Games\"}),/*#__PURE__*/_jsx(\"div\",{className:\"games-main\",children:gameData.map(game=>/*#__PURE__*/_jsx(GameBox,{game:game,onPlay:game=>handleGamePlay(game,user===null||user===void 0?void 0:user.userId),type:\"game\"},game._id))}),/*#__PURE__*/_jsxs(\"div\",{ref:loader,className:\"loading\",children:[isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"list-loading\",children:\"Loading more games...\"}),!hasMore&&gameData.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"prompt\",children:\"\\uFF0Dend of page\\uFF0D\"}),!hasMore&&gameData.length===0&&!isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"prompt\",children:\"No games found\"})]})]})})})});};export default GamesProvidersPage;","map":{"version":3,"names":["React","useEffect","useRef","useState","useNavigate","useParams","useApi","GameBox","SearchTab","SearchPage","SortBar","JackpotBanner","useGamePlay","useApp","useAuth","jsx","_jsx","jsxs","_jsxs","GamesProvidersPage","category_name","providercode","data","setData","gameData","setGameData","selectedProvider","setSelectedProvider","gameLaunchState","closeGame","launchGame","setGameLaunchState","handleRefresh","sortOption","setSortOption","page","setPage","hasMore","setHasMore","showSearch","setShowSearch","searchQuery","setSearchQuery","isLoading","setIsLoading","loader","limit","apiCall","user","isAuthenticated","navigate","isPlaying","playGameData","showPopup","handlePlay","handleClosePopup","fetchData","result","console","log","success","error","handleProviderChange","provider","newProvider","Array","isArray","includes","filter","p","length","fetchGames","providerParam","join","gameName","sortBy","newGames","prev","observer","IntersectionObserver","entries","isIntersecting","threshold","currentLoader","current","observe","unobserve","handleSearchConfirm","onRefreshBalance","userId","handleGamePlay","game","className","children","providers","uniqueProviders","onProviderChange","onConfirm","title","map","onPlay","type","_id","ref"],"sources":["F:/png71/my-app/src/components/pages/GamesProvidersPage.jsx"],"sourcesContent":["\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { useApi } from \"../../hooks/useApi\";\r\nimport GameBox from \"../games/GameBox\";\r\nimport SearchTab from \"../games/SearchTab\";\r\nimport SearchPage from \"../games/SearchPage\";\r\nimport SortBar from \"../games/SortBar\";\r\nimport JackpotBanner from \"../games/JackpotBanner\";\r\nimport { useGamePlay } from \"../../hooks/useGamePlay\";\r\nimport { useApp } from \"../../contexts/AppContext\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\n\r\nconst GamesProvidersPage = () => {\r\n  const { category_name, providercode } = useParams();\r\n  const [data, setData] = useState([]);\r\n  const [gameData, setGameData] = useState([]);\r\n  const [selectedProvider, setSelectedProvider] = useState(\r\n    providercode ? [providercode] : \"ALL\"\r\n  );\r\n\r\n  const { gameLaunchState, closeGame, launchGame, setGameLaunchState,handleRefresh } = useApp();\r\n  const [sortOption, setSortOption] = useState(\"recommend\");\r\n  const [page, setPage] = useState(0);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [showSearch, setShowSearch] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const loader = useRef();\r\n  const limit = 24;\r\n  const { apiCall } = useApi();\r\n  const { user,isAuthenticated } = useAuth();\r\n  const navigate = useNavigate();\r\n  // const { handleRefresh } = useApp();\r\n\r\n\r\n  const { \r\n    isPlaying, \r\n    playGameData, \r\n    showPopup, \r\n    handlePlay, \r\n    handleClosePopup \r\n  } = useGamePlay();\r\n\r\n  // Fetch providers data\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        const result = await apiCall(\"/New-table-Games-with-Providers\", \"GET\", {\r\n          category_name: category_name,\r\n        });\r\n        console.log(\"GamesProvidersPage category result\", result.data);\r\n        if (result.success) {\r\n          setData(result.data[0] || {});\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching categories:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [category_name]);\r\n\r\n  // Handle provider selection\r\n  const handleProviderChange = (provider) => {\r\n    let newProvider;\r\n    \r\n    if (provider === \"ALL\") {\r\n      newProvider = \"ALL\";\r\n    } else {\r\n      if (selectedProvider === \"ALL\") {\r\n        newProvider = [provider];\r\n      } else if (Array.isArray(selectedProvider)) {\r\n        if (selectedProvider.includes(provider)) {\r\n          newProvider = selectedProvider.filter((p) => p !== provider);\r\n          if (newProvider.length === 0) {\r\n            newProvider = \"ALL\";\r\n          }\r\n        } else {\r\n          newProvider = [...selectedProvider, provider];\r\n        }\r\n      } else {\r\n        newProvider = [provider];\r\n      }\r\n    }\r\n\r\n    setSelectedProvider(newProvider);\r\n    setPage(0);\r\n    setGameData([]);\r\n    setHasMore(true);\r\n  };\r\n\r\n  // Fetch games with filters\r\n  const fetchGames = async () => {\r\n    if (!hasMore || isLoading) return;\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      const providerParam = selectedProvider === \"ALL\" \r\n        ? \"\" \r\n        : Array.isArray(selectedProvider) \r\n          ? selectedProvider.join(\",\") \r\n          : selectedProvider;\r\n\r\n      const result = await apiCall(\r\n        \"/New-Games-with-Providers-By-Category\",\r\n        \"GET\",\r\n        {\r\n          category_name: category_name,\r\n          page: page,\r\n          provider: providerParam,\r\n          gameName: searchQuery,\r\n          sortBy: sortOption,\r\n        }\r\n      );\r\n\r\n      console.log(\"GET GamesProvidersPage result:\", result);\r\n\r\n      if (result.success) {\r\n        const newGames = result.data || [];\r\n        if (newGames.length < limit) {\r\n          setHasMore(false);\r\n        }\r\n        setGameData((prev) => [...prev, ...result.data]);\r\n        setPage((prev) => prev + 1);\r\n      }\r\n\r\n\r\n      if (result.success) {\r\n        if (result.data.length < limit) setHasMore(false);\r\n        setGameData((prev) => [...prev, ...result.data]);\r\n\r\n        setPage((prev) => prev + 1);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching games:\", error);\r\n      setHasMore(false);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Reset and fetch when filters change\r\n  useEffect(() => {\r\n    setPage(0);\r\n    setGameData([]);\r\n    setHasMore(true);\r\n  }, [selectedProvider, searchQuery, sortOption, category_name]);\r\n\r\n  // Initial fetch and when page changes\r\n  // useEffect(() => {\r\n  //   if (page === 0 && hasMore) {\r\n  //     fetchGames();\r\n  //   }\r\n  // }, [page, hasMore]);\r\n\r\n  // Infinite scroll setup\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting && hasMore && !isLoading) {\r\n          fetchGames();\r\n        }\r\n      },\r\n      { threshold: 1 }\r\n    );\r\n\r\n    const currentLoader = loader.current;\r\n    if (currentLoader) {\r\n      observer.observe(currentLoader);\r\n    }\r\n\r\n    return () => {\r\n      if (currentLoader) {\r\n        observer.unobserve(currentLoader);\r\n      }\r\n    };\r\n  }, [hasMore, isLoading]);\r\n\r\n  const handleSearchConfirm = () => {\r\n    setShowSearch(false);\r\n    setPage(0);\r\n    setGameData([]);\r\n    setHasMore(true);\r\n  };\r\n\r\n  //////////===========================================handle effects lunch game==================//////////\r\n\r\n\r\n  const onRefreshBalance = () => {\r\n    if (user?.userId) {\r\n      handleRefresh(user.userId);\r\n    }\r\n  };\r\n\r\n  // Fixed handleGamePlay function with authentication check\r\n  const handleGamePlay = async (game,userId) => {\r\n \r\n    // If user is not authenticated, redirect to login\r\n    // if (!isAuthenticated || !userId) {\r\n    //   navigate('/login', { \r\n    //     state: { \r\n    //       from: window.location.pathname,\r\n         \r\n    //     } \r\n    //   });\r\n    //   return;\r\n    // }\r\n\r\n    // If user is authenticated, launch the game\r\n    const result = await launchGame(game);\r\n    console.log(\"Game launch result:\", result);\r\n    if (result) {\r\n      console.log(\"Game launched successfully\");\r\n    } \r\n    \r\n    // else if (result.requiresLogin) {\r\n    //   // This should not happen if route guards are working properly\r\n    //   navigate('/login', { \r\n    //     state: { \r\n    //       from: window.location.pathname,\r\n    //       message: \"গেম খেলতে লগইন করুন\" \r\n    //     } \r\n    //   });\r\n    // } \r\n    // else {\r\n    //   console.error(\"Game launch failed:\", result.error);\r\n    //   // You can show an error notification here\r\n    // }\r\n  };\r\n\r\n  // Handle game link click with authentication\r\n  // const handleGameLinkClick = (game) => {\r\n  //   // e.preventDefault();\r\n  //   handleGamePlay(game);\r\n  // };\r\n\r\n\r\n//////////===========================================handle effects lunch game==================//////////\r\n\r\n  return (\r\n    <div className=\"content mcd-style\">\r\n      <div className=\"content-main\">\r\n        <div className=\"content-box\">\r\n          <div className=\"games\">\r\n            <JackpotBanner />\r\n            \r\n            {/* Search Tab Component */}\r\n            <SearchTab\r\n              providers={data.uniqueProviders || []}\r\n              selectedProvider={selectedProvider}\r\n              onProviderChange={handleProviderChange}\r\n              showSearch={showSearch}\r\n              setShowSearch={setShowSearch}\r\n            />\r\n\r\n            {/* Search Page Component */}\r\n            <SearchPage\r\n              showSearch={showSearch}\r\n              setShowSearch={setShowSearch}\r\n              providers={data.uniqueProviders || []}\r\n              selectedProvider={selectedProvider}\r\n              onProviderChange={handleProviderChange}\r\n              searchQuery={searchQuery}\r\n              setSearchQuery={setSearchQuery}\r\n              onConfirm={handleSearchConfirm}\r\n            />\r\n\r\n            {/* Sort Bar Component */}\r\n            <SortBar \r\n              sortOption={sortOption} \r\n              setSortOption={setSortOption} \r\n              title={category_name || \"Games\"}\r\n            />\r\n\r\n            {/* Games Grid */}\r\n            <div className=\"games-main\">\r\n              {gameData.map((game) => (\r\n                <GameBox\r\n                  key={game._id}\r\n                  game={game}\r\n                  onPlay={(game) => handleGamePlay(game, user?.userId)}\r\n                  type=\"game\"\r\n                />\r\n              ))}\r\n            </div>\r\n\r\n            {/* Loading and End of Page */}\r\n            <div ref={loader} className=\"loading\">\r\n              {isLoading && <div className=\"list-loading\">Loading more games...</div>}\r\n              {!hasMore && gameData.length > 0 && (\r\n                <div className=\"prompt\">－end of page－</div>\r\n              )}\r\n              {!hasMore && gameData.length === 0 && !isLoading && (\r\n                <div className=\"prompt\">No games found</div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Game Popup would go here */}\r\n      {/* {showPopup && (\r\n        <GamePopup\r\n          showPopup={showPopup}\r\n          playGameData={playGameData}\r\n          onClose={handleClosePopup}\r\n          title=\"Game\"\r\n        />\r\n      )} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GamesProvidersPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}