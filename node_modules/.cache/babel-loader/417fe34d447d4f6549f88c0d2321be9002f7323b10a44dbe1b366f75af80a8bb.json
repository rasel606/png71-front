{"ast":null,"code":"var _jsxFileName = \"F:\\\\png71\\\\my-app\\\\src\\\\components\\\\common\\\\Carousel.js\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// import React, { useState, useEffect, useRef, useCallback } from 'react';\n// import { usePopup } from '../layouts/PopupManager';\n// import PromotionInfo from '../member/PromotionPage/PromotionInfo';\n\n// const Carousel = ({ \n\n//   autoPlay = true, \n//   delay = 5000,\n//   showDots = true,\n//   showArrows = true,\n//   draggable = true,\n//   itemWidth = 265.6 ,// Default width from the example\n//   //  showError, showSuccess\n// }) => {\n//   const [currentIndex, setCurrentIndex] = useState(0);\n//   const [isDragging, setIsDragging] = useState(false);\n//   const [startX, setStartX] = useState(0);\n//   const [translateX, setTranslateX] = useState(0);\n//   const carouselRef = useRef(null);\n//   const autoPlayRef = useRef(null);\n\n//   const items = [\n//       {\n//         id: 1,\n//         title: \"4% Unlimited Bonus + Free Spins\",\n//         description: \"Starts at 10:00 PM, to next day 9:59 PM BST!\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\n//         type: \"Limited Offer\",\n//         buttonType: \"apply\",\n//         category: \"new-promotions\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\n//         howToJoin: [\n//           \"লগইন করুন আপনার অ্যাকাউন্টে\",\n//           \"প্রোমোশন পৃষ্ঠায় যান\",\n//           \"বোনাসে আবেদন করুন\",\n//           \"জয় করুন আকর্ষণীয় পুরস্কার!\"\n//         ],\n//         bonusDetails: [\n//           { label: \"বোনাস পরিমাণ\", value: \"4% আনলিমিটেড\" },\n//           { label: \"মিনিমাম ডিপোজিট\", value: \"৳500\" },\n//           { label: \"মুক্ত স্পিন\", value: \"20 ফ্রি স্পিন\" },\n//           { label: \"বৈধতা\", value: \"7 দিন\" }\n//         ],\n//         termsAndConditions: [\n//           \"শুধুমাত্র 18+ ব্যবহারকারীদের জন্য প্রযোজ্য\",\n//           \"নূন্যতম ডিপোজিট ৳500 প্রয়োজন\",\n//           \"বোনাস 10x ওয়েজার প্রয়োজন\",\n//           \"একটি অ্যাকাউন্টে শুধুমাত্র একবার ব্যবহার করা যাবে\"\n//         ]\n//       },\n//       {\n//         id: 2,\n//         title: \"HEYVIP JILI LUCKY MACAW\",\n//         description: \"100% Weekly Winning Contest!\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_301526.jpg\",\n//         type: \"HEYVIP Offer\",\n//         buttonType: \"detail\",\n//         category: \"slots\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_301526.jpg\",\n//         howToJoin: [\n//           \"HEYVIP গেমসে অংশগ্রহণ করুন\",\n//           \"সাপ্তাহিক প্রতিযোগিতায় অংশ নিন\",\n//           \"সর্বোচ্চ জয় সংগ্রহ করুন\",\n//           \"পুরস্কার দাবি করুন\"\n//         ],\n//         bonusDetails: [\n//           { label: \"প্রতিযোগিতা ধরন\", value: \"সাপ্তাহিক\" },\n//           { label: \"পুরস্কার পুল\", value: \"৳50,000\" },\n//           { label: \"অংশগ্রহণের সময়\", value: \"সোমবার - রবিবার\" },\n//           { label: \"বিজয়ী ঘোষণা\", value: \"প্রতি সোমবার\" }\n//         ],\n//         termsAndConditions: [\n//           \"সমস্ত HEYVIP গেম প্রযোজ্য\",\n//           \"সাপ্তাহিক টুর্নামেন্ট ভিত্তিক\",\n//           \"শীর্ষ 50 খেলোয়াড় পুরস্কার পাবেন\",\n//           \"যেকোন সময় নিয়ম পরিবর্তনের অধিকার সংরক্ষিত\"\n//         ]\n//       },\n//       {\n//         id: 3,\n//         title: \"100% Deposit Bonus on PP Game\",\n//         description: \"Oracle Of Gold Exclusive\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_301818.jpg\",\n//         type: \"Limited Offer\",\n//         buttonType: \"apply\",\n//         category: \"slots\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_301818.jpg\",\n//         howToJoin: [\n//           \"প্রাগম্যাটিক প্লে গেম নির্বাচন করুন\",\n//           \"ডিপোজিট করুন নূন্যতম ৳1000\",\n//           \"স্বয়ংক্রিয়ভাবে 100% বোনাস পান\",\n//           \"Oracle Of Gold গেমে ব্যবহার করুন\"\n//         ],\n//         bonusDetails: [\n//           { label: \"বোনাস পরিমাণ\", value: \"100% ডিপোজিট\" },\n//           { label: \"মিনিমাম ডিপোজিট\", value: \"৳1000\" },\n//           { label: \"সর্বোচ্চ বোনাস\", value: \"৳10,000\" },\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"Oracle Of Gold\" }\n//         ],\n//         termsAndConditions: [\n//           \"শুধুমাত্র প্রাগম্যাটিক প্লে গেমস\",\n//           \"বোনাস 15x ওয়েজার প্রয়োজন\",\n//           \"7 দিনের মধ্যে ব্যবহার করতে হবে\",\n//           \"নগদীকরণের আগে শর্ত পূরণ করুন\"\n//         ]\n//       },\n//       {\n//         id: 4,\n//         title: \"Daily Attendance Bonus\",\n//         description: \"Stay Active, Win Every Day!\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_289817.jpg\",\n//         type: \"PRAGMATIC PLAY Special\",\n//         buttonType: \"detail\",\n//         category: \"live-casino\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_289817.jpg\",\n//         howToJoin: [\n//           \"প্রতিদিন লগইন করুন\",\n//           \"অ্যাটেনডেন্স বোনাস ক্লিক করুন\",\n//           \"দৈনিক পুরস্কার সংগ্রহ করুন\",\n//           \"7 দিন ক্রমাগত বোনাস পান\"\n//         ],\n//         bonusDetails: [\n//           { label: \"দিন 1\", value: \"৳50 ফ্রি ক্রেডিট\" },\n//           { label: \"দিন 2\", value: \"10 ফ্রি স্পিন\" },\n//           { label: \"দিন 3\", value: \"৳100 বোনাস\" },\n//           { label: \"দিন 7\", value: \"৳500 বিশেষ বোনাস\" }\n//         ],\n//         termsAndConditions: [\n//           \"প্রতিদিন লগইন প্রয়োজন\",\n//           \"24 ঘন্টার মধ্যে ক্লেইম করতে হবে\",\n//           \"ক্রমান্বয়ে 7 দিন পুরস্কার\",\n//           \"যেকোন দিন মিস করলে রিসেট হবে\"\n//         ]\n//       },\n//       {\n//         id: 5,\n//         title: \"Deposit & Get 200 Free Spins\",\n//         description: \"Enjoy extra spin in every deposit!\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_290977.jpg\",\n//         type: \"HEYVIP Special\",\n//         buttonType: \"apply\",\n//         category: \"slots\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_290977.jpg\",\n//         howToJoin: [\n//           \"যেকোনো পরিমাণ ডিপোজিট করুন\",\n//           \"স্বয়ংক্রিয়ভাবে 200 ফ্রি স্পিন পান\",\n//           \"নির্বাচিত স্লট গেমে ব্যবহার করুন\",\n//           \"জিতুন বড় পুরস্কার\"\n//         ],\n//         bonusDetails: [\n//           { label: \"ফ্রি স্পিন\", value: \"200 স্পিন\" },\n//           { label: \"মিনিমাম ডিপোজিট\", value: \"৳500\" },\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"নির্বাচিত স্লট\" },\n//           { label: \"বৈধতা\", value: \"3 দিন\" }\n//         ],\n//         termsAndConditions: [\n//           \"যেকোনো ডিপোজিটে প্রযোজ্য\",\n//           \"ফ্রি স্পিন 3 দিনের মধ্যে ব্যবহার করুন\",\n//           \"জয়ের ওয়েজার 20x প্রয়োজন\",\n//           \"একদিনে একবার ব্যবহার করা যাবে\"\n//         ]\n//       },\n//       {\n//         id: 6,\n//         title: \"৳500 Welcome Bonus on All Games\",\n//         description: \"Get Unlimited Withdrawal!\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_258671.jpg\",\n//         type: \"Welcome Offer\",\n//         buttonType: \"detail\",\n//         category: \"new-promotions\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_258671.jpg\",\n//         howToJoin: [\n//           \"নতুন অ্যাকাউন্ট রেজিস্টার করুন\",\n//           \"প্রথম ডিপোজিট করুন\",\n//           \"স্বয়ংক্রিয়ভাবে ৳500 বোনাস পান\",\n//           \"সমস্ত গেমে ব্যবহার করুন\"\n//         ],\n//         bonusDetails: [\n//           { label: \"বোনাস পরিমাণ\", value: \"৳500 ওয়েলকাম\" },\n//           { label: \"ডিপোজিট প্রয়োজন\", value: \"প্রথম ডিপোজিট\" },\n//           { label: \"সর্বোচ্চ উইথড্রয়াল\", value: \"আনলিমিটেড\" },\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"সমস্ত গেম\" }\n//         ],\n//         termsAndConditions: [\n//           \"শুধুমাত্র নতুন রেজিস্ট্রেশনের জন্য\",\n//           \"KYC ভেরিফিকেশন প্রয়োজন\",\n//           \"বোনাস 5x ওয়েজার প্রয়োজন\",\n//           \"30 দিনের মধ্যে ব্যবহার করতে হবে\"\n//         ]\n//       },\n//       {\n//         id: 7,\n//         title: \"৳8,000 Daily Sports Reload Bonus\",\n//         description: \"ICC Women's World Cup Special\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_290585.jpg\",\n//         type: \"Limited Offer\",\n//         buttonType: \"apply\",\n//         category: \"sports\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_290585.jpg\",\n//         howToJoin: [\n//           \"স্পোর্টস বিভাগে যান\",\n//           \"যেকোনো ক্রীড়া ইভেন্টে বেট করুন\",\n//           \"দৈনিক ৳8,000 পর্যন্ত বোনাস পান\",\n//           \"আরও বেট করতে ব্যবহার করুন\"\n//         ],\n//         bonusDetails: [\n//           { label: \"বোনাস পরিমাণ\", value: \"৳8,000 দৈনিক\" },\n//           { label: \"বোনাস ধরন\", value: \"রিলোড বোনাস\" },\n//           { label: \"বেট প্রয়োজন\", value: \"যেকোনো স্পোর্টস\" },\n//           { label: \"বৈধতা\", value: \"প্রতিদিন\" }\n//         ],\n//         termsAndConditions: [\n//           \"শুধুমাত্র স্পোর্টস বেটিং\",\n//           \"ন্যূনতম বেট ৳500\",\n//           \"বোনাস 8x রোলওভার প্রয়োজন\",\n//           \"প্রতিদিন একবার ব্যবহার করা যাবে\"\n//         ]\n//       },\n//       {\n//         id: 8,\n//         title: \"৳10,800 Weekly Reload Bonus On Slots\",\n//         description: \"Progressive slot rewards every time you deposit!\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_270781.jpg\",\n//         type: \"Limited Offer\",\n//         buttonType: \"apply\",\n//         category: \"slots\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_270781.jpg\",\n//         howToJoin: [\n//           \"স্লট গেমসে ডিপোজিট করুন\",\n//           \"সাপ্তাহিক রিলোড বোনাস পান\",\n//           \"৳10,800 পর্যন্ত সংগ্রহ করুন\",\n//           \"আরও গেম খেলুন\"\n//         ],\n//         bonusDetails: [\n//           { label: \"সর্বোচ্চ বোনাস\", value: \"৳10,800\" },\n//           { label: \"বোনাস ধরন\", value: \"সাপ্তাহিক রিলোড\" },\n//           { label: \"ডিপোজিট ফ্রিকোয়েন্সি\", value: \"সাপ্তাহিক\" },\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"স্লট গেমস\" }\n//         ],\n//         termsAndConditions: [\n//           \"শুধুমাত্র স্লট গেমসে প্রযোজ্য\",\n//           \"সাপ্তাহিক ডিপোজিট প্রয়োজন\",\n//           \"বোনাস 10x ওয়েজার প্রয়োজন\",\n//           \"প্রতি সপ্তাহে একবার\"\n//         ]\n//       }\n//     ];\n\n//   const nextSlide = useCallback(() => {\n//     setCurrentIndex(prev => (prev + 1) % items.length);\n//     setTranslateX(0);\n//   }, [items.length]);\n\n//   const prevSlide = useCallback(() => {\n//     setCurrentIndex(prev => (prev - 1 + items.length) % items.length);\n//     setTranslateX(0);\n//   }, [items.length]);\n\n//   const goToSlide = (index) => {\n//     setCurrentIndex(index);\n//     setTranslateX(0);\n//   };\n\n//   // Auto-play with pause on hover\n//   useEffect(() => {\n//     if (!autoPlay || items.length <= 1) return;\n\n//     const startAutoPlay = () => {\n//       autoPlayRef.current = setInterval(nextSlide, delay);\n//     };\n\n//     const stopAutoPlay = () => {\n//       if (autoPlayRef.current) {\n//         clearInterval(autoPlayRef.current);\n//       }\n//     };\n\n//     startAutoPlay();\n\n//     // Pause on hover\n//     const carousel = carouselRef.current;\n//     if (carousel) {\n//       carousel.addEventListener('mouseenter', stopAutoPlay);\n//       carousel.addEventListener('mouseleave', startAutoPlay);\n//     }\n\n//     return () => {\n//       stopAutoPlay();\n//       if (carousel) {\n//         carousel.removeEventListener('mouseenter', stopAutoPlay);\n//         carousel.removeEventListener('mouseleave', startAutoPlay);\n//       }\n//     };\n//   }, [autoPlay, delay, nextSlide, items.length]);\n\n//   // Drag functionality\n//   const handleDragStart = (e) => {\n//     if (!draggable) return;\n//     setIsDragging(true);\n//     setStartX(e.type.includes('mouse') ? e.clientX : e.touches[0].clientX);\n//   };\n\n//   const handleDragMove = (e) => {\n//     if (!isDragging || !draggable) return;\n//     const currentX = e.type.includes('mouse') ? e.clientX : e.touches[0].clientX;\n//     setTranslateX(currentX - startX);\n//   };\n\n//   const handleDragEnd = () => {\n//     if (!isDragging || !draggable) return;\n//     setIsDragging(false);\n\n//     const dragThreshold = 100;\n//     if (Math.abs(translateX) > dragThreshold) {\n//       if (translateX > 0) {\n//         prevSlide();\n//       } else {\n//         nextSlide();\n//       }\n//     }\n//     setTranslateX(0);\n//   };\n//   const { openPopup, closePopup } = usePopup();\n\n//   const handlePromoDetail = useCallback((promotion) => {\n//     openPopup(\n//       <PromotionInfo\n//         promotion={promotion}\n//         // showSuccess={showSuccess}\n//         onClose={() => {}}\n//       />,\n//       { \n//         contentClass: 'promotionPop',\n//         size: 'large'\n//       }\n//     );\n//   }, [openPopup]);\n\n//   // const handlePromoAction = useCallback((promotion) => {\n\n//   //     handlePromoDetail(promotion);\n//   //     closePopup();\n//   // }, [showSuccess, handlePromoDetail]);\n\n//   return (\n//     <div className=\"mcd-carousel-banner\" ref={carouselRef}>\n//       <div dir=\"ltr\" className=\"banner\">\n//         <div className=\"banner-v1\">\n//           <div className=\"carousel-wrap style-init mcd siblings\">\n//             {/* Drag container */}\n//             <div \n//               className=\"cdk-drag item-drag\"\n//               style={{ transform: `translate3d(${translateX}px, 0px, 0px)` }}\n//               onMouseDown={handleDragStart}\n//               onMouseMove={handleDragMove}\n//               onMouseUp={handleDragEnd}\n//               onMouseLeave={handleDragEnd}\n//               onTouchStart={handleDragStart}\n//               onTouchMove={handleDragMove}\n//               onTouchEnd={handleDragEnd}\n//             >\n//               <div className=\"item-left\">\n//                 <div \n//                   className=\"item-wrap\"\n//                   style={{ \n//                     transform: `translateX(-${currentIndex * itemWidth  + translateX }px)`,\n//                     transition: isDragging ? 'none' : 'transform 0.3s ease'\n//                   }}\n//                 >\n//                   {items.map((item, index) => (\n//                     <div\n//                       key={item.id || index}\n//                       className=\"item\"\n//                       style={{ width: `${itemWidth}px` }}\n//                       data-idx={index}\n//                       data-message-id={item.messageId}\n//                       onClick={() => handlePromoDetail(item)}\n//                     >\n//                       <div\n//                         className=\"item-pic\"\n//                         style={{ backgroundImage: `url(\"${item.image}\")` }}\n\n//                         role=\"button\"\n//                         tabIndex={0}\n//                         onKeyPress={(e) => {\n//                           if (e.key === 'Enter' && item.onClick) {\n//                             handlePromoDetail(item);\n//                           }\n//                         }}\n//                       />\n//                     </div>\n//                   ))}\n//                 </div>\n//               </div>\n//             </div>\n\n//             {/* Dot Navigation */}\n//             {showDots && items.length > 1 && (\n//               <ul className=\"dot-group style-bar\">\n//                 {items.map((_, index) => (\n//                   <li\n//                     key={index}\n//                     className={index === currentIndex ? 'active' : ''}\n//                     onClick={() => goToSlide(index)}\n//                     data-idx={index}\n//                   >\n//                     <span \n//                       className=\"dot-progress\" \n//                       style={{ \n//                         animationDuration: index === currentIndex ? `${delay}ms` : '0ms'\n//                       }}\n//                     />\n//                   </li>\n//                 ))}\n//               </ul>\n//             )}\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Carousel;\nconst defaultImages = propImages && propImages.length ? propImages : [\"https://img.s628b.com/upload/h5Announcement/image_305643.jpg\", \"https://img.s628b.com/upload/h5Announcement/image_306220.jpg\", \"https://img.s628b.com/upload/h5Announcement/image_305443.jpg\", \"https://img.s628b.com/upload/h5Announcement/image_274796.png\", \"https://img.s628b.com/upload/h5Announcement/image_309851.jpg\"];\nexport default _s(({\n  images: propImages\n}) => {\n  _s();\n  const images = defaultImages;\n  const viewportRef = useRef(null);\n  const trackRef = useRef(null);\n  const itemsRef = useRef([]);\n  const [itemW, setItemW] = useState(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const posRef = useRef(0);\n  const velocityRef = useRef(0);\n  const isDraggingRef = useRef(false);\n  const prevPointerXRef = useRef(0);\n  const lastTimeRef = useRef(0);\n  const autoplayTl = useRef(null);\n  const looped = [...images, ...images];\n\n  // Utility to set translateX\n  const setX = x => {\n    posRef.current = x;\n    if (trackRef.current) trackRef.current.style.transform = `translateX(${x}px)`;\n  };\n  const normalizePosition = () => {\n    const total = itemW * images.length;\n    if (!total) return;\n    if (Math.abs(posRef.current) >= total) {\n      const n = Math.floor(Math.abs(posRef.current) / total);\n      posRef.current += n * total;\n      trackRef.current.style.transition = \"none\";\n      setX(posRef.current);\n      void trackRef.current.offsetWidth;\n      trackRef.current.style.transition = \"\";\n    }\n    if (posRef.current > 0) {\n      const n = Math.ceil(posRef.current / total);\n      posRef.current -= n * total;\n      trackRef.current.style.transition = \"none\";\n      setX(posRef.current);\n      void trackRef.current.offsetWidth;\n      trackRef.current.style.transition = \"\";\n    }\n  };\n  const updateActive = () => {\n    if (!itemW) return;\n    const step = Math.round(Math.abs(posRef.current) / itemW);\n    const idx = (step % images.length + images.length) % images.length;\n    setActiveIndex(idx);\n  };\n\n  // Autoplay using GSAP timeline\n  const startAutoplay = () => {\n    stopAutoplay();\n    if (!trackRef.current || itemW === 0) return;\n    autoplayTl.current = gsap.timeline({\n      repeat: -1,\n      paused: true\n    });\n    autoplayTl.current.to({}, {\n      duration: 2\n    }); // hold\n    autoplayTl.current.to(trackRef.current, {\n      x: `-=${itemW}`,\n      duration: 1,\n      ease: \"power2.inOut\",\n      onComplete: () => {\n        posRef.current -= itemW;\n        normalizePosition();\n        updateActive();\n      }\n    });\n    autoplayTl.current.repeat(-1);\n    autoplayTl.current.play();\n  };\n  const stopAutoplay = () => {\n    if (autoplayTl.current) {\n      autoplayTl.current.kill();\n      autoplayTl.current = null;\n    }\n  };\n\n  // Pointer drag handlers\n  useEffect(() => {\n    const vp = viewportRef.current;\n    const track = trackRef.current;\n    if (!vp || !track) return;\n    let pointerId = null;\n    const onDown = e => {\n      if (e.pointerType === \"mouse\" && e.button !== 0) return;\n      isDraggingRef.current = true;\n      pointerId = e.pointerId;\n      try {\n        vp.setPointerCapture(pointerId);\n      } catch {}\n      prevPointerXRef.current = e.clientX;\n      lastTimeRef.current = performance.now();\n      velocityRef.current = 0;\n      stopAutoplay();\n      gsap.killTweensOf(track);\n      track.style.transition = \"none\";\n    };\n    const onMove = e => {\n      if (!isDraggingRef.current || e.pointerId !== pointerId) return;\n      const now = performance.now();\n      const dx = e.clientX - prevPointerXRef.current;\n      const dt = Math.max(1, now - lastTimeRef.current);\n      velocityRef.current = dx / dt;\n      lastTimeRef.current = now;\n      prevPointerXRef.current = e.clientX;\n      setX(posRef.current + dx);\n    };\n    const onUp = e => {\n      if (!isDraggingRef.current || e.pointerId !== pointerId) return;\n      isDraggingRef.current = false;\n      try {\n        vp.releasePointerCapture(pointerId);\n      } catch {}\n      // momentum\n      const k = 300;\n      const displacement = velocityRef.current * k;\n      let target = posRef.current + displacement;\n      if (itemW > 0) {\n        const nearest = Math.round(target / itemW) * itemW;\n        target = nearest;\n      }\n      gsap.to(track, {\n        x: target,\n        duration: Math.min(1.2, Math.abs(displacement) / 1000 + 0.3),\n        ease: \"power3.out\",\n        onUpdate: () => {\n          const matrix = window.getComputedStyle(track).transform;\n          if (matrix && matrix !== \"none\") {\n            const vals = matrix.match(/matrix.*\\((.+)\\)/)[1].split(\", \");\n            posRef.current = parseFloat(vals[4]);\n            updateActive();\n          }\n        },\n        onComplete: () => {\n          posRef.current = target;\n          normalizePosition();\n          updateActive();\n          startAutoplay();\n        }\n      });\n    };\n    vp.addEventListener(\"pointerdown\", onDown);\n    vp.addEventListener(\"pointermove\", onMove);\n    window.addEventListener(\"pointerup\", onUp);\n    window.addEventListener(\"pointercancel\", onUp);\n    return () => {\n      vp.removeEventListener(\"pointerdown\", onDown);\n      vp.removeEventListener(\"pointermove\", onMove);\n      window.removeEventListener(\"pointerup\", onUp);\n      window.removeEventListener(\"pointercancel\", onUp);\n    };\n    // eslint-disable-next-line\n  }, [itemW]);\n\n  // ResizeObserver to set item width\n  useEffect(() => {\n    const vp = viewportRef.current;\n    if (!vp) return;\n    const ro = new ResizeObserver(() => {\n      const first = itemsRef.current[0];\n      if (first) {\n        const w = Math.round(first.getBoundingClientRect().width);\n        if (w !== itemW) setItemW(w);\n      } else {\n        const vw = vp.getBoundingClientRect().width;\n        setItemW(Math.round(vw * 0.8));\n      }\n    });\n    ro.observe(vp);\n    return () => ro.disconnect();\n    // eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    // ensure track pos correct\n    if (trackRef.current) trackRef.current.style.transform = `translateX(${posRef.current}px)`;\n    startAutoplay();\n    return () => stopAutoplay();\n    // eslint-disable-next-line\n  }, [itemW]);\n  useEffect(() => {\n    return () => {\n      stopAutoplay();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"banner\",\n    dir: \"ltr\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"banner-v1\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"carousel-wrap style-init mcd siblings\",\n        \"data-auto\": \"true\",\n        \"data-delay\": \"2000\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cdk-drag item-drag\",\n          ref: viewportRef,\n          style: {\n            overflow: \"hidden\",\n            touchAction: \"pan-y\",\n            cursor: \"grab\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-left\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-wrap\",\n              ref: trackRef,\n              style: {\n                display: \"flex\",\n                alignItems: \"stretch\",\n                willChange: \"transform\",\n                transform: `translateX(${posRef.current}px)`\n              },\n              children: looped.map((url, idx) => {\n                const orig = idx % images.length;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item\",\n                  idx: orig,\n                  \"message-id\": 100000 + idx,\n                  ref: el => itemsRef.current[idx] = el,\n                  style: {\n                    flex: \"0 0 auto\",\n                    width: \"min(90vw, 273.9px)\",\n                    boxSizing: \"border-box\",\n                    padding: 6\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"item-pic\",\n                    style: {\n                      width: \"100%\",\n                      height: 160,\n                      borderRadius: 8,\n                      backgroundImage: `url(${url})`,\n                      backgroundSize: \"cover\",\n                      backgroundPosition: \"center\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 640,\n                    columnNumber: 25\n                  }, this)\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"dot-group style-bar\",\n          style: {\n            display: \"flex\",\n            gap: 8,\n            listStyle: \"none\",\n            padding: 0,\n            margin: \"12px 0 0 0\",\n            justifyContent: \"center\"\n          },\n          children: images.map((_, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: idx === activeIndex ? \"active\" : \"\",\n            idx: idx,\n            onClick: () => {\n              if (!trackRef.current || itemW === 0) return;\n              stopAutoplay();\n              const currentStep = Math.round(Math.abs(posRef.current) / itemW);\n              let desiredStep = currentStep - currentStep % images.length + idx;\n              const candidates = [desiredStep - images.length, desiredStep, desiredStep + images.length];\n              let best = candidates[0];\n              let bestDiff = Math.abs(candidates[0] - currentStep);\n              for (let c of candidates) {\n                const diff = Math.abs(c - currentStep);\n                if (diff < bestDiff) {\n                  bestDiff = diff;\n                  best = c;\n                }\n              }\n              const target = -best * itemW;\n              gsap.to(trackRef.current, {\n                x: target,\n                duration: 0.8,\n                ease: \"power2.inOut\",\n                onUpdate: () => {\n                  const matrix = window.getComputedStyle(trackRef.current).transform;\n                  if (matrix && matrix !== \"none\") {\n                    const vals = matrix.match(/matrix.*\\\\((.+)\\\\)/)[1].split(\", \");\n                    posRef.current = parseFloat(vals[4]);\n                  }\n                  updateActive();\n                },\n                onComplete: () => {\n                  posRef.current = target;\n                  normalizePosition();\n                  updateActive();\n                  startAutoplay();\n                }\n              });\n            },\n            style: {\n              width: 12,\n              height: 12,\n              borderRadius: 999,\n              background: idx === activeIndex ? \"#222\" : \"#ddd\",\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dot-progress\",\n              style: {\n                width: 6,\n                height: 6,\n                borderRadius: 999,\n                background: \"transparent\",\n                display: \"block\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 19\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 628,\n    columnNumber: 7\n  }, this);\n}, \"m3AbVpKalpD5hcxiVSZjJ5vwVeQ=\");","map":{"version":3,"names":["defaultImages","propImages","length","_s","images","viewportRef","useRef","trackRef","itemsRef","itemW","setItemW","useState","activeIndex","setActiveIndex","posRef","velocityRef","isDraggingRef","prevPointerXRef","lastTimeRef","autoplayTl","looped","setX","x","current","style","transform","normalizePosition","total","Math","abs","n","floor","transition","offsetWidth","ceil","updateActive","step","round","idx","startAutoplay","stopAutoplay","gsap","timeline","repeat","paused","to","duration","ease","onComplete","play","kill","useEffect","vp","track","pointerId","onDown","e","pointerType","button","setPointerCapture","clientX","performance","now","killTweensOf","onMove","dx","dt","max","onUp","releasePointerCapture","k","displacement","target","nearest","min","onUpdate","matrix","window","getComputedStyle","vals","match","split","parseFloat","addEventListener","removeEventListener","ro","ResizeObserver","first","w","getBoundingClientRect","width","vw","observe","disconnect","_jsxDEV","className","dir","children","ref","overflow","touchAction","cursor","display","alignItems","willChange","map","url","orig","el","flex","boxSizing","padding","height","borderRadius","backgroundImage","backgroundSize","backgroundPosition","fileName","_jsxFileName","lineNumber","columnNumber","gap","listStyle","margin","justifyContent","_","onClick","currentStep","desiredStep","candidates","best","bestDiff","c","diff","background"],"sources":["F:/png71/my-app/src/components/common/Carousel.js"],"sourcesContent":["\r\n\r\n// import React, { useState, useEffect, useRef, useCallback } from 'react';\r\n// import { usePopup } from '../layouts/PopupManager';\r\n// import PromotionInfo from '../member/PromotionPage/PromotionInfo';\r\n\r\n\r\n// const Carousel = ({ \r\n   \r\n//   autoPlay = true, \r\n//   delay = 5000,\r\n//   showDots = true,\r\n//   showArrows = true,\r\n//   draggable = true,\r\n//   itemWidth = 265.6 ,// Default width from the example\r\n//   //  showError, showSuccess\r\n// }) => {\r\n//   const [currentIndex, setCurrentIndex] = useState(0);\r\n//   const [isDragging, setIsDragging] = useState(false);\r\n//   const [startX, setStartX] = useState(0);\r\n//   const [translateX, setTranslateX] = useState(0);\r\n//   const carouselRef = useRef(null);\r\n//   const autoPlayRef = useRef(null);\r\n\r\n//   const items = [\r\n//       {\r\n//         id: 1,\r\n//         title: \"4% Unlimited Bonus + Free Spins\",\r\n//         description: \"Starts at 10:00 PM, to next day 9:59 PM BST!\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\r\n//         type: \"Limited Offer\",\r\n//         buttonType: \"apply\",\r\n//         category: \"new-promotions\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\r\n//         howToJoin: [\r\n//           \"লগইন করুন আপনার অ্যাকাউন্টে\",\r\n//           \"প্রোমোশন পৃষ্ঠায় যান\",\r\n//           \"বোনাসে আবেদন করুন\",\r\n//           \"জয় করুন আকর্ষণীয় পুরস্কার!\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"বোনাস পরিমাণ\", value: \"4% আনলিমিটেড\" },\r\n//           { label: \"মিনিমাম ডিপোজিট\", value: \"৳500\" },\r\n//           { label: \"মুক্ত স্পিন\", value: \"20 ফ্রি স্পিন\" },\r\n//           { label: \"বৈধতা\", value: \"7 দিন\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"শুধুমাত্র 18+ ব্যবহারকারীদের জন্য প্রযোজ্য\",\r\n//           \"নূন্যতম ডিপোজিট ৳500 প্রয়োজন\",\r\n//           \"বোনাস 10x ওয়েজার প্রয়োজন\",\r\n//           \"একটি অ্যাকাউন্টে শুধুমাত্র একবার ব্যবহার করা যাবে\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 2,\r\n//         title: \"HEYVIP JILI LUCKY MACAW\",\r\n//         description: \"100% Weekly Winning Contest!\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_301526.jpg\",\r\n//         type: \"HEYVIP Offer\",\r\n//         buttonType: \"detail\",\r\n//         category: \"slots\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_301526.jpg\",\r\n//         howToJoin: [\r\n//           \"HEYVIP গেমসে অংশগ্রহণ করুন\",\r\n//           \"সাপ্তাহিক প্রতিযোগিতায় অংশ নিন\",\r\n//           \"সর্বোচ্চ জয় সংগ্রহ করুন\",\r\n//           \"পুরস্কার দাবি করুন\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"প্রতিযোগিতা ধরন\", value: \"সাপ্তাহিক\" },\r\n//           { label: \"পুরস্কার পুল\", value: \"৳50,000\" },\r\n//           { label: \"অংশগ্রহণের সময়\", value: \"সোমবার - রবিবার\" },\r\n//           { label: \"বিজয়ী ঘোষণা\", value: \"প্রতি সোমবার\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"সমস্ত HEYVIP গেম প্রযোজ্য\",\r\n//           \"সাপ্তাহিক টুর্নামেন্ট ভিত্তিক\",\r\n//           \"শীর্ষ 50 খেলোয়াড় পুরস্কার পাবেন\",\r\n//           \"যেকোন সময় নিয়ম পরিবর্তনের অধিকার সংরক্ষিত\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 3,\r\n//         title: \"100% Deposit Bonus on PP Game\",\r\n//         description: \"Oracle Of Gold Exclusive\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_301818.jpg\",\r\n//         type: \"Limited Offer\",\r\n//         buttonType: \"apply\",\r\n//         category: \"slots\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_301818.jpg\",\r\n//         howToJoin: [\r\n//           \"প্রাগম্যাটিক প্লে গেম নির্বাচন করুন\",\r\n//           \"ডিপোজিট করুন নূন্যতম ৳1000\",\r\n//           \"স্বয়ংক্রিয়ভাবে 100% বোনাস পান\",\r\n//           \"Oracle Of Gold গেমে ব্যবহার করুন\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"বোনাস পরিমাণ\", value: \"100% ডিপোজিট\" },\r\n//           { label: \"মিনিমাম ডিপোজিট\", value: \"৳1000\" },\r\n//           { label: \"সর্বোচ্চ বোনাস\", value: \"৳10,000\" },\r\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"Oracle Of Gold\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"শুধুমাত্র প্রাগম্যাটিক প্লে গেমস\",\r\n//           \"বোনাস 15x ওয়েজার প্রয়োজন\",\r\n//           \"7 দিনের মধ্যে ব্যবহার করতে হবে\",\r\n//           \"নগদীকরণের আগে শর্ত পূরণ করুন\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 4,\r\n//         title: \"Daily Attendance Bonus\",\r\n//         description: \"Stay Active, Win Every Day!\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_289817.jpg\",\r\n//         type: \"PRAGMATIC PLAY Special\",\r\n//         buttonType: \"detail\",\r\n//         category: \"live-casino\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_289817.jpg\",\r\n//         howToJoin: [\r\n//           \"প্রতিদিন লগইন করুন\",\r\n//           \"অ্যাটেনডেন্স বোনাস ক্লিক করুন\",\r\n//           \"দৈনিক পুরস্কার সংগ্রহ করুন\",\r\n//           \"7 দিন ক্রমাগত বোনাস পান\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"দিন 1\", value: \"৳50 ফ্রি ক্রেডিট\" },\r\n//           { label: \"দিন 2\", value: \"10 ফ্রি স্পিন\" },\r\n//           { label: \"দিন 3\", value: \"৳100 বোনাস\" },\r\n//           { label: \"দিন 7\", value: \"৳500 বিশেষ বোনাস\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"প্রতিদিন লগইন প্রয়োজন\",\r\n//           \"24 ঘন্টার মধ্যে ক্লেইম করতে হবে\",\r\n//           \"ক্রমান্বয়ে 7 দিন পুরস্কার\",\r\n//           \"যেকোন দিন মিস করলে রিসেট হবে\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 5,\r\n//         title: \"Deposit & Get 200 Free Spins\",\r\n//         description: \"Enjoy extra spin in every deposit!\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_290977.jpg\",\r\n//         type: \"HEYVIP Special\",\r\n//         buttonType: \"apply\",\r\n//         category: \"slots\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_290977.jpg\",\r\n//         howToJoin: [\r\n//           \"যেকোনো পরিমাণ ডিপোজিট করুন\",\r\n//           \"স্বয়ংক্রিয়ভাবে 200 ফ্রি স্পিন পান\",\r\n//           \"নির্বাচিত স্লট গেমে ব্যবহার করুন\",\r\n//           \"জিতুন বড় পুরস্কার\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"ফ্রি স্পিন\", value: \"200 স্পিন\" },\r\n//           { label: \"মিনিমাম ডিপোজিট\", value: \"৳500\" },\r\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"নির্বাচিত স্লট\" },\r\n//           { label: \"বৈধতা\", value: \"3 দিন\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"যেকোনো ডিপোজিটে প্রযোজ্য\",\r\n//           \"ফ্রি স্পিন 3 দিনের মধ্যে ব্যবহার করুন\",\r\n//           \"জয়ের ওয়েজার 20x প্রয়োজন\",\r\n//           \"একদিনে একবার ব্যবহার করা যাবে\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 6,\r\n//         title: \"৳500 Welcome Bonus on All Games\",\r\n//         description: \"Get Unlimited Withdrawal!\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_258671.jpg\",\r\n//         type: \"Welcome Offer\",\r\n//         buttonType: \"detail\",\r\n//         category: \"new-promotions\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_258671.jpg\",\r\n//         howToJoin: [\r\n//           \"নতুন অ্যাকাউন্ট রেজিস্টার করুন\",\r\n//           \"প্রথম ডিপোজিট করুন\",\r\n//           \"স্বয়ংক্রিয়ভাবে ৳500 বোনাস পান\",\r\n//           \"সমস্ত গেমে ব্যবহার করুন\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"বোনাস পরিমাণ\", value: \"৳500 ওয়েলকাম\" },\r\n//           { label: \"ডিপোজিট প্রয়োজন\", value: \"প্রথম ডিপোজিট\" },\r\n//           { label: \"সর্বোচ্চ উইথড্রয়াল\", value: \"আনলিমিটেড\" },\r\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"সমস্ত গেম\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"শুধুমাত্র নতুন রেজিস্ট্রেশনের জন্য\",\r\n//           \"KYC ভেরিফিকেশন প্রয়োজন\",\r\n//           \"বোনাস 5x ওয়েজার প্রয়োজন\",\r\n//           \"30 দিনের মধ্যে ব্যবহার করতে হবে\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 7,\r\n//         title: \"৳8,000 Daily Sports Reload Bonus\",\r\n//         description: \"ICC Women's World Cup Special\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_290585.jpg\",\r\n//         type: \"Limited Offer\",\r\n//         buttonType: \"apply\",\r\n//         category: \"sports\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_290585.jpg\",\r\n//         howToJoin: [\r\n//           \"স্পোর্টস বিভাগে যান\",\r\n//           \"যেকোনো ক্রীড়া ইভেন্টে বেট করুন\",\r\n//           \"দৈনিক ৳8,000 পর্যন্ত বোনাস পান\",\r\n//           \"আরও বেট করতে ব্যবহার করুন\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"বোনাস পরিমাণ\", value: \"৳8,000 দৈনিক\" },\r\n//           { label: \"বোনাস ধরন\", value: \"রিলোড বোনাস\" },\r\n//           { label: \"বেট প্রয়োজন\", value: \"যেকোনো স্পোর্টস\" },\r\n//           { label: \"বৈধতা\", value: \"প্রতিদিন\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"শুধুমাত্র স্পোর্টস বেটিং\",\r\n//           \"ন্যূনতম বেট ৳500\",\r\n//           \"বোনাস 8x রোলওভার প্রয়োজন\",\r\n//           \"প্রতিদিন একবার ব্যবহার করা যাবে\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 8,\r\n//         title: \"৳10,800 Weekly Reload Bonus On Slots\",\r\n//         description: \"Progressive slot rewards every time you deposit!\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_270781.jpg\",\r\n//         type: \"Limited Offer\",\r\n//         buttonType: \"apply\",\r\n//         category: \"slots\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_270781.jpg\",\r\n//         howToJoin: [\r\n//           \"স্লট গেমসে ডিপোজিট করুন\",\r\n//           \"সাপ্তাহিক রিলোড বোনাস পান\",\r\n//           \"৳10,800 পর্যন্ত সংগ্রহ করুন\",\r\n//           \"আরও গেম খেলুন\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"সর্বোচ্চ বোনাস\", value: \"৳10,800\" },\r\n//           { label: \"বোনাস ধরন\", value: \"সাপ্তাহিক রিলোড\" },\r\n//           { label: \"ডিপোজিট ফ্রিকোয়েন্সি\", value: \"সাপ্তাহিক\" },\r\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"স্লট গেমস\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"শুধুমাত্র স্লট গেমসে প্রযোজ্য\",\r\n//           \"সাপ্তাহিক ডিপোজিট প্রয়োজন\",\r\n//           \"বোনাস 10x ওয়েজার প্রয়োজন\",\r\n//           \"প্রতি সপ্তাহে একবার\"\r\n//         ]\r\n//       }\r\n//     ];\r\n\r\n\r\n\r\n//   const nextSlide = useCallback(() => {\r\n//     setCurrentIndex(prev => (prev + 1) % items.length);\r\n//     setTranslateX(0);\r\n//   }, [items.length]);\r\n\r\n//   const prevSlide = useCallback(() => {\r\n//     setCurrentIndex(prev => (prev - 1 + items.length) % items.length);\r\n//     setTranslateX(0);\r\n//   }, [items.length]);\r\n\r\n//   const goToSlide = (index) => {\r\n//     setCurrentIndex(index);\r\n//     setTranslateX(0);\r\n//   };\r\n\r\n//   // Auto-play with pause on hover\r\n//   useEffect(() => {\r\n//     if (!autoPlay || items.length <= 1) return;\r\n\r\n//     const startAutoPlay = () => {\r\n//       autoPlayRef.current = setInterval(nextSlide, delay);\r\n//     };\r\n\r\n//     const stopAutoPlay = () => {\r\n//       if (autoPlayRef.current) {\r\n//         clearInterval(autoPlayRef.current);\r\n//       }\r\n//     };\r\n\r\n//     startAutoPlay();\r\n\r\n//     // Pause on hover\r\n//     const carousel = carouselRef.current;\r\n//     if (carousel) {\r\n//       carousel.addEventListener('mouseenter', stopAutoPlay);\r\n//       carousel.addEventListener('mouseleave', startAutoPlay);\r\n//     }\r\n\r\n//     return () => {\r\n//       stopAutoPlay();\r\n//       if (carousel) {\r\n//         carousel.removeEventListener('mouseenter', stopAutoPlay);\r\n//         carousel.removeEventListener('mouseleave', startAutoPlay);\r\n//       }\r\n//     };\r\n//   }, [autoPlay, delay, nextSlide, items.length]);\r\n\r\n//   // Drag functionality\r\n//   const handleDragStart = (e) => {\r\n//     if (!draggable) return;\r\n//     setIsDragging(true);\r\n//     setStartX(e.type.includes('mouse') ? e.clientX : e.touches[0].clientX);\r\n//   };\r\n\r\n//   const handleDragMove = (e) => {\r\n//     if (!isDragging || !draggable) return;\r\n//     const currentX = e.type.includes('mouse') ? e.clientX : e.touches[0].clientX;\r\n//     setTranslateX(currentX - startX);\r\n//   };\r\n\r\n//   const handleDragEnd = () => {\r\n//     if (!isDragging || !draggable) return;\r\n//     setIsDragging(false);\r\n    \r\n//     const dragThreshold = 100;\r\n//     if (Math.abs(translateX) > dragThreshold) {\r\n//       if (translateX > 0) {\r\n//         prevSlide();\r\n//       } else {\r\n//         nextSlide();\r\n//       }\r\n//     }\r\n//     setTranslateX(0);\r\n//   };\r\n//   const { openPopup, closePopup } = usePopup();\r\n\r\n//   const handlePromoDetail = useCallback((promotion) => {\r\n//     openPopup(\r\n//       <PromotionInfo\r\n//         promotion={promotion}\r\n//         // showSuccess={showSuccess}\r\n//         onClose={() => {}}\r\n//       />,\r\n//       { \r\n//         contentClass: 'promotionPop',\r\n//         size: 'large'\r\n//       }\r\n//     );\r\n//   }, [openPopup]);\r\n\r\n//   // const handlePromoAction = useCallback((promotion) => {\r\n   \r\n//   //     handlePromoDetail(promotion);\r\n//   //     closePopup();\r\n//   // }, [showSuccess, handlePromoDetail]);\r\n\r\n//   return (\r\n//     <div className=\"mcd-carousel-banner\" ref={carouselRef}>\r\n//       <div dir=\"ltr\" className=\"banner\">\r\n//         <div className=\"banner-v1\">\r\n//           <div className=\"carousel-wrap style-init mcd siblings\">\r\n//             {/* Drag container */}\r\n//             <div \r\n//               className=\"cdk-drag item-drag\"\r\n//               style={{ transform: `translate3d(${translateX}px, 0px, 0px)` }}\r\n//               onMouseDown={handleDragStart}\r\n//               onMouseMove={handleDragMove}\r\n//               onMouseUp={handleDragEnd}\r\n//               onMouseLeave={handleDragEnd}\r\n//               onTouchStart={handleDragStart}\r\n//               onTouchMove={handleDragMove}\r\n//               onTouchEnd={handleDragEnd}\r\n//             >\r\n//               <div className=\"item-left\">\r\n//                 <div \r\n//                   className=\"item-wrap\"\r\n//                   style={{ \r\n//                     transform: `translateX(-${currentIndex * itemWidth  + translateX }px)`,\r\n//                     transition: isDragging ? 'none' : 'transform 0.3s ease'\r\n//                   }}\r\n//                 >\r\n//                   {items.map((item, index) => (\r\n//                     <div\r\n//                       key={item.id || index}\r\n//                       className=\"item\"\r\n//                       style={{ width: `${itemWidth}px` }}\r\n//                       data-idx={index}\r\n//                       data-message-id={item.messageId}\r\n//                       onClick={() => handlePromoDetail(item)}\r\n//                     >\r\n//                       <div\r\n//                         className=\"item-pic\"\r\n//                         style={{ backgroundImage: `url(\"${item.image}\")` }}\r\n                        \r\n//                         role=\"button\"\r\n//                         tabIndex={0}\r\n//                         onKeyPress={(e) => {\r\n//                           if (e.key === 'Enter' && item.onClick) {\r\n//                             handlePromoDetail(item);\r\n//                           }\r\n//                         }}\r\n//                       />\r\n//                     </div>\r\n//                   ))}\r\n//                 </div>\r\n//               </div>\r\n//             </div>\r\n            \r\n//             {/* Dot Navigation */}\r\n//             {showDots && items.length > 1 && (\r\n//               <ul className=\"dot-group style-bar\">\r\n//                 {items.map((_, index) => (\r\n//                   <li\r\n//                     key={index}\r\n//                     className={index === currentIndex ? 'active' : ''}\r\n//                     onClick={() => goToSlide(index)}\r\n//                     data-idx={index}\r\n//                   >\r\n//                     <span \r\n//                       className=\"dot-progress\" \r\n//                       style={{ \r\n//                         animationDuration: index === currentIndex ? `${delay}ms` : '0ms'\r\n//                       }}\r\n//                     />\r\n//                   </li>\r\n//                 ))}\r\n//               </ul>\r\n//             )}\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Carousel;\r\n  const defaultImages = propImages && propImages.length ? propImages : [\r\n    \"https://img.s628b.com/upload/h5Announcement/image_305643.jpg\",\r\n    \"https://img.s628b.com/upload/h5Announcement/image_306220.jpg\",\r\n    \"https://img.s628b.com/upload/h5Announcement/image_305443.jpg\",\r\n    \"https://img.s628b.com/upload/h5Announcement/image_274796.png\",\r\n    \"https://img.s628b.com/upload/h5Announcement/image_309851.jpg\"\r\n  ];\r\n\r\nexport default ({ images: propImages })=>{\r\n\r\n\r\n  const images = defaultImages;\r\n  const viewportRef = useRef(null);\r\n  const trackRef = useRef(null);\r\n  const itemsRef = useRef([]);\r\n  const [itemW, setItemW] = useState(0);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n  const posRef = useRef(0);\r\n  const velocityRef = useRef(0);\r\n  const isDraggingRef = useRef(false);\r\n  const prevPointerXRef = useRef(0);\r\n  const lastTimeRef = useRef(0);\r\n  const autoplayTl = useRef(null);\r\n\r\n  const looped = [...images, ...images];\r\n\r\n  // Utility to set translateX\r\n  const setX = (x) => {\r\n    posRef.current = x;\r\n    if (trackRef.current) trackRef.current.style.transform = `translateX(${x}px)`;\r\n  };\r\n\r\n  const normalizePosition = () => {\r\n    const total = itemW * images.length;\r\n    if (!total) return;\r\n    if (Math.abs(posRef.current) >= total) {\r\n      const n = Math.floor(Math.abs(posRef.current) / total);\r\n      posRef.current += n * total;\r\n      trackRef.current.style.transition = \"none\";\r\n      setX(posRef.current);\r\n      void trackRef.current.offsetWidth;\r\n      trackRef.current.style.transition = \"\";\r\n    }\r\n    if (posRef.current > 0) {\r\n      const n = Math.ceil(posRef.current / total);\r\n      posRef.current -= n * total;\r\n      trackRef.current.style.transition = \"none\";\r\n      setX(posRef.current);\r\n      void trackRef.current.offsetWidth;\r\n      trackRef.current.style.transition = \"\";\r\n    }\r\n  };\r\n\r\n  const updateActive = () => {\r\n    if (!itemW) return;\r\n    const step = Math.round(Math.abs(posRef.current) / itemW);\r\n    const idx = ((step % images.length) + images.length) % images.length;\r\n    setActiveIndex(idx);\r\n  };\r\n\r\n  // Autoplay using GSAP timeline\r\n  const startAutoplay = () => {\r\n    stopAutoplay();\r\n    if (!trackRef.current || itemW === 0) return;\r\n    autoplayTl.current = gsap.timeline({ repeat: -1, paused: true });\r\n    autoplayTl.current.to({}, { duration: 2 }); // hold\r\n    autoplayTl.current.to(trackRef.current, {\r\n      x: `-=${itemW}`,\r\n      duration: 1,\r\n      ease: \"power2.inOut\",\r\n      onComplete: () => {\r\n        posRef.current -= itemW;\r\n        normalizePosition();\r\n        updateActive();\r\n      }\r\n    });\r\n    autoplayTl.current.repeat(-1);\r\n    autoplayTl.current.play();\r\n  };\r\n\r\n  const stopAutoplay = () => {\r\n    if (autoplayTl.current) {\r\n      autoplayTl.current.kill();\r\n      autoplayTl.current = null;\r\n    }\r\n  };\r\n\r\n  // Pointer drag handlers\r\n  useEffect(() => {\r\n    const vp = viewportRef.current;\r\n    const track = trackRef.current;\r\n    if (!vp || !track) return;\r\n    let pointerId = null;\r\n    const onDown = (e) => {\r\n      if (e.pointerType === \"mouse\" && e.button !== 0) return;\r\n      isDraggingRef.current = true;\r\n      pointerId = e.pointerId;\r\n      try { vp.setPointerCapture(pointerId); } catch {}\r\n      prevPointerXRef.current = e.clientX;\r\n      lastTimeRef.current = performance.now();\r\n      velocityRef.current = 0;\r\n      stopAutoplay();\r\n      gsap.killTweensOf(track);\r\n      track.style.transition = \"none\";\r\n    };\r\n    const onMove = (e) => {\r\n      if (!isDraggingRef.current || e.pointerId !== pointerId) return;\r\n      const now = performance.now();\r\n      const dx = e.clientX - prevPointerXRef.current;\r\n      const dt = Math.max(1, now - lastTimeRef.current);\r\n      velocityRef.current = dx / dt;\r\n      lastTimeRef.current = now;\r\n      prevPointerXRef.current = e.clientX;\r\n      setX(posRef.current + dx);\r\n    };\r\n    const onUp = (e) => {\r\n      if (!isDraggingRef.current || e.pointerId !== pointerId) return;\r\n      isDraggingRef.current = false;\r\n      try { vp.releasePointerCapture(pointerId); } catch {}\r\n      // momentum\r\n      const k = 300;\r\n      const displacement = velocityRef.current * k;\r\n      let target = posRef.current + displacement;\r\n      if (itemW > 0) {\r\n        const nearest = Math.round(target / itemW) * itemW;\r\n        target = nearest;\r\n      }\r\n      gsap.to(track, {\r\n        x: target,\r\n        duration: Math.min(1.2, Math.abs(displacement)/1000 + 0.3),\r\n        ease: \"power3.out\",\r\n        onUpdate: () => {\r\n          const matrix = window.getComputedStyle(track).transform;\r\n          if (matrix && matrix !== \"none\") {\r\n            const vals = matrix.match(/matrix.*\\((.+)\\)/)[1].split(\", \");\r\n            posRef.current = parseFloat(vals[4]);\r\n            updateActive();\r\n          }\r\n        },\r\n        onComplete: () => {\r\n          posRef.current = target;\r\n          normalizePosition();\r\n          updateActive();\r\n          startAutoplay();\r\n        }\r\n      });\r\n    };\r\n\r\n    vp.addEventListener(\"pointerdown\", onDown);\r\n    vp.addEventListener(\"pointermove\", onMove);\r\n    window.addEventListener(\"pointerup\", onUp);\r\n    window.addEventListener(\"pointercancel\", onUp);\r\n\r\n    return () => {\r\n      vp.removeEventListener(\"pointerdown\", onDown);\r\n      vp.removeEventListener(\"pointermove\", onMove);\r\n      window.removeEventListener(\"pointerup\", onUp);\r\n      window.removeEventListener(\"pointercancel\", onUp);\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [itemW]);\r\n\r\n  // ResizeObserver to set item width\r\n  useEffect(() => {\r\n    const vp = viewportRef.current;\r\n    if (!vp) return;\r\n    const ro = new ResizeObserver(() => {\r\n      const first = itemsRef.current[0];\r\n      if (first) {\r\n        const w = Math.round(first.getBoundingClientRect().width);\r\n        if (w !== itemW) setItemW(w);\r\n      } else {\r\n        const vw = vp.getBoundingClientRect().width;\r\n        setItemW(Math.round(vw * 0.8));\r\n      }\r\n    });\r\n    ro.observe(vp);\r\n    return () => ro.disconnect();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // ensure track pos correct\r\n    if (trackRef.current) trackRef.current.style.transform = `translateX(${posRef.current}px)`;\r\n    startAutoplay();\r\n    return () => stopAutoplay();\r\n    // eslint-disable-next-line\r\n  }, [itemW]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      stopAutoplay();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n\r\n      <div className=\"banner\" dir=\"ltr\">\r\n        <div className=\"banner-v1\">\r\n          <div className=\"carousel-wrap style-init mcd siblings\" data-auto=\"true\" data-delay=\"2000\">\r\n            <div className=\"cdk-drag item-drag\" ref={viewportRef} style={{ overflow: \"hidden\", touchAction: \"pan-y\", cursor: \"grab\" }}>\r\n              <div className=\"item-left\">\r\n                <div className=\"item-wrap\" ref={trackRef} style={{ display: \"flex\", alignItems: \"stretch\", willChange: \"transform\", transform: `translateX(${posRef.current}px)` }}>\r\n                  {looped.map((url, idx) => {\r\n                    const orig = idx % images.length;\r\n                    return (\r\n                      <div key={idx} className=\"item\" idx={orig} message-id={100000+idx}\r\n                        ref={el => itemsRef.current[idx] = el}\r\n                        style={{ flex: \"0 0 auto\", width: \"min(90vw, 273.9px)\", boxSizing: \"border-box\", padding: 6 }}>\r\n                        <div className=\"item-pic\" style={{ width: \"100%\", height: 160, borderRadius: 8, backgroundImage: `url(${url})`, backgroundSize: \"cover\", backgroundPosition: \"center\" }} />\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <ul className=\"dot-group style-bar\" style={{ display: \"flex\", gap: 8, listStyle: \"none\", padding: 0, margin: \"12px 0 0 0\", justifyContent: \"center\" }}>\r\n              {images.map((_, idx) => (\r\n                <li key={idx} className={idx === activeIndex ? \"active\" : \"\"} idx={idx}\r\n                  onClick={() => {\r\n                    if (!trackRef.current || itemW === 0) return;\r\n                    stopAutoplay();\r\n                    const currentStep = Math.round(Math.abs(posRef.current)/itemW);\r\n                    let desiredStep = currentStep - (currentStep % images.length) + idx;\r\n                    const candidates = [desiredStep - images.length, desiredStep, desiredStep + images.length];\r\n                    let best = candidates[0]; let bestDiff = Math.abs(candidates[0] - currentStep);\r\n                    for (let c of candidates) { const diff = Math.abs(c - currentStep); if (diff < bestDiff) { bestDiff = diff; best = c; } }\r\n                    const target = -best * itemW;\r\n                    gsap.to(trackRef.current, {\r\n                      x: target,\r\n                      duration: 0.8,\r\n                      ease: \"power2.inOut\",\r\n                      onUpdate: () => {\r\n                        const matrix = window.getComputedStyle(trackRef.current).transform;\r\n                        if (matrix && matrix !== \"none\") {\r\n                          const vals = matrix.match(/matrix.*\\\\((.+)\\\\)/)[1].split(\", \");\r\n                          posRef.current = parseFloat(vals[4]);\r\n                        }\r\n                        updateActive();\r\n                      },\r\n                      onComplete: () => {\r\n                        posRef.current = target;\r\n                        normalizePosition();\r\n                        updateActive();\r\n                        startAutoplay();\r\n                      }\r\n                    });\r\n                  }}\r\n                  style={{ width: 12, height: 12, borderRadius: 999, background: idx === activeIndex ? \"#222\" : \"#ddd\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\r\n                  <span className=\"dot-progress\" style={{ width: 6, height: 6, borderRadius: 999, background: \"transparent\", display: \"block\" }} />\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    \r\n  )\r\n}\r\n"],"mappings":";;;AAEA;AACA;AACA;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACE,MAAMA,aAAa,GAAGC,UAAU,IAAIA,UAAU,CAACC,MAAM,GAAGD,UAAU,GAAG,CACnE,8DAA8D,EAC9D,8DAA8D,EAC9D,8DAA8D,EAC9D,8DAA8D,EAC9D,8DAA8D,CAC/D;AAEH,eAAAE,EAAA,CAAe,CAAC;EAAEC,MAAM,EAAEH;AAAW,CAAC,KAAG;EAAAE,EAAA;EAGvC,MAAMC,MAAM,GAAGJ,aAAa;EAC5B,MAAMK,WAAW,GAAGC,MAAM,CAAC,IAAI,CAAC;EAChC,MAAMC,QAAQ,GAAGD,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAME,QAAQ,GAAGF,MAAM,CAAC,EAAE,CAAC;EAC3B,M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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}