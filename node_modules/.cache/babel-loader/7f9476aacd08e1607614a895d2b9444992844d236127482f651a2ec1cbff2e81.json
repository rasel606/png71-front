{"ast":null,"code":"// import React, { useState, useEffect } from \"react\";\n// import { usePopup } from \"../../layouts/PopupManager\";\n// import TurnoverCard from \"./TurnoverCard\";\n// import TurnoverDetailPopup from \"./TurnoverDetailPopup\";\n// import TabNavigation from \"./TabNavigation\";\n// import { useApp } from \"../../../contexts/AppContext\";\n// const TurnoverPage = ({ showError, showSuccess, showWarning, showInfo }) => {\n//   const { openPopup, closePopup } = usePopup();\n//   const { \n//     turnoverData, \n//     fetchActiveTurnover, \n//     fetchCompletedTurnover,\n//     fetchAllTurnoverData \n//   } = useApp();\n//   const [activeTab, setActiveTab] = useState(\"active\");\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n//   const tabs = [\n//     { key: \"active\", label: \"Active\" },\n//     { key: \"completed\", label: \"Completed\" },\n//   ];\n//   // Fetch data based on active tab\n//   const fetchTabData = async (tabKey) => {\n//     try {\n//       setLoading(true);\n//       setError(null);\n//       if (tabKey === \"active\") {\n//         await fetchActiveTurnover();\n//       } else if (tabKey === \"completed\") {\n//         await fetchCompletedTurnover();\n//       }\n//     } catch (err) {\n//       console.error(`Error fetching ${tabKey} turnover:`, err);\n//       setError(`Failed to load ${tabKey} turnover data`);\n//       showError(`Failed to load ${tabKey} turnover data`);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   // Initial data load\n//   useEffect(() => {\n//     fetchAllTurnoverData().finally(() => {\n//       setLoading(false);\n//     });\n//   }, [fetchAllTurnoverData]);\n//   const handleTabChange = async (tabKey) => {\n//     setActiveTab(tabKey);\n//     // Fetch data for the new tab if not already loaded\n//     if ((tabKey === \"active\" && turnoverData.active.length === 0) || \n//         (tabKey === \"completed\" && turnoverData.completed.length === 0)) {\n//       await fetchTabData(tabKey);\n//     }\n//   };\n//   const handleDetailClick = (turnover) => {\n//     openPopup(\n//       <TurnoverDetailPopup turnover={turnover} onClose={closePopup} />,\n//       {\n//         title: \"Turnover Details\",\n//         size: \"medium\",\n//         position: \"center\",\n//         closeOnBackdrop: true,\n//         closeOnEscape: true,\n//       }\n//     );\n//   };\n//   const handleRetry = () => {\n//     fetchTabData(activeTab);\n//   };\n//   // Get filtered data based on active tab\n//   const filteredData = activeTab === \"completed\" \n//     ? turnoverData.completed \n//     : turnoverData.active;\n//   if (loading && turnoverData.active.length === 0 && turnoverData.completed.length === 0) {\n//     return (\n//       <div className=\"turnover-loading\">\n//         <div className=\"loading-spinner\"></div>\n//         <p>লোড হচ্ছে...</p>\n//       </div>\n//     );\n//   }\n//   if (error) {\n//     return (\n//       <div className=\"turnover-error\">\n//         <div className=\"error-icon\">⚠️</div>\n//         <p>{error}</p>\n//         <button onClick={handleRetry} className=\"retry-button\">\n//           Retry\n//         </button>\n//       </div>\n//     );\n//   }\n//   return (\n//     <div className=\"turnover-page\">\n//       {/* Tab Navigation */}\n//       <TabNavigation\n//         tabs={tabs}\n//         activeTab={activeTab}\n//         onTabChange={handleTabChange}\n//       />\n//       {/* Loading state for tab switch */}\n//       {loading && (turnoverData.active.length > 0 || turnoverData.completed.length > 0) && (\n//         <div className=\"tab-loading\">\n//           <div className=\"loading-spinner small\"></div>\n//           <p>Loading...</p>\n//         </div>\n//       )}\n//       {/* Turnover List */}\n//       <div className=\"turnover-content\">\n//         <ul className=\"ticket-wrap\">\n//           {filteredData.length > 0 ? (\n//             filteredData.map((turnover) => (\n//               <TurnoverCard\n//                 key={turnover.id}\n//                 turnover={turnover}\n//                 onDetailClick={handleDetailClick}\n//               />\n//             ))\n//           ) : (\n//             <div className=\"no-data\">\n//               <p>No {activeTab} turnover records found</p>\n//             </div>\n//           )}\n//         </ul>\n//         {filteredData.length > 0 && (\n//           <div className=\"prompt\">－end of page－</div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// };\n// export default TurnoverPage;\n// components/turnover/TurnoverPage.jsx\nimport React,{useState,useEffect}from\"react\";import{useLocation,useNavigate}from\"react-router-dom\";import{usePopup}from\"../../layouts/PopupManager\";import{useApp}from\"../../../contexts/AppContext\";import TurnoverCard from\"./TurnoverCard\";import TurnoverDetailPopup from\"./TurnoverDetailPopup\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TurnoverPage=_ref=>{let{showError,showSuccess,showWarning,showInfo}=_ref;const location=useLocation();const navigate=useNavigate();const{openPopup,closePopup}=usePopup();const{turnoverData,fetchActiveTurnover,fetchCompletedTurnover,fetchAllTurnoverData}=useApp();const[activeTab,setActiveTab]=useState(\"active\");const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Safe data access with fallbacks\nconst safeTurnoverData={active:(turnoverData===null||turnoverData===void 0?void 0:turnoverData.active)||[],completed:(turnoverData===null||turnoverData===void 0?void 0:turnoverData.completed)||[]};// Update active tab based on current route\nReact.useEffect(()=>{const path=location.pathname;if(path.includes(\"completed\")){setActiveTab(\"completed\");}else{setActiveTab(\"active\");}},[location.pathname]);// Handle tab change with navigation\nconst handleTabChange=tabId=>{setActiveTab(tabId);if(tabId===\"completed\"){var _location$state;navigate(\"/turnover/completed\",{state:{background:((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.background)||location}});}else{var _location$state2;navigate(\"/turnover/active\",{state:{background:((_location$state2=location.state)===null||_location$state2===void 0?void 0:_location$state2.background)||location}});}};// Fetch data based on active tab\nconst fetchTabData=async tabKey=>{try{setLoading(true);setError(null);if(tabKey===\"active\"){await fetchActiveTurnover();}else if(tabKey===\"completed\"){await fetchCompletedTurnover();}}catch(err){console.error(\"Error fetching \".concat(tabKey,\" turnover:\"),err);const errorMessage=\"\".concat(tabKey,\" \\u099F\\u09BE\\u09B0\\u09CD\\u09A8\\u0993\\u09AD\\u09BE\\u09B0 \\u09A1\\u09C7\\u099F\\u09BE \\u09B2\\u09CB\\u09A1 \\u0995\\u09B0\\u09A4\\u09C7 \\u09AC\\u09CD\\u09AF\\u09B0\\u09CD\\u09A5 \\u09B9\\u09AF\\u09BC\\u09C7\\u099B\\u09C7\");setError(errorMessage);if(showError)showError(errorMessage);}finally{setLoading(false);}};// Initial data load\nuseEffect(()=>{const loadInitialData=async()=>{try{setLoading(true);await fetchAllTurnoverData();}catch(err){console.error('Error loading initial data:',err);setError('প্রাথমিক ডেটা লোড করতে ব্যর্থ হয়েছে');if(showError)showError('প্রাথমিক ডেটা লোড করতে ব্যর্থ হয়েছে');}finally{setLoading(false);}};loadInitialData();},[fetchAllTurnoverData,showError]);// Fetch data when tab changes via navigation\nuseEffect(()=>{if(activeTab===\"active\"&&safeTurnoverData.active.length===0||activeTab===\"completed\"&&safeTurnoverData.completed.length===0){fetchTabData(activeTab);}},[activeTab,safeTurnoverData.active.length,safeTurnoverData.completed.length]);const handleDetailClick=turnover=>{openPopup(/*#__PURE__*/_jsx(TurnoverDetailPopup,{turnover:turnover,onClose:closePopup}),{title:\"টার্নওভার বিস্তারিত\",size:\"medium\",position:\"center\",closeOnBackdrop:true,closeOnEscape:true});};const handleRetry=()=>{fetchTabData(activeTab);};// Get filtered data based on active tab\nconst filteredData=activeTab===\"completed\"?safeTurnoverData.completed:safeTurnoverData.active;const renderContent=()=>{if(loading&&safeTurnoverData.active.length===0&&safeTurnoverData.completed.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"turnover-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u09B2\\u09CB\\u09A1 \\u09B9\\u099A\\u09CD\\u099B\\u09C7...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"turnover-error\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRetry,className:\"retry-button\",children:\"\\u0986\\u09AC\\u09BE\\u09B0 \\u099A\\u09C7\\u09B7\\u09CD\\u099F\\u09BE \\u0995\\u09B0\\u09C1\\u09A8\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"turnover-content\",children:[loading&&(safeTurnoverData.active.length>0||safeTurnoverData.completed.length>0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"tab-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner small\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u09B2\\u09CB\\u09A1 \\u09B9\\u099A\\u09CD\\u099B\\u09C7...\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ticket-wrap\",children:filteredData.length>0?filteredData.map(turnover=>/*#__PURE__*/_jsx(TurnoverCard,{turnover:turnover,onDetailClick:handleDetailClick},turnover.id)):/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:/*#__PURE__*/_jsx(\"p\",{children:activeTab==='active'?'কোন সক্রিয় টার্নওভার রেকর্ড পাওয়া যায়নি':'কোন সম্পন্ন টার্নওভার রেকর্ড পাওয়া যায়নি'})})}),filteredData.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"prompt\",children:\"\\uFF0D\\u09AA\\u09C3\\u09B7\\u09CD\\u09A0\\u09BE\\u09B0 \\u09B6\\u09C7\\u09B7\\uFF0D\"})]});};return/*#__PURE__*/_jsx(\"div\",{className:\"popup-page-wrapper active\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-page show-toolbar popup-page--active popup-page--align-top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-page__backdrop\",onClick:()=>navigate(-1)}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-page__main popup-page-main popup-page-main--show\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-page-main__header wallet-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-page-main__title\",children:\"\\u099F\\u09BE\\u09B0\\u09CD\\u09A8\\u0993\\u09AD\\u09BE\\u09B0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-page-main__close ng-star-inserted\",onClick:()=>navigate(-1),children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"popup-page-main__container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content mcd-style player-content fixed-tab\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"member-content turnover-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tab-btn-section tab-btn-wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tab-btn tab-btn-bar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"line\",style:{width:'calc(50%)',transform:\"translate(\".concat(activeTab==='active'?'0%':'100%',\", 0px)\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"btn \".concat(activeTab===\"active\"?\"active\":\"\"),onClick:()=>handleTabChange(\"active\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text\",children:[\"\\u09B8\\u0995\\u09CD\\u09B0\\u09BF\\u09AF\\u09BC \",/*#__PURE__*/_jsx(\"div\",{className:\"badge\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"btn \".concat(activeTab===\"completed\"?\"active\":\"\"),onClick:()=>handleTabChange(\"completed\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text\",children:[\"\\u09B8\\u09AE\\u09CD\\u09AA\\u09A8\\u09CD\\u09A8 \",/*#__PURE__*/_jsx(\"div\",{className:\"badge\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content-wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"tab-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner-wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inner-box\",children:renderContent()})})})})]})})})]})]})});};export default TurnoverPage;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","usePopup","useApp","TurnoverCard","TurnoverDetailPopup","jsx","_jsx","jsxs","_jsxs","TurnoverPage","_ref","showError","showSuccess","showWarning","showInfo","location","navigate","openPopup","closePopup","turnoverData","fetchActiveTurnover","fetchCompletedTurnover","fetchAllTurnoverData","activeTab","setActiveTab","loading","setLoading","error","setError","safeTurnoverData","active","completed","path","pathname","includes","handleTabChange","tabId","_location$state","state","background","_location$state2","fetchTabData","tabKey","err","console","concat","errorMessage","loadInitialData","length","handleDetailClick","turnover","onClose","title","size","position","closeOnBackdrop","closeOnEscape","handleRetry","filteredData","renderContent","className","children","onClick","map","onDetailClick","id","style","width","transform"],"sources":["F:/png71/my-app/src/components/member/Turnover/TurnoverPage.jsx"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import { usePopup } from \"../../layouts/PopupManager\";\r\n\r\n// import TurnoverCard from \"./TurnoverCard\";\r\n// import TurnoverDetailPopup from \"./TurnoverDetailPopup\";\r\n// import TabNavigation from \"./TabNavigation\";\r\n// import { useApp } from \"../../../contexts/AppContext\";\r\n\r\n// const TurnoverPage = ({ showError, showSuccess, showWarning, showInfo }) => {\r\n//   const { openPopup, closePopup } = usePopup();\r\n//   const { \r\n//     turnoverData, \r\n//     fetchActiveTurnover, \r\n//     fetchCompletedTurnover,\r\n//     fetchAllTurnoverData \r\n//   } = useApp();\r\n  \r\n//   const [activeTab, setActiveTab] = useState(\"active\");\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [error, setError] = useState(null);\r\n\r\n//   const tabs = [\r\n//     { key: \"active\", label: \"Active\" },\r\n//     { key: \"completed\", label: \"Completed\" },\r\n//   ];\r\n\r\n//   // Fetch data based on active tab\r\n//   const fetchTabData = async (tabKey) => {\r\n//     try {\r\n//       setLoading(true);\r\n//       setError(null);\r\n      \r\n//       if (tabKey === \"active\") {\r\n//         await fetchActiveTurnover();\r\n//       } else if (tabKey === \"completed\") {\r\n//         await fetchCompletedTurnover();\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(`Error fetching ${tabKey} turnover:`, err);\r\n//       setError(`Failed to load ${tabKey} turnover data`);\r\n//       showError(`Failed to load ${tabKey} turnover data`);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   // Initial data load\r\n//   useEffect(() => {\r\n//     fetchAllTurnoverData().finally(() => {\r\n//       setLoading(false);\r\n//     });\r\n//   }, [fetchAllTurnoverData]);\r\n\r\n//   const handleTabChange = async (tabKey) => {\r\n//     setActiveTab(tabKey);\r\n    \r\n//     // Fetch data for the new tab if not already loaded\r\n//     if ((tabKey === \"active\" && turnoverData.active.length === 0) || \r\n//         (tabKey === \"completed\" && turnoverData.completed.length === 0)) {\r\n//       await fetchTabData(tabKey);\r\n//     }\r\n//   };\r\n\r\n//   const handleDetailClick = (turnover) => {\r\n//     openPopup(\r\n//       <TurnoverDetailPopup turnover={turnover} onClose={closePopup} />,\r\n//       {\r\n//         title: \"Turnover Details\",\r\n//         size: \"medium\",\r\n//         position: \"center\",\r\n//         closeOnBackdrop: true,\r\n//         closeOnEscape: true,\r\n//       }\r\n//     );\r\n//   };\r\n\r\n//   const handleRetry = () => {\r\n//     fetchTabData(activeTab);\r\n//   };\r\n\r\n//   // Get filtered data based on active tab\r\n//   const filteredData = activeTab === \"completed\" \r\n//     ? turnoverData.completed \r\n//     : turnoverData.active;\r\n\r\n//   if (loading && turnoverData.active.length === 0 && turnoverData.completed.length === 0) {\r\n//     return (\r\n//       <div className=\"turnover-loading\">\r\n//         <div className=\"loading-spinner\"></div>\r\n//         <p>লোড হচ্ছে...</p>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   if (error) {\r\n//     return (\r\n//       <div className=\"turnover-error\">\r\n//         <div className=\"error-icon\">⚠️</div>\r\n//         <p>{error}</p>\r\n//         <button onClick={handleRetry} className=\"retry-button\">\r\n//           Retry\r\n//         </button>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"turnover-page\">\r\n//       {/* Tab Navigation */}\r\n//       <TabNavigation\r\n//         tabs={tabs}\r\n//         activeTab={activeTab}\r\n//         onTabChange={handleTabChange}\r\n//       />\r\n\r\n//       {/* Loading state for tab switch */}\r\n//       {loading && (turnoverData.active.length > 0 || turnoverData.completed.length > 0) && (\r\n//         <div className=\"tab-loading\">\r\n//           <div className=\"loading-spinner small\"></div>\r\n//           <p>Loading...</p>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Turnover List */}\r\n//       <div className=\"turnover-content\">\r\n//         <ul className=\"ticket-wrap\">\r\n//           {filteredData.length > 0 ? (\r\n//             filteredData.map((turnover) => (\r\n//               <TurnoverCard\r\n//                 key={turnover.id}\r\n//                 turnover={turnover}\r\n//                 onDetailClick={handleDetailClick}\r\n//               />\r\n//             ))\r\n//           ) : (\r\n//             <div className=\"no-data\">\r\n//               <p>No {activeTab} turnover records found</p>\r\n//             </div>\r\n//           )}\r\n//         </ul>\r\n\r\n//         {filteredData.length > 0 && (\r\n//           <div className=\"prompt\">－end of page－</div>\r\n//         )}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default TurnoverPage;\r\n\r\n// components/turnover/TurnoverPage.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { usePopup } from \"../../layouts/PopupManager\";\r\nimport { useApp } from \"../../../contexts/AppContext\";\r\nimport TurnoverCard from \"./TurnoverCard\";\r\nimport TurnoverDetailPopup from \"./TurnoverDetailPopup\";\r\n\r\nconst TurnoverPage = ({ showError, showSuccess, showWarning, showInfo }) => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { openPopup, closePopup } = usePopup();\r\n  const { \r\n    turnoverData, \r\n    fetchActiveTurnover, \r\n    fetchCompletedTurnover,\r\n    fetchAllTurnoverData \r\n  } = useApp();\r\n  \r\n  const [activeTab, setActiveTab] = useState(\"active\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Safe data access with fallbacks\r\n  const safeTurnoverData = {\r\n    active: turnoverData?.active || [],\r\n    completed: turnoverData?.completed || []\r\n  };\r\n\r\n  // Update active tab based on current route\r\n  React.useEffect(() => {\r\n    const path = location.pathname;\r\n    if (path.includes(\"completed\")) {\r\n      setActiveTab(\"completed\");\r\n    } else {\r\n      setActiveTab(\"active\");\r\n    }\r\n  }, [location.pathname]);\r\n\r\n  // Handle tab change with navigation\r\n  const handleTabChange = (tabId) => {\r\n    setActiveTab(tabId);\r\n    if (tabId === \"completed\") {\r\n      navigate(\"/turnover/completed\", { \r\n        state: { background: location.state?.background || location }\r\n      });\r\n    } else {\r\n      navigate(\"/turnover/active\", { \r\n        state: { background: location.state?.background || location }\r\n      });\r\n    }\r\n  };\r\n\r\n  // Fetch data based on active tab\r\n  const fetchTabData = async (tabKey) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      if (tabKey === \"active\") {\r\n        await fetchActiveTurnover();\r\n      } else if (tabKey === \"completed\") {\r\n        await fetchCompletedTurnover();\r\n      }\r\n    } catch (err) {\r\n      console.error(`Error fetching ${tabKey} turnover:`, err);\r\n      const errorMessage = `${tabKey} টার্নওভার ডেটা লোড করতে ব্যর্থ হয়েছে`;\r\n      setError(errorMessage);\r\n      if (showError) showError(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Initial data load\r\n  useEffect(() => {\r\n    const loadInitialData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        await fetchAllTurnoverData();\r\n      } catch (err) {\r\n        console.error('Error loading initial data:', err);\r\n        setError('প্রাথমিক ডেটা লোড করতে ব্যর্থ হয়েছে');\r\n        if (showError) showError('প্রাথমিক ডেটা লোড করতে ব্যর্থ হয়েছে');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadInitialData();\r\n  }, [fetchAllTurnoverData, showError]);\r\n\r\n  // Fetch data when tab changes via navigation\r\n  useEffect(() => {\r\n    if ((activeTab === \"active\" && safeTurnoverData.active.length === 0) || \r\n        (activeTab === \"completed\" && safeTurnoverData.completed.length === 0)) {\r\n      fetchTabData(activeTab);\r\n    }\r\n  }, [activeTab, safeTurnoverData.active.length, safeTurnoverData.completed.length]);\r\n\r\n  const handleDetailClick = (turnover) => {\r\n    openPopup(\r\n      <TurnoverDetailPopup turnover={turnover} onClose={closePopup} />,\r\n      {\r\n        title: \"টার্নওভার বিস্তারিত\",\r\n        size: \"medium\",\r\n        position: \"center\",\r\n        closeOnBackdrop: true,\r\n        closeOnEscape: true,\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleRetry = () => {\r\n    fetchTabData(activeTab);\r\n  };\r\n\r\n  // Get filtered data based on active tab\r\n  const filteredData = activeTab === \"completed\" \r\n    ? safeTurnoverData.completed \r\n    : safeTurnoverData.active;\r\n\r\n  const renderContent = () => {\r\n    if (loading && safeTurnoverData.active.length === 0 && safeTurnoverData.completed.length === 0) {\r\n      return (\r\n        <div className=\"turnover-loading\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <p>লোড হচ্ছে...</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (error) {\r\n      return (\r\n        <div className=\"turnover-error\">\r\n          <div className=\"error-icon\">⚠️</div>\r\n          <p>{error}</p>\r\n          <button onClick={handleRetry} className=\"retry-button\">\r\n            আবার চেষ্টা করুন\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"turnover-content\">\r\n        {/* Loading state for tab switch */}\r\n        {loading && (safeTurnoverData.active.length > 0 || safeTurnoverData.completed.length > 0) && (\r\n          <div className=\"tab-loading\">\r\n            <div className=\"loading-spinner small\"></div>\r\n            <p>লোড হচ্ছে...</p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"ticket-wrap\">\r\n          {filteredData.length > 0 ? (\r\n            filteredData.map((turnover) => (\r\n              <TurnoverCard\r\n                key={turnover.id}\r\n                turnover={turnover}\r\n                onDetailClick={handleDetailClick}\r\n              />\r\n            ))\r\n          ) : (\r\n            <div className=\"no-data\">\r\n              <p>{activeTab === 'active' ? 'কোন সক্রিয় টার্নওভার রেকর্ড পাওয়া যায়নি' : 'কোন সম্পন্ন টার্নওভার রেকর্ড পাওয়া যায়নি'}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {filteredData.length > 0 && (\r\n          <div className=\"prompt\">－পৃষ্ঠার শেষ－</div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"popup-page-wrapper active\">\r\n      <div className=\"popup-page show-toolbar popup-page--active popup-page--align-top\">\r\n        <div className=\"popup-page__backdrop\" onClick={() => navigate(-1)}></div>\r\n        <div className=\"popup-page__main popup-page-main popup-page-main--show\">\r\n          {/* Header */}\r\n          <div className=\"popup-page-main__header wallet-header\">\r\n            <div className=\"popup-page-main__title\">টার্নওভার</div>\r\n            <div\r\n              className=\"popup-page-main__close ng-star-inserted\"\r\n              onClick={() => navigate(-1)}\r\n            >\r\n              ✕\r\n            </div>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"popup-page-main__container\">\r\n            <div className=\"content mcd-style player-content fixed-tab\">\r\n              <div className=\"member-content turnover-page\">\r\n                {/* Tab Navigation */}\r\n                <div className=\"tab-btn-section tab-btn-wrap\">\r\n                  <div className=\"tab-btn tab-btn-bar\">\r\n                    <div \r\n                      className=\"line\" \r\n                      style={{ \r\n                        width: 'calc(50%)', \r\n                        transform: `translate(${activeTab === 'active' ? '0%' : '100%'}, 0px)` \r\n                      }}\r\n                    ></div>\r\n                    <div\r\n                      className={`btn ${activeTab === \"active\" ? \"active\" : \"\"}`}\r\n                      onClick={() => handleTabChange(\"active\")}\r\n                    >\r\n                      <div className=\"text\">\r\n                        সক্রিয় <div className=\"badge\"></div>\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      className={`btn ${activeTab === \"completed\" ? \"active\" : \"\"}`}\r\n                      onClick={() => handleTabChange(\"completed\")}\r\n                    >\r\n                      <div className=\"text\">\r\n                        সম্পন্ন <div className=\"badge\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Tab Content */}\r\n                <div className=\"tab-content-wrap\">\r\n                  <div className=\"tab-content\">\r\n                    <div className=\"inner-wrap\">\r\n                      <div className=\"inner-box\">\r\n                        {renderContent()}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TurnoverPage;"],"mappings":"AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OAASC,QAAQ,KAAQ,4BAA4B,CACrD,OAASC,MAAM,KAAQ,8BAA8B,CACrD,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,mBAAmB,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExD,KAAM,CAAAC,YAAY,CAAGC,IAAA,EAAuD,IAAtD,CAAEC,SAAS,CAAEC,WAAW,CAAEC,WAAW,CAAEC,QAAS,CAAC,CAAAJ,IAAA,CACrE,KAAM,CAAAK,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAiB,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEiB,SAAS,CAAEC,UAAW,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAC5C,KAAM,CAC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}