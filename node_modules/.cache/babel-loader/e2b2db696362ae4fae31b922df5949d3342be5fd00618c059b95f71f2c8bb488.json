{"ast":null,"code":"var _jsxFileName = \"F:\\\\png71\\\\my-app\\\\src\\\\components\\\\member\\\\PromotionPage\\\\PromotionPage.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// // // components/pages/PromotionPage.js\n// // import React, { useState, useEffect, useCallback, useMemo } from \"react\";\n// // import { useNavigate } from \"react-router-dom\";\n// // import { usePopup } from \"../layouts/PopupManager\";\n// // import PromotionInfo from \"../member/PromotionPage/PromotionInfo\";\n// // import { useApi } from \"../../hooks/useApi\";\n// // import { useApp } from \"../../contexts/AppContext\";\n// // import promotionsService from \"../../services/promotionService\";\n\n// // // Constants for better maintainability\n// // const API_ENDPOINTS = {\n// //   GAME_CATEGORIES: \"http://localhost:5000/api/games/New-table-Games-with-Providers\",\n// // };\n\n// // const BONUS_TYPES = {\n// //   deposit: { label: 'Deposit Bonus', color: '#4CAF50' },\n// //   dailyRebate: { label: 'Daily Rebate', color: '#2196F3' },\n// //   weeklyBonus: { label: 'Weekly Bonus', color: '#9C27B0' },\n// //   vip: { label: 'VIP Bonus', color: '#FF9800' },\n// //   referral: { label: 'Referral Bonus', color: '#E91E63' },\n// //   referralRebate: { label: 'Referral Rebate', color: '#795548' },\n// //   normalDeposit: { label: 'Normal Deposit', color: '#607D8B' },\n// //   signup: { label: 'Signup Bonus', color: '#00BCD4' },\n// //   birthday: { label: 'Birthday Bonus', color: '#FF5722' },\n// //   other: { label: 'Other Bonus', color: '#757575' }\n// // };\n\n// // const DEFAULT_CATEGORIES = [\n// //   { key: 'all', label: 'ALL' },\n// //   { key: 'deposit', label: 'Deposit' },\n// //   { key: 'dailyRebate', label: 'Daily Rebate' },\n// //   { key: 'weeklyBonus', label: 'Weekly' },\n// //   { key: 'vip', label: 'VIP' },\n// //   { key: 'referral', label: 'Referral' },\n// //   { key: 'signup', label: 'Signup' },\n// //   { key: 'birthday', label: 'Birthday' }\n// // ];\n\n// // const PromotionPage = ({ showError, showSuccess, showWarning, showInfo }) => {\n// //   const navigate = useNavigate();\n// //   const { openPopup } = usePopup();\n// //   const [activeCategory, setActiveCategory] = useState(\"new-promotions\");\n// //   const [categories, setCategories] = useState(DEFAULT_CATEGORIES);\n// //   const [searchMode, setSearchMode] = useState(false);\n// //   const [searchQuery, setSearchQuery] = useState(\"\");\n// //   const [promotions, setPromotions] = useState([]);\n// //   const [isLoading, setIsLoading] = useState(true);\n// //   const { apiCall } = useApi();\n// //   const { loading,setLoadingState } = useApp();\n\n// //   // Fetch categories from API\n\n// // const GetPromotionsData = useCallback(async () => {\n// //     setIsLoading(true);\n// //     try {\n// //       const response = await promotionsService.GetPromotions();\n// //       console.log(\"Promotions Data:\", response);\n// //       setPromotions(response.data );\n// //     } catch (error) {\n// //       console.error(\"Error fetching promotions:\", error.message);\n// //     } finally {\n// //       setIsLoading(false);\n// //     }\n// //   }, []);\n\n// //   useEffect(() => {\n// //     GetPromotionsData();\n// //   }, []);\n\n// //   // Fetch promotions data\n// //   // useEffect(() => {\n// //   //   const fetchPromotions = async () => {\n// //   //     try {\n// //   //       setIsLoading(true);\n// //   //       // Replace with actual API call\n// //   //       const mockPromotions = await GetPromotionsData();\n// //   //       console.log(\"Promotions Data:\", mockPromotions);\n// //   //       setPromotions(mockPromotions);\n// //   //     } catch (err) {\n// //   //       console.error(\"Error fetching promotions:\", err);\n// //   //       showError?.(\"Failed to load promotions. Please try again later.\");\n// //   //       setPromotions([]);\n// //   //     } finally {\n// //   //       setIsLoading(false);\n// //   //     }\n// //   //   };\n\n// //   //   fetchPromotions();\n// //   // }, [showError]);\n\n// //   const closeModal = useCallback(() => {\n// //     navigate(-1);\n// //   }, [navigate]);\n\n// //   const handleSearchToggle = useCallback(() => {\n// //     setSearchMode(prev => !prev);\n// //     if (searchMode) {\n// //       setSearchQuery(\"\");\n// //     }\n// //   }, [searchMode]);\n\n// //   const handleSearchConfirm = useCallback(() => {\n// //     console.log(\"Search query:\", searchQuery);\n// //     setSearchMode(false);\n// //   }, [searchQuery]);\n\n// //   const handleCategoryChange = useCallback((category) => {\n// //     setActiveCategory(category);\n// //   }, []);\n\n// //   // Memoized filtered promotions for better performance\n// //   const filteredPromotions = useMemo(() => {\n// //     return promotions.filter((promo) => {\n// //       const matchesCategory =\n// //         activeCategory === \"new-promotions\" ||\n// //         promo.category_name === activeCategory.categories.find(cat => cat.key === activeCategory).category_name;\n\n// //       const matchesSearch =\n// //         searchQuery === \"\" ||\n// //         promo.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n// //         promo.description.toLowerCase().includes(searchQuery.toLowerCase());\n\n// //       return matchesCategory && matchesSearch;\n// //     });\n// //   }, [promotions, activeCategory, searchQuery]);\n\n// //   const handlePromoAction = useCallback(\n// //     (promotion) => {\n// //       openPopup(\n// //         <PromotionInfo\n// //           promotion={promotion}\n// //           showSuccess={showSuccess}\n// //           onClose={() => {}}\n// //         />,\n// //         {\n// //           contentClass: \"promotionPop\",\n// //           size: \"large\",\n// //         }\n// //       );\n// //     },\n// //     [openPopup, showSuccess]\n// //   );\n\n// //   // const handlePromoAction = useCallback(\n// //   //   (promotion, actionType) => {\n// //   //     if (actionType === \"apply\") {\n// //   //       showSuccess?.(`Applied for: ${promotion.title}`);\n// //   //     } else if (actionType === \"detail\") {\n// //   //       handlePromoDetail(promotion);\n// //   //     }\n// //   //   },\n// //   //   [handlePromoDetail, showSuccess]\n// //   // );\n\n// //   if (isLoading) {\n// //     return <LoadingState />;\n// //   }\n\n// //   return (\n// //     <div className=\"content-main promotion ng-tns-c1259012856-6 ng-star-inserted\">\n// //       <div className=\"content-box ng-tns-c1259012856-6\">\n// //         <div className=\"promotion ng-tns-c1259012856-6\">\n// //           <SearchTab\n// //             categories={categories}\n// //             activeCategory={activeCategory}\n// //             onCategoryChange={handleCategoryChange}\n// //             searchMode={searchMode}\n// //             onSearchToggle={handleSearchToggle}\n// //             searchQuery={searchQuery}\n// //             onSearchChange={setSearchQuery}\n// //             onSearchConfirm={handleSearchConfirm}\n// //           />\n\n// //           <PromoCodeForm\n// //             showSuccess={showSuccess}\n// //             showError={showError}\n// //           />\n\n// //           <WaterfallScroll\n// //             promotions={filteredPromotions}\n// //             onPromoAction={handlePromoAction}\n// //           />\n// //         </div>\n// //       </div>\n// //     </div>\n// //   );\n// // };\n\n// // // Loading State Component\n// // const LoadingState = () => (\n// //   <div className=\"content-main promotion ng-tns-c1259012856-6 ng-star-inserted\">\n// //     <div className=\"content-box ng-tns-c1259012856-6\">\n// //       <div className=\"promotion ng-tns-c1259012856-6\">\n// //         <div className=\"loading-fullscreen\">\n// //           <div className=\"loading-spinner\"></div>\n// //           <p>Loading promotions...</p>\n// //         </div>\n// //       </div>\n// //     </div>\n// //   </div>\n// // );\n\n// // // Search Tab Component\n// // const SearchTab = ({\n// //   categories,\n// //   activeCategory,\n// //   onCategoryChange,\n// //   searchMode,\n// //   onSearchToggle,\n// //   searchQuery,\n// //   onSearchChange,\n// //   onSearchConfirm,\n// // }) => {\n// //   if (searchMode) {\n// //     return (\n// //       <div className=\"searchpage ng-star-inserted\">\n// //         <div className=\"search-top-info\">\n// //           <div className=\"back\" onClick={onSearchToggle} role=\"button\" tabIndex={0}>\n// //             <span\n// //               className=\"item-icon\"\n// //               style={{\n// //                 maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-arrow-type09.svg?v=1761636564965\")',\n// //               }}\n// //             ></span>\n// //             Back\n// //           </div>\n// //           <div\n// //             className=\"icon-search ng-star-inserted\"\n// //             style={{\n// //               maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-search-type02.svg?v=1761636564965\")',\n// //             }}\n// //           ></div>\n// //           <input\n// //             type=\"text\"\n// //             className=\"ng-untouched ng-pristine ng-valid\"\n// //             placeholder=\"Promotion Filter\"\n// //             value={searchQuery}\n// //             onChange={(e) => onSearchChange(e.target.value)}\n// //             autoFocus\n// //           />\n// //         </div>\n// //         <div className=\"searchpage-main\">\n// //           {/* Search results would go here */}\n// //         </div>\n// //         <div className=\"searchpage-bar\">\n// //           <button className=\"button\" onClick={onSearchConfirm}>\n// //             Confirm\n// //           </button>\n// //         </div>\n// //       </div>\n// //     );\n// //   }\n\n// //   return (\n// //     <div className=\"search-tab-wrapper\">\n// //       <div className=\"tab search-tab ng-star-inserted\">\n// //         <ul className=\"item-ani\">\n// //           {categories.map((category, index) => (\n// //             <li\n// //               key={category.key}\n// //               className={activeCategory === category.key ? \"active\" : \"\"}\n// //               style={{ animationDelay: `${index * 0.1}s` }}\n// //               onClick={() => onCategoryChange(category.key)}\n// //               role=\"button\"\n// //               tabIndex={0}\n// //               onKeyPress={(e) => {\n// //                 if (e.key === \"Enter\" || e.key === \" \") {\n// //                   onCategoryChange(category.key);\n// //                 }\n// //               }}\n// //             >\n// //               {category.label}\n// //             </li>\n// //           ))}\n// //           <li className=\"search-icon ng-star-inserted\" onClick={onSearchToggle}>\n// //             <span\n// //               className=\"item-icon\"\n// //               style={{\n// //                 maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-search-type02.svg?v=1761636564965\")',\n// //               }}\n// //             ></span>\n// //           </li>\n// //         </ul>\n// //       </div>\n// //     </div>\n// //   );\n// // };\n\n// // // Promo Code Form Component\n// // const PromoCodeForm = ({ showSuccess, showError }) => {\n// //   const [promoCode, setPromoCode] = useState(\"\");\n\n// //   const handleAddPromoCode = () => {\n// //     const trimmedCode = promoCode.trim();\n// //     if (trimmedCode) {\n// //       showSuccess?.(`Promo code ${trimmedCode} added successfully!`);\n// //       setPromoCode(\"\");\n// //     } else {\n// //       showError?.(\"Please enter a promo code\");\n// //     }\n// //   };\n\n// //   const handleKeyPress = (e) => {\n// //     if (e.key === \"Enter\") {\n// //       handleAddPromoCode();\n// //     }\n// //   };\n\n// //   return (\n// //     <form className=\"promotion-main promo-code-form ng-untouched ng-pristine ng-valid ng-star-inserted\">\n// //       <div className=\"input-group\">\n// //         <input\n// //           autoComplete=\"off\"\n// //           type=\"text\"\n// //           maxLength=\"30\"\n// //           className=\"password ng-untouched ng-pristine ng-valid\"\n// //           placeholder=\"Promo Code\"\n// //           value={promoCode}\n// //           onChange={(e) => setPromoCode(e.target.value)}\n// //           onKeyPress={handleKeyPress}\n// //         />\n// //         <div\n// //           className=\"promo-code-add-btn\"\n// //           onClick={handleAddPromoCode}\n// //           role=\"button\"\n// //           tabIndex={0}\n// //           onKeyPress={handleKeyPress}\n// //         >\n// //           Add\n// //         </div>\n// //       </div>\n// //     </form>\n// //   );\n// // };\n\n// // // Waterfall Scroll Component\n// // const WaterfallScroll = ({ promotions, onPromoAction }) => {\n// //   if (promotions.length === 0) {\n// //     return (\n// //       <div className=\"promotion-main promotion-main-scroll-wrapper ng-trigger ng-trigger-staggerFadeAnimation\">\n// //         <EmptyState />\n// //       </div>\n// //     );\n// //   }\n\n// //   return (\n// //     <div className=\"promotion-main promotion-main-scroll-wrapper ng-trigger ng-trigger-staggerFadeAnimation\">\n// //       {promotions.map((promotion, index) => (\n// //         <PromotionCard\n// //           key={promotion.id}\n// //           promotion={promotion}\n// //           index={index}\n// //           onAction={onPromoAction}\n// //         />\n// //       ))}\n\n// //       <EndOfPagePrompt show={promotions.length > 0} />\n\n// //       <div className=\"anchor\" style={{ height: \"10px\", visibility: \"hidden\" }}>\n// //         anchor\n// //       </div>\n// //     </div>\n// //   );\n// // };\n\n// // // Empty State Component\n// // const EmptyState = () => (\n// //   <div className=\"empty-state\">\n// //     <div className=\"empty-icon\">üéÅ</div>\n// //     <h3>No promotions found</h3>\n// //     <p>Try changing your search or filter criteria</p>\n// //   </div>\n// // );\n\n// // // End of Page Prompt Component\n// // const EndOfPagePrompt = ({ show }) => {\n// //   if (!show) return null;\n\n// //   return (\n// //     <div className=\"prompt ng-star-inserted\">\n// //       Ôºçend of pageÔºç\n// //     </div>\n// //   );\n// // };\n\n// // // Promotion Card Component\n// // const PromotionCard = ({ promotion, index, onAction }) => {\n// //   const [isJoined, setIsJoined] = useState(false);\n\n// //   const handleButtonClick = (actionType) => {\n// //     if (actionType === \"joined\") {\n// //       setIsJoined(!isJoined);\n// //     } else {\n// //       onAction(promotion, actionType);\n// //     }\n// //   };\n\n// //   const renderButton = () => {\n// //     switch (promotion.buttonType) {\n// //       case \"apply\":\n// //         return (\n// //           <ActionButton\n// //             className=\"button button__apply\"\n// //             onClick={() => handleButtonClick(\"apply\")}\n// //             label=\"Apply Now\"\n// //           />\n// //         );\n// //       case \"joined\":\n// //         return (\n// //           <ActionButton\n// //             className={`button button__joined ${isJoined ? \"active\" : \"\"}`}\n// //             onClick={() => handleButtonClick(\"joined\")}\n// //             label={isJoined ? \"Joined\" : \"Join\"}\n// //           />\n// //         );\n// //       default:\n// //         return null;\n// //     }\n// //   };\n\n// //   return (\n// //     <div\n// //       className=\"promotion-box new promotion-toggle ng-star-inserted\"\n// //       style={{ animationDelay: `${index * 0.1}s` }}\n// //     >\n// //       <div className=\"pic\">\n// //         <img\n// //           alt={promotion.title}\n// //           src={promotion.image}\n// //           loading=\"lazy\"\n// //           onError={(e) => {\n// //             e.target.src = 'https://via.placeholder.com/300x150?text=Promotion+Image';\n// //           }}\n// //         />\n// //         <span\n// //           className=\"item-bg\"\n// //           style={{\n// //             maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/player/promotion-bg.svg?v=1761636564965\")',\n// //           }}\n// //         ></span>\n// //       </div>\n\n// //       <div className=\"promotion-box-inner content-style\">\n// //         <div className=\"text-main\">\n// //           <h3>{promotion.title}</h3>\n// //           <p>{promotion.description}</p>\n// //         </div>\n\n// //         <div className=\"times\">\n// //           <span\n// //             className=\"item-icon\"\n// //             style={{\n// //               maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-clock.svg?v=1761636564965\")',\n// //             }}\n// //           ></span>\n// //           <span>{promotion.type}</span>\n// //         </div>\n\n// //         <div className=\"button-box\">\n// //           {renderButton()}\n// //           <ActionButton\n// //             className=\"button btn-primary\"\n// //             onClick={() => handleButtonClick(\"detail\")}\n// //             label=\"Detail\"\n// //           />\n// //         </div>\n// //       </div>\n// //     </div>\n// //   );\n// // };\n\n// // // Reusable Action Button Component\n// // const ActionButton = ({ className, onClick, label }) => (\n// //   <div\n// //     className={className}\n// //     onClick={onClick}\n// //     role=\"button\"\n// //     tabIndex={0}\n// //     onKeyPress={(e) => {\n// //       if (e.key === \"Enter\" || e.key === \" \") {\n// //         onClick();\n// //       }\n// //     }}\n// //   >\n// //     <span>{label}</span>\n// //   </div>\n// // );\n\n// // // Mock data function (replace with actual API call)\n// // const getMockPromotions = async () => {\n// //   // Simulate API delay\n// //   await new Promise(resolve => setTimeout(resolve, 1000));\n\n// //   return [\n// //     {\n// //       id: 1,\n// //       title: \"4% Unlimited Bonus + Free Spins\",\n// //       description: \"Starts at 10:00 PM, to next day 9:59 PM BST!\",\n// //       image: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\n// //       type: \"Limited Offer\",\n// //       buttonType: \"apply\",\n// //       category: \"new-promotions\",\n// //       bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\n// //       howToJoin: [\n// //         \"‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá\",\n// //         \"‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã‡¶∂‡¶® ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ‡¶Ø‡¶º ‡¶Ø‡¶æ‡¶®\",\n// //         \"‡¶¨‡ßã‡¶®‡¶æ‡¶∏‡ßá ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®\",\n// //         \"‡¶ú‡¶Ø‡¶º ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ü‡¶ï‡¶∞‡ßç‡¶∑‡¶£‡ßÄ‡¶Ø‡¶º ‡¶™‡ßÅ‡¶∞‡¶∏‡ßç‡¶ï‡¶æ‡¶∞!\",\n// //       ],\n// //       bonusDetails: [\n// //         { label: \"‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£\", value: \"4% ‡¶Ü‡¶®‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡ßá‡¶°\" },\n// //         { label: \"‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü\", value: \"‡ß≥500\" },\n// //         { label: \"‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§ ‡¶∏‡ßç‡¶™‡¶ø‡¶®\", value: \"20 ‡¶´‡ßç‡¶∞‡¶ø ‡¶∏‡ßç‡¶™‡¶ø‡¶®\" },\n// //         { label: \"‡¶¨‡ßà‡¶ß‡¶§‡¶æ\", value: \"7 ‡¶¶‡¶ø‡¶®\" },\n// //       ],\n// //       termsAndConditions: [\n// //         \"‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ 18+ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶Ø‡ßã‡¶ú‡ßç‡¶Ø\",\n// //         \"‡¶®‡ßÇ‡¶®‡ßç‡¶Ø‡¶§‡¶Æ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡ß≥500 ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®\",\n// //         \"‡¶¨‡ßã‡¶®‡¶æ‡¶∏ 10x ‡¶ì‡¶Ø‡¶º‡ßá‡¶ú‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®\",\n// //         \"‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá\",\n// //       ],\n// //     },\n// //     // ... include other mock promotions from your original code\n// //   ];\n// // };\n\n// // export default PromotionPage;\n\n// // components/pages/PromotionPage.js\n// import React, { useState, useEffect, useCallback, useMemo } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import { usePopup } from \"../../layouts/PopupManager\";\n// import PromotionInfo from \"./PromotionInfo\";\n// import { useApi } from \"../../../hooks/useApi\";\n// import { useApp } from \"../../../contexts/AppContext\";\n// import promotionsService from \"../../../services/promotionService\";\n// import { useAuth } from \"../../../contexts/AuthContext\";\n\n// // Constants for better maintainability\n// const API_ENDPOINTS = {\n//   GAME_CATEGORIES:\n//     \"http://localhost:5000/api/games/New-table-Games-with-Providers\",\n// };\n\n// const BONUS_TYPES = {\n//   deposit: { label: \"Deposit Bonus\", color: \"#4CAF50\" },\n//   dailyRebate: { label: \"Daily Rebate\", color: \"#2196F3\" },\n//   weeklyBonus: { label: \"Weekly Bonus\", color: \"#9C27B0\" },\n//   vip: { label: \"VIP Bonus\", color: \"#FF9800\" },\n//   referral: { label: \"Referral Bonus\", color: \"#E91E63\" },\n//   referralRebate: { label: \"Referral Rebate\", color: \"#795548\" },\n//   normalDeposit: { label: \"Normal Deposit\", color: \"#607D8B\" },\n//   signup: { label: \"Signup Bonus\", color: \"#00BCD4\" },\n//   birthday: { label: \"Birthday Bonus\", color: \"#FF5722\" },\n//   other: { label: \"Other Bonus\", color: \"#757575\" },\n// };\n\n// const DEFAULT_CATEGORIES = [\n//   { key: \"all\", label: \"ALL\" },\n//   { key: \"deposit\", label: \"Deposit\" },\n//   { key: \"dailyRebate\", label: \"Daily Rebate\" },\n//   { key: \"weeklyBonus\", label: \"Weekly\" },\n//   { key: \"vip\", label: \"VIP\" },\n//   { key: \"referral\", label: \"Referral\" },\n//   { key: \"signup\", label: \"Signup\" },\n//   { key: \"birthday\", label: \"Birthday\" },\n// ];\n\n// const PromotionPage = ({ showError, showSuccess, showWarning, showInfo }) => {\n//   const navigate = useNavigate();\n//   const { openPopup } = usePopup();\n//   const [activeCategory, setActiveCategory] = useState(\"new-promotions\");\n//   const [categories, setCategories] = useState(DEFAULT_CATEGORIES);\n//   const [searchMode, setSearchMode] = useState(false);\n//   const [searchQuery, setSearchQuery] = useState(\"\");\n//   const [promotions, setPromotions] = useState([]);\n//   const [isLoading, setIsLoading] = useState(true);\n//   const { apiCall } = useApi();\n//   const { loading, setLoadingState } = useApp();\n\n//   // Fetch categories from API\n\n//   const GetPromotionsData = useCallback(async () => {\n//     setIsLoading(true);\n//     try {\n//       const response = await promotionsService.GetPromotions();\n//       console.log(\"Promotions Data:\", response);\n//       setPromotions(response.data);\n//     } catch (error) {\n//       console.error(\"Error fetching promotions:\", error.message);\n//     } finally {\n//       setIsLoading(false);\n//     }\n//   }, []);\n\n//   useEffect(() => {\n//     GetPromotionsData();\n//   }, []);\n\n//   // Fetch promotions data\n//   // useEffect(() => {\n//   //   const fetchPromotions = async () => {\n//   //     try {\n//   //       setIsLoading(true);\n//   //       // Replace with actual API call\n//   //       const mockPromotions = await GetPromotionsData();\n//   //       console.log(\"Promotions Data:\", mockPromotions);\n//   //       setPromotions(mockPromotions);\n//   //     } catch (err) {\n//   //       console.error(\"Error fetching promotions:\", err);\n//   //       showError?.(\"Failed to load promotions. Please try again later.\");\n//   //       setPromotions([]);\n//   //     } finally {\n//   //       setIsLoading(false);\n//   //     }\n//   //   };\n\n//   //   fetchPromotions();\n//   // }, [showError]);\n\n//   const closeModal = useCallback(() => {\n//     navigate(-1);\n//   }, [navigate]);\n\n//   const handleSearchToggle = useCallback(() => {\n//     setSearchMode((prev) => !prev);\n//     if (searchMode) {\n//       setSearchQuery(\"\");\n//     }\n//   }, [searchMode]);\n\n//   const handleSearchConfirm = useCallback(() => {\n//     console.log(\"Search query:\", searchQuery);\n//     setSearchMode(false);\n//   }, [searchQuery]);\n\n//   const handleCategoryChange = useCallback((category) => {\n//     setActiveCategory(category);\n//   }, []);\n\n//   // Memoized filtered promotions for better performance\n//   const filteredPromotions = useMemo(() => {\n//     return promotions.filter((promo) => {\n//       const matchesCategory =\n//         activeCategory === \"new-promotions\" ||\n//         promo.category_name ===\n//           activeCategory.categories.find((cat) => cat.key === activeCategory)\n//             .category_name;\n\n//       const matchesSearch =\n//         searchQuery === \"\" ||\n//         promo.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n//         promo.description.toLowerCase().includes(searchQuery.toLowerCase());\n\n//       return matchesCategory && matchesSearch;\n//     });\n//   }, [promotions, activeCategory, searchQuery]);\n\n//   const handlePromoAction = useCallback(\n//     (promotion) => {\n//       openPopup(\n//         <PromotionInfo\n//           promotion={promotion}\n//           // showSuccess={showSuccess}\n//           onClose={() => {}}\n//         />,\n//         {\n//           contentClass: \"promotionPop\",\n//           size: \"large\",\n//         }\n//       );\n//     },\n//     [openPopup, showSuccess]\n//   );\n\n//   // const handlePromoAction = useCallback(\n//   //   (promotion, actionType) => {\n//   //     if (actionType === \"apply\") {\n//   //       showSuccess?.(`Applied for: ${promotion.title}`);\n//   //     } else if (actionType === \"detail\") {\n//   //       handlePromoDetail(promotion);\n//   //     }\n//   //   },\n//   //   [handlePromoDetail, showSuccess]\n//   // );\n\n//   if (isLoading) {\n//     return <LoadingState />;\n//   }\n\n//   return (\n//     <div className=\"content-main promotion ng-tns-c1259012856-6 ng-star-inserted\">\n//       <div className=\"content-box ng-tns-c1259012856-6\">\n//         <div className=\"promotion ng-tns-c1259012856-6\">\n//           <SearchTab\n//             categories={categories}\n//             activeCategory={activeCategory}\n//             onCategoryChange={handleCategoryChange}\n//             searchMode={searchMode}\n//             onSearchToggle={handleSearchToggle}\n//             searchQuery={searchQuery}\n//             onSearchChange={setSearchQuery}\n//             onSearchConfirm={handleSearchConfirm}\n//           />\n\n//           <PromoCodeForm showSuccess={showSuccess} showError={showError} />\n\n//           <WaterfallScroll\n//             promotions={filteredPromotions}\n//             onPromoAction={handlePromoAction}\n//           />\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// // Loading State Component\n// const LoadingState = () => (\n//   <div className=\"content-main promotion ng-tns-c1259012856-6 ng-star-inserted\">\n//     <div className=\"content-box ng-tns-c1259012856-6\">\n//       <div className=\"promotion ng-tns-c1259012856-6\">\n//         <div className=\"loading-fullscreen\">\n//           <div className=\"loading-spinner\"></div>\n//           <p>Loading promotions...</p>\n//         </div>\n//       </div>\n//     </div>\n//   </div>\n// );\n\n// // Search Tab Component\n// const SearchTab = ({\n//   categories,\n//   activeCategory,\n//   onCategoryChange,\n//   searchMode,\n//   onSearchToggle,\n//   searchQuery,\n//   onSearchChange,\n//   onSearchConfirm,\n// }) => {\n//   if (searchMode) {\n//     return (\n//       <div className=\"searchpage ng-star-inserted\">\n//         <div className=\"search-top-info\">\n//           <div\n//             className=\"back\"\n//             onClick={onSearchToggle}\n//             role=\"button\"\n//             tabIndex={0}\n//           >\n//             <span\n//               className=\"item-icon\"\n//               style={{\n//                 maskImage:\n//                   'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-arrow-type09.svg?v=1761636564965\")',\n//               }}\n//             ></span>\n//             Back\n//           </div>\n//           <div\n//             className=\"icon-search ng-star-inserted\"\n//             style={{\n//               maskImage:\n//                 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-search-type02.svg?v=1761636564965\")',\n//             }}\n//           ></div>\n//           <input\n//             type=\"text\"\n//             className=\"ng-untouched ng-pristine ng-valid\"\n//             placeholder=\"Promotion Filter\"\n//             value={searchQuery}\n//             onChange={(e) => onSearchChange(e.target.value)}\n//             autoFocus\n//           />\n//         </div>\n//         <div className=\"searchpage-main\">\n//           {/* Search results would go here */}\n//         </div>\n//         <div className=\"searchpage-bar\">\n//           <button className=\"button\" onClick={onSearchConfirm}>\n//             Confirm\n//           </button>\n//         </div>\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"search-tab-wrapper\">\n//       <div className=\"tab search-tab ng-star-inserted\">\n//         <ul className=\"item-ani\">\n//           {categories.map((category, index) => (\n//             <li\n//               key={category.key}\n//               className={activeCategory === category.key ? \"active\" : \"\"}\n//               style={{ animationDelay: `${index * 0.1}s` }}\n//               onClick={() => onCategoryChange(category.key)}\n//               role=\"button\"\n//               tabIndex={0}\n//               onKeyPress={(e) => {\n//                 if (e.key === \"Enter\" || e.key === \" \") {\n//                   onCategoryChange(category.key);\n//                 }\n//               }}\n//             >\n//               {category.label}\n//             </li>\n//           ))}\n//           <li className=\"search-icon ng-star-inserted\" onClick={onSearchToggle}>\n//             <span\n//               className=\"item-icon\"\n//               style={{\n//                 maskImage:\n//                   'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-search-type02.svg?v=1761636564965\")',\n//               }}\n//             ></span>\n//           </li>\n//         </ul>\n//       </div>\n//     </div>\n//   );\n// };\n\n// // Promo Code Form Component\n// const PromoCodeForm = ({ showSuccess, showError }) => {\n//   const [promoCode, setPromoCode] = useState(\"\");\n\n//   const handleAddPromoCode = () => {\n//     const trimmedCode = promoCode.trim();\n//     if (trimmedCode) {\n//       showSuccess?.(`Promo code ${trimmedCode} added successfully!`);\n//       setPromoCode(\"\");\n//     } else {\n//       showError?.(\"Please enter a promo code\");\n//     }\n//   };\n\n//   const handleKeyPress = (e) => {\n//     if (e.key === \"Enter\") {\n//       handleAddPromoCode();\n//     }\n//   };\n\n//   return (\n//     <form className=\"promotion-main promo-code-form ng-untouched ng-pristine ng-valid ng-star-inserted\">\n//       <div className=\"input-group\">\n//         <input\n//           autoComplete=\"off\"\n//           type=\"text\"\n//           maxLength=\"30\"\n//           className=\"password ng-untouched ng-pristine ng-valid\"\n//           placeholder=\"Promo Code\"\n//           value={promoCode}\n//           onChange={(e) => setPromoCode(e.target.value)}\n//           onKeyPress={handleKeyPress}\n//         />\n//         <div\n//           className=\"promo-code-add-btn\"\n//           onClick={handleAddPromoCode}\n//           role=\"button\"\n//           tabIndex={0}\n//           onKeyPress={handleKeyPress}\n//         >\n//           Add\n//         </div>\n//       </div>\n//     </form>\n//   );\n// };\n\n// // Waterfall Scroll Component\n// const WaterfallScroll = ({ promotions, onPromoAction }) => {\n//   if (promotions.length === 0) {\n//     return (\n//       <div className=\"promotion-main promotion-main-scroll-wrapper ng-trigger ng-trigger-staggerFadeAnimation\">\n//         <EmptyState />\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"promotion-main promotion-main-scroll-wrapper ng-trigger ng-trigger-staggerFadeAnimation\">\n//       {promotions.map((promotion, index) => (\n//         <PromotionCard\n//           key={promotion.id}\n//           promotion={promotion}\n//           index={index}\n//           onAction={onPromoAction}\n//         />\n//       ))}\n\n//       <EndOfPagePrompt show={promotions.length > 0} />\n\n//       <div className=\"anchor\" style={{ height: \"10px\", visibility: \"hidden\" }}>\n//         anchor\n//       </div>\n//     </div>\n//   );\n// };\n\n// // Empty State Component\n// const EmptyState = () => (\n//   <div className=\"empty-state\">\n//     <div className=\"empty-icon\">üéÅ</div>\n//     <h3>No promotions found</h3>\n//     <p>Try changing your search or filter criteria</p>\n//   </div>\n// );\n\n// // End of Page Prompt Component\n// const EndOfPagePrompt = ({ show }) => {\n//   if (!show) return null;\n\n//   return <div className=\"prompt ng-star-inserted\">Ôºçend of pageÔºç</div>;\n// };\n\n// // Promotion Card Component\n// const PromotionCard = ({ promotion, index, onAction }) => {\n//   const { user } = useAuth();\n//   const navigate = useNavigate();\n//   const [isJoined, setIsJoined] = useState(false);\n\n//   const handleButtonClick = (actionType) => {\n//     if (actionType === \"joined\") {\n//       setIsJoined(!isJoined);\n\n//       navigate(`/deposit`);\n//     } else {\n//       onAction(promotion, actionType);\n//     }\n//   };\n\n//   const renderButton = () => {};\n\n//   return (\n//     <div\n//       className=\"promotion-box new promotion-toggle ng-star-inserted\"\n//       style={{ animationDelay: `${index * 0.1}s` }}\n//     >\n//       <div className=\"pic\">\n//         <img\n//           alt={promotion.title}\n//           src={promotion.image}\n//           loading=\"lazy\"\n//           onError={(e) => {\n//             e.target.src =\n//               \"https://via.placeholder.com/300x150?text=Promotion+Image\";\n//           }}\n//         />\n//         <span\n//           className=\"item-bg\"\n//           style={{\n//             maskImage:\n//               'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/player/promotion-bg.svg?v=1761636564965\")',\n//           }}\n//         ></span>\n//       </div>\n\n//       <div className=\"promotion-box-inner content-style\">\n//         <div className=\"text-main\">\n//           <h3>{promotion.title}</h3>\n//           <p>{promotion.description}</p>\n//         </div>\n\n//         <div className=\"times\">\n//           <span\n//             className=\"item-icon\"\n//             style={{\n//               maskImage:\n//                 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-clock.svg?v=1761636564965\")',\n//             }}\n//           ></span>\n//           <span>{promotion.type}</span>\n//         </div>\n\n//         <div className=\"button-box\">\n//           {user  ? (\n//             <>\n//               <ActionButton\n//                 className=\"button button__apply\"\n//                 onClick={() => handleButtonClick(\"apply\")}\n//                 label=\"Apply Now\"\n//               />\n\n//               {/* <ActionButton\n//                 className={`button button__joined ${isJoined ? \"active\" : \"\"}`}\n//                 onClick={() => handleButtonClick(\"joined\")}\n//                 label={isJoined ? \"Joined\" : \"Join\"}\n//               /> */}\n//             </>\n//           ) : (\n//             <ActionButton\n//               className=\"button button__detail\"\n//               onClick={() => handleButtonClick(\"detail\")}\n//               label=\"View Details\"\n//             />\n//           )}\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// // Reusable Action Button Component\n// const ActionButton = ({ className, onClick, label }) => (\n//   <div\n//     className={className}\n//     onClick={onClick}\n//     role=\"button\"\n//     tabIndex={0}\n//     onKeyPress={(e) => {\n//       if (e.key === \"Enter\" || e.key === \" \") {\n//         onClick();\n//       }\n//     }}\n//   >\n//     <span>{label}</span>\n//   </div>\n// );\n\n// // Mock data function (replace with actual API call)\n// const getMockPromotions = async () => {\n//   // Simulate API delay\n//   await new Promise((resolve) => setTimeout(resolve, 1000));\n\n//   return [\n//     {\n//       id: 1,\n//       title: \"4% Unlimited Bonus + Free Spins\",\n//       description: \"Starts at 10:00 PM, to next day 9:59 PM BST!\",\n//       image: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\n//       type: \"Limited Offer\",\n//       buttonType: \"apply\",\n//       category: \"new-promotions\",\n//       bannerImage:\n//         \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\n//       howToJoin: [\n//         \"‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá\",\n//         \"‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã‡¶∂‡¶® ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ‡¶Ø‡¶º ‡¶Ø‡¶æ‡¶®\",\n//         \"‡¶¨‡ßã‡¶®‡¶æ‡¶∏‡ßá ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®\",\n//         \"‡¶ú‡¶Ø‡¶º ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ü‡¶ï‡¶∞‡ßç‡¶∑‡¶£‡ßÄ‡¶Ø‡¶º ‡¶™‡ßÅ‡¶∞‡¶∏‡ßç‡¶ï‡¶æ‡¶∞!\",\n//       ],\n//       bonusDetails: [\n//         { label: \"‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£\", value: \"4% ‡¶Ü‡¶®‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡ßá‡¶°\" },\n//         { label: \"‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü\", value: \"‡ß≥500\" },\n//         { label: \"‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§ ‡¶∏‡ßç‡¶™‡¶ø‡¶®\", value: \"20 ‡¶´‡ßç‡¶∞‡¶ø ‡¶∏‡ßç‡¶™‡¶ø‡¶®\" },\n//         { label: \"‡¶¨‡ßà‡¶ß‡¶§‡¶æ\", value: \"7 ‡¶¶‡¶ø‡¶®\" },\n//       ],\n//       termsAndConditions: [\n//         \"‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ 18+ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶Ø‡ßã‡¶ú‡ßç‡¶Ø\",\n//         \"‡¶®‡ßÇ‡¶®‡ßç‡¶Ø‡¶§‡¶Æ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡ß≥500 ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®\",\n//         \"‡¶¨‡ßã‡¶®‡¶æ‡¶∏ 10x ‡¶ì‡¶Ø‡¶º‡ßá‡¶ú‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®\",\n//         \"‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá\",\n//       ],\n//     },\n//     // ... include other mock promotions from your original code\n//   ];\n// };\n\n// export default PromotionPage;\n\n// components/pages/PromotionPage.js\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { usePopup } from \"../../layouts/PopupManager\";\nimport PromotionInfo from \"./PromotionInfo\";\nimport { useApi } from \"../../../hooks/useApi\";\nimport { useApp } from \"../../../contexts/AppContext\";\nimport promotionsService from \"../../../services/promotionService\";\nimport { useAuth } from \"../../../contexts/AuthContext\";\n\n// Constants for better maintainability\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULT_CATEGORIES = [{\n  key: \"all\",\n  label: \"ALL\"\n}, {\n  key: \"welcome\",\n  label: \"Welcome Offer\"\n}, {\n  key: \"slots\",\n  label: \"Slots\"\n}, {\n  key: \"live-casino\",\n  label: \"Live Casino\"\n}, {\n  key: \"sports\",\n  label: \"Sports\"\n}, {\n  key: \"fishing\",\n  label: \"Fishing\"\n}, {\n  key: \"card\",\n  label: \"Card\"\n}, {\n  key: \"lottery\",\n  label: \"Lottery\"\n}, {\n  key: \"table\",\n  label: \"Table\"\n}, {\n  key: \"arcade\",\n  label: \"Arcade\"\n}, {\n  key: \"cock-fighting\",\n  label: \"Cock Fighting\"\n}, {\n  key: \"crash\",\n  label: \"Crash\"\n}, {\n  key: \"other\",\n  label: \"Other\"\n}];\nconst PromotionPage = ({\n  showError,\n  showSuccess,\n  showWarning,\n  showInfo\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    openPopup\n  } = usePopup();\n  const [activeCategory, setActiveCategory] = useState(\"all\");\n  const [categories, setCategories] = useState(DEFAULT_CATEGORIES);\n  const [searchMode, setSearchMode] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [promotions, setPromotions] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const {\n    apiCall\n  } = useApi();\n  const {\n    loading,\n    setLoadingState\n  } = useApp();\n\n  // Fetch promotions data\n  const GetPromotionsData = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const response = await promotionsService.GetPromotions();\n      console.log(\"Promotions Data:\", response);\n      setPromotions(response.data || []);\n    } catch (error) {\n      console.error(\"Error fetching promotions:\", error.message);\n      showError === null || showError === void 0 ? void 0 : showError(\"Failed to load promotions. Please try again later.\");\n    } finally {\n      setIsLoading(false);\n    }\n  }, [showError]);\n  useEffect(() => {\n    GetPromotionsData();\n  }, [GetPromotionsData]);\n  const handleSearchToggle = useCallback(() => {\n    setSearchMode(prev => !prev);\n    if (searchMode) {\n      setSearchQuery(\"\");\n    }\n  }, [searchMode]);\n  const handleSearchConfirm = useCallback(() => {\n    console.log(\"Search query:\", searchQuery);\n    setSearchMode(false);\n  }, [searchQuery]);\n  const handleCategoryChange = useCallback(category => {\n    setActiveCategory(category);\n  }, []);\n\n  // Memoized filtered promotions for better performance\n  const filteredPromotions = useMemo(() => {\n    if (!promotions || !Array.isArray(promotions)) return [];\n    return promotions.filter(promo => {\n      const matchesCategory = activeCategory === \"all\" || promo.category === activeCategory || promo.tags && promo.tags.includes(activeCategory);\n      const matchesSearch = searchQuery === \"\" || promo.title && promo.title.toLowerCase().includes(searchQuery.toLowerCase()) || promo.description && promo.description.toLowerCase().includes(searchQuery.toLowerCase());\n      return matchesCategory && matchesSearch;\n    });\n  }, [promotions, activeCategory, searchQuery]);\n  const handlePromoAction = useCallback((promotion, actionType = \"detail\") => {\n    if (actionType === \"detail\") {\n      openPopup(/*#__PURE__*/_jsxDEV(PromotionInfo, {\n        promotion: promotion,\n        onClose: () => {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1166,\n        columnNumber: 11\n      }, this), {\n        contentClass: \"promotionPop\",\n        size: \"large\"\n      });\n    } else if (actionType === \"apply\") {\n      // Handle apply logic\n      showSuccess === null || showSuccess === void 0 ? void 0 : showSuccess(`Applied for: ${promotion.title}`);\n    }\n  }, [openPopup, showSuccess]);\n  const handlePromoCodeSubmit = useCallback(async promoCode => {\n    try {\n      // Add promo code logic here\n      showSuccess === null || showSuccess === void 0 ? void 0 : showSuccess(`Promo code ${promoCode} added successfully!`);\n    } catch (error) {\n      showError === null || showError === void 0 ? void 0 : showError(\"Failed to add promo code. Please try again.\");\n    }\n  }, [showSuccess, showError]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(LoadingState, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1193,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content-main promotion ng-tns-c1259012856-6 ng-star-inserted\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-box ng-tns-c1259012856-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"promotion ng-tns-c1259012856-6\",\n        children: [/*#__PURE__*/_jsxDEV(SearchTab, {\n          categories: categories,\n          activeCategory: activeCategory,\n          onCategoryChange: handleCategoryChange,\n          searchMode: searchMode,\n          onSearchToggle: handleSearchToggle,\n          searchQuery: searchQuery,\n          onSearchChange: setSearchQuery,\n          onSearchConfirm: handleSearchConfirm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PromoCodeForm, {\n          onSubmit: handlePromoCodeSubmit,\n          showSuccess: showSuccess,\n          showError: showError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(WaterfallScroll, {\n          promotions: filteredPromotions,\n          onPromoAction: handlePromoAction\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1199,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1198,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1197,\n    columnNumber: 5\n  }, this);\n};\n\n// Loading State Component\n_s(PromotionPage, \"hE2pO3Hw7odCauK56A3CFmj3zUk=\", false, function () {\n  return [useNavigate, usePopup, useApi, useApp];\n});\n_c = PromotionPage;\nconst LoadingState = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"content-main promotion ng-tns-c1259012856-6 ng-star-inserted\",\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content-box ng-tns-c1259012856-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"promotion ng-tns-c1259012856-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-fullscreen\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading promotions...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1232,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1231,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1230,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 1229,\n  columnNumber: 3\n}, this);\n\n// Search Tab Component\n_c2 = LoadingState;\nconst SearchTab = ({\n  categories,\n  activeCategory,\n  onCategoryChange,\n  searchMode,\n  onSearchToggle,\n  searchQuery,\n  onSearchChange,\n  onSearchConfirm\n}) => {\n  if (searchMode) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchpage ng-star-inserted\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-top-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"back\",\n          onClick: onSearchToggle,\n          role: \"button\",\n          tabIndex: 0,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"item-icon\",\n            style: {\n              maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-arrow-type09.svg?v=1762272774179\")'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1262,\n            columnNumber: 13\n          }, this), \"Back\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"icon-search ng-star-inserted\",\n          style: {\n            maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-search-type02.svg?v=1762272774179\")'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"ng-untouched ng-pristine ng-valid\",\n          placeholder: \"Promotion Filter\",\n          value: searchQuery,\n          onChange: e => onSearchChange(e.target.value),\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searchpage-main\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searchpage-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button\",\n          onClick: onSearchConfirm,\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1291,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1254,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-tab-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab search-tab ng-star-inserted\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"item-ani\",\n        children: [categories.map((category, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: activeCategory === category.key ? \"active\" : \"\",\n          style: {\n            animationDelay: `${index * 0.1}s`\n          },\n          onClick: () => onCategoryChange(category.key),\n          role: \"button\",\n          tabIndex: 0,\n          onKeyPress: e => {\n            if (e.key === \"Enter\" || e.key === \" \") {\n              onCategoryChange(category.key);\n            }\n          },\n          children: category.label\n        }, category.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1304,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"search-icon ng-star-inserted\",\n          onClick: onSearchToggle,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"item-icon\",\n            style: {\n              maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-search-type02.svg?v=1762272774179\")'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1321,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1320,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1302,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1301,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1300,\n    columnNumber: 5\n  }, this);\n};\n\n// Promo Code Form Component\n_c3 = SearchTab;\nconst PromoCodeForm = ({\n  onSubmit,\n  showSuccess,\n  showError\n}) => {\n  _s2();\n  const [promoCode, setPromoCode] = useState(\"\");\n  const handleAddPromoCode = () => {\n    const trimmedCode = promoCode.trim();\n    if (trimmedCode) {\n      onSubmit === null || onSubmit === void 0 ? void 0 : onSubmit(trimmedCode);\n      setPromoCode(\"\");\n    } else {\n      showError === null || showError === void 0 ? void 0 : showError(\"Please enter a promo code\");\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === \"Enter\") {\n      handleAddPromoCode();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"promotion-main promo-code-form ng-untouched ng-pristine ng-valid ng-star-inserted\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        autoComplete: \"off\",\n        type: \"text\",\n        maxLength: \"30\",\n        className: \"password ng-untouched ng-pristine ng-valid\",\n        placeholder: \"Promo Code\",\n        value: promoCode,\n        onChange: e => setPromoCode(e.target.value),\n        onKeyPress: handleKeyPress\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1358,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"promo-code-add-btn\",\n        onClick: handleAddPromoCode,\n        role: \"button\",\n        tabIndex: 0,\n        onKeyPress: handleKeyPress,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1368,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1357,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1356,\n    columnNumber: 5\n  }, this);\n};\n\n// Waterfall Scroll Component\n_s2(PromoCodeForm, \"Q5URYTRDLXGbtcx09aJp/N762JU=\");\n_c4 = PromoCodeForm;\nconst WaterfallScroll = ({\n  promotions,\n  onPromoAction\n}) => {\n  if (!promotions || promotions.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"promotion-main promotion-main-scroll-wrapper ng-trigger ng-trigger-staggerFadeAnimation\",\n      children: /*#__PURE__*/_jsxDEV(EmptyState, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1387,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1386,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"promotion-main promotion-main-scroll-wrapper ng-trigger ng-trigger-staggerFadeAnimation\",\n    children: [promotions.map((promotion, index) => /*#__PURE__*/_jsxDEV(PromotionCard, {\n      promotion: promotion,\n      index: index,\n      onAction: onPromoAction\n    }, promotion.id || index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1395,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(EndOfPagePrompt, {\n      show: promotions.length > 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1403,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"anchor\",\n      style: {\n        height: \"10px\",\n        visibility: \"hidden\"\n      },\n      children: \"anchor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1405,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1393,\n    columnNumber: 5\n  }, this);\n};\n\n// Empty State Component\n_c5 = WaterfallScroll;\nconst EmptyState = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"empty-state\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"empty-icon\",\n    children: \"\\uD83C\\uDF81\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1415,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n    children: \"No promotions found\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1416,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Try changing your search or filter criteria\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1417,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 1414,\n  columnNumber: 3\n}, this);\n\n// End of Page Prompt Component\n_c6 = EmptyState;\nconst EndOfPagePrompt = ({\n  show\n}) => {\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"prompt ng-star-inserted\",\n    children: \"\\uFF0Dend of page\\uFF0D\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1425,\n    columnNumber: 10\n  }, this);\n};\n\n// Promotion Card Component\n_c7 = EndOfPagePrompt;\nconst PromotionCard = ({\n  promotion,\n  index,\n  onAction\n}) => {\n  _s3();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [isJoined, setIsJoined] = useState(promotion.isJoined || false);\n  const handleApplyClick = () => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    if (promotion.requiresDeposit) {\n      navigate('/deposit');\n    } else {\n      onAction === null || onAction === void 0 ? void 0 : onAction(promotion, \"apply\");\n    }\n  };\n  const handleDetailClick = () => {\n    onAction === null || onAction === void 0 ? void 0 : onAction(promotion, \"detail\");\n  };\n  const handleJoinClick = () => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    setIsJoined(!isJoined);\n    onAction === null || onAction === void 0 ? void 0 : onAction(promotion, \"joined\");\n  };\n  const renderButton = () => {\n    if (promotion.buttonType === \"joined\") {\n      return /*#__PURE__*/_jsxDEV(ActionButton, {\n        className: `button button__joined ${isJoined ? \"active\" : \"\"}`,\n        onClick: handleJoinClick,\n        label: isJoined ? \"Joined\" : \"Join\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1463,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(ActionButton, {\n        className: \"button button__apply\",\n        onClick: handleApplyClick,\n        label: \"Apply Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1471,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"promotion-box new promotion-toggle ng-star-inserted\",\n    style: {\n      animationDelay: `${index * 0.1}s`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pic\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        alt: promotion.title || \"Promotion\",\n        src: promotion.image || \"https://via.placeholder.com/300x150?text=Promotion+Image\",\n        loading: \"lazy\",\n        onError: e => {\n          e.target.src = \"https://via.placeholder.com/300x150?text=Promotion+Image\";\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1486,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"item-bg\",\n        style: {\n          maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/player/promotion-bg.svg?v=1762272774179\")'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1494,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1485,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"promotion-box-inner content-style\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-main\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: promotion.title || \"Promotion Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1505,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: promotion.description || \"Promotion description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1506,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1504,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"times\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"item-icon\",\n          style: {\n            maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-clock.svg?v=1762272774179\")'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1510,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: promotion.type || \"Limited Offer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1517,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1509,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-box\",\n        children: [renderButton(), /*#__PURE__*/_jsxDEV(ActionButton, {\n          className: \"button btn-primary\",\n          onClick: handleDetailClick,\n          label: \"Detail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1522,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1520,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1503,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1481,\n    columnNumber: 5\n  }, this);\n};\n\n// Reusable Action Button Component\n_s3(PromotionCard, \"gmXZ2/k7l/YGfmN2dkLB9I0fUug=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c8 = PromotionCard;\nconst ActionButton = ({\n  className,\n  onClick,\n  label\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: className,\n  onClick: onClick,\n  role: \"button\",\n  tabIndex: 0,\n  onKeyPress: e => {\n    if (e.key === \"Enter\" || e.key === \" \") {\n      onClick();\n    }\n  },\n  children: /*#__PURE__*/_jsxDEV(\"span\", {\n    children: label\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1546,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 1535,\n  columnNumber: 3\n}, this);\n_c9 = ActionButton;\nexport default PromotionPage;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"PromotionPage\");\n$RefreshReg$(_c2, \"LoadingState\");\n$RefreshReg$(_c3, \"SearchTab\");\n$RefreshReg$(_c4, \"PromoCodeForm\");\n$RefreshReg$(_c5, \"WaterfallScroll\");\n$RefreshReg$(_c6, \"EmptyState\");\n$RefreshReg$(_c7, \"EndOfPagePrompt\");\n$RefreshReg$(_c8, \"PromotionCard\");\n$RefreshReg$(_c9, \"ActionButton\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useNavigate","usePopup","PromotionInfo","useApi","useApp","promotionsService","useAuth","jsxDEV","_jsxDEV","DEFAULT_CATEGORIES","key","label","PromotionPage","showError","showSuccess","showWarning","showInfo","_s","navigate","openPopup","activeCategory","setActiveCategory","categories","setCategories","searchMode","setSearchMode","searchQuery","setSearchQuery","promotions","setPromotions","isLoading","setIsLoading","apiCall","loading","setLoadingState","GetPromotionsData","response","GetPromotions","console","log","data","error","message","handleSearchToggle","prev","handleSearchConfirm","handleCategoryChange","category","filteredPromotions","Array","isArray","filter","promo","matchesCategory","tags","includes","matchesSearch","title","toLowerCase","description","handlePromoAction","promotion","actionType","onClose","fileName","_jsxFileName","lineNumber","columnNumber","contentClass","size","handlePromoCodeSubmit","promoCode","LoadingState","className","children","SearchTab","onCategoryChange","onSearchToggle","onSearchChange","onSearchConfirm","PromoCodeForm","onSubmit","WaterfallScroll","onPromoAction","_c","_c2","onClick","role","tabIndex","style","maskImage","type","placeholder","value","onChange","e","target","autoFocus","map","index","animationDelay","onKeyPress","_c3","_s2","setPromoCode","handleAddPromoCode","trimmedCode","trim","handleKeyPress","autoComplete","maxLength","_c4","length","EmptyState","PromotionCard","onAction","id","EndOfPagePrompt","show","height","visibility","_c5","_c6","_c7","_s3","user","isJoined","setIsJoined","handleApplyClick","requiresDeposit","handleDetailClick","handleJoinClick","renderButton","buttonType","ActionButton","alt","src","image","onError","_c8","_c9","$RefreshReg$"],"sources":["F:/png71/my-app/src/components/member/PromotionPage/PromotionPage.jsx"],"sourcesContent":["// // // components/pages/PromotionPage.js\r\n// // import React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\n// // import { useNavigate } from \"react-router-dom\";\r\n// // import { usePopup } from \"../layouts/PopupManager\";\r\n// // import PromotionInfo from \"../member/PromotionPage/PromotionInfo\";\r\n// // import { useApi } from \"../../hooks/useApi\";\r\n// // import { useApp } from \"../../contexts/AppContext\";\r\n// // import promotionsService from \"../../services/promotionService\";\r\n\r\n// // // Constants for better maintainability\r\n// // const API_ENDPOINTS = {\r\n// //   GAME_CATEGORIES: \"http://localhost:5000/api/games/New-table-Games-with-Providers\",\r\n// // };\r\n\r\n// // const BONUS_TYPES = {\r\n// //   deposit: { label: 'Deposit Bonus', color: '#4CAF50' },\r\n// //   dailyRebate: { label: 'Daily Rebate', color: '#2196F3' },\r\n// //   weeklyBonus: { label: 'Weekly Bonus', color: '#9C27B0' },\r\n// //   vip: { label: 'VIP Bonus', color: '#FF9800' },\r\n// //   referral: { label: 'Referral Bonus', color: '#E91E63' },\r\n// //   referralRebate: { label: 'Referral Rebate', color: '#795548' },\r\n// //   normalDeposit: { label: 'Normal Deposit', color: '#607D8B' },\r\n// //   signup: { label: 'Signup Bonus', color: '#00BCD4' },\r\n// //   birthday: { label: 'Birthday Bonus', color: '#FF5722' },\r\n// //   other: { label: 'Other Bonus', color: '#757575' }\r\n// // };\r\n\r\n// // const DEFAULT_CATEGORIES = [\r\n// //   { key: 'all', label: 'ALL' },\r\n// //   { key: 'deposit', label: 'Deposit' },\r\n// //   { key: 'dailyRebate', label: 'Daily Rebate' },\r\n// //   { key: 'weeklyBonus', label: 'Weekly' },\r\n// //   { key: 'vip', label: 'VIP' },\r\n// //   { key: 'referral', label: 'Referral' },\r\n// //   { key: 'signup', label: 'Signup' },\r\n// //   { key: 'birthday', label: 'Birthday' }\r\n// // ];\r\n\r\n// // const PromotionPage = ({ showError, showSuccess, showWarning, showInfo }) => {\r\n// //   const navigate = useNavigate();\r\n// //   const { openPopup } = usePopup();\r\n// //   const [activeCategory, setActiveCategory] = useState(\"new-promotions\");\r\n// //   const [categories, setCategories] = useState(DEFAULT_CATEGORIES);\r\n// //   const [searchMode, setSearchMode] = useState(false);\r\n// //   const [searchQuery, setSearchQuery] = useState(\"\");\r\n// //   const [promotions, setPromotions] = useState([]);\r\n// //   const [isLoading, setIsLoading] = useState(true);\r\n// //   const { apiCall } = useApi();\r\n// //   const { loading,setLoadingState } = useApp();\r\n\r\n// //   // Fetch categories from API\r\n\r\n// // const GetPromotionsData = useCallback(async () => {\r\n// //     setIsLoading(true);\r\n// //     try {\r\n// //       const response = await promotionsService.GetPromotions();\r\n// //       console.log(\"Promotions Data:\", response);\r\n// //       setPromotions(response.data );\r\n// //     } catch (error) {\r\n// //       console.error(\"Error fetching promotions:\", error.message);\r\n// //     } finally {\r\n// //       setIsLoading(false);\r\n// //     }\r\n// //   }, []);\r\n\r\n// //   useEffect(() => {\r\n// //     GetPromotionsData();\r\n// //   }, []);\r\n\r\n// //   // Fetch promotions data\r\n// //   // useEffect(() => {\r\n// //   //   const fetchPromotions = async () => {\r\n// //   //     try {\r\n// //   //       setIsLoading(true);\r\n// //   //       // Replace with actual API call\r\n// //   //       const mockPromotions = await GetPromotionsData();\r\n// //   //       console.log(\"Promotions Data:\", mockPromotions);\r\n// //   //       setPromotions(mockPromotions);\r\n// //   //     } catch (err) {\r\n// //   //       console.error(\"Error fetching promotions:\", err);\r\n// //   //       showError?.(\"Failed to load promotions. Please try again later.\");\r\n// //   //       setPromotions([]);\r\n// //   //     } finally {\r\n// //   //       setIsLoading(false);\r\n// //   //     }\r\n// //   //   };\r\n\r\n// //   //   fetchPromotions();\r\n// //   // }, [showError]);\r\n\r\n// //   const closeModal = useCallback(() => {\r\n// //     navigate(-1);\r\n// //   }, [navigate]);\r\n\r\n// //   const handleSearchToggle = useCallback(() => {\r\n// //     setSearchMode(prev => !prev);\r\n// //     if (searchMode) {\r\n// //       setSearchQuery(\"\");\r\n// //     }\r\n// //   }, [searchMode]);\r\n\r\n// //   const handleSearchConfirm = useCallback(() => {\r\n// //     console.log(\"Search query:\", searchQuery);\r\n// //     setSearchMode(false);\r\n// //   }, [searchQuery]);\r\n\r\n// //   const handleCategoryChange = useCallback((category) => {\r\n// //     setActiveCategory(category);\r\n// //   }, []);\r\n\r\n// //   // Memoized filtered promotions for better performance\r\n// //   const filteredPromotions = useMemo(() => {\r\n// //     return promotions.filter((promo) => {\r\n// //       const matchesCategory =\r\n// //         activeCategory === \"new-promotions\" ||\r\n// //         promo.category_name === activeCategory.categories.find(cat => cat.key === activeCategory).category_name;\r\n\r\n// //       const matchesSearch =\r\n// //         searchQuery === \"\" ||\r\n// //         promo.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n// //         promo.description.toLowerCase().includes(searchQuery.toLowerCase());\r\n\r\n// //       return matchesCategory && matchesSearch;\r\n// //     });\r\n// //   }, [promotions, activeCategory, searchQuery]);\r\n\r\n// //   const handlePromoAction = useCallback(\r\n// //     (promotion) => {\r\n// //       openPopup(\r\n// //         <PromotionInfo\r\n// //           promotion={promotion}\r\n// //           showSuccess={showSuccess}\r\n// //           onClose={() => {}}\r\n// //         />,\r\n// //         {\r\n// //           contentClass: \"promotionPop\",\r\n// //           size: \"large\",\r\n// //         }\r\n// //       );\r\n// //     },\r\n// //     [openPopup, showSuccess]\r\n// //   );\r\n\r\n// //   // const handlePromoAction = useCallback(\r\n// //   //   (promotion, actionType) => {\r\n// //   //     if (actionType === \"apply\") {\r\n// //   //       showSuccess?.(`Applied for: ${promotion.title}`);\r\n// //   //     } else if (actionType === \"detail\") {\r\n// //   //       handlePromoDetail(promotion);\r\n// //   //     }\r\n// //   //   },\r\n// //   //   [handlePromoDetail, showSuccess]\r\n// //   // );\r\n\r\n// //   if (isLoading) {\r\n// //     return <LoadingState />;\r\n// //   }\r\n\r\n// //   return (\r\n// //     <div className=\"content-main promotion ng-tns-c1259012856-6 ng-star-inserted\">\r\n// //       <div className=\"content-box ng-tns-c1259012856-6\">\r\n// //         <div className=\"promotion ng-tns-c1259012856-6\">\r\n// //           <SearchTab\r\n// //             categories={categories}\r\n// //             activeCategory={activeCategory}\r\n// //             onCategoryChange={handleCategoryChange}\r\n// //             searchMode={searchMode}\r\n// //             onSearchToggle={handleSearchToggle}\r\n// //             searchQuery={searchQuery}\r\n// //             onSearchChange={setSearchQuery}\r\n// //             onSearchConfirm={handleSearchConfirm}\r\n// //           />\r\n\r\n// //           <PromoCodeForm\r\n// //             showSuccess={showSuccess}\r\n// //             showError={showError}\r\n// //           />\r\n\r\n// //           <WaterfallScroll\r\n// //             promotions={filteredPromotions}\r\n// //             onPromoAction={handlePromoAction}\r\n// //           />\r\n// //         </div>\r\n// //       </div>\r\n// //     </div>\r\n// //   );\r\n// // };\r\n\r\n// // // Loading State Component\r\n// // const LoadingState = () => (\r\n// //   <div className=\"content-main promotion ng-tns-c1259012856-6 ng-star-inserted\">\r\n// //     <div className=\"content-box ng-tns-c1259012856-6\">\r\n// //       <div className=\"promotion ng-tns-c1259012856-6\">\r\n// //         <div className=\"loading-fullscreen\">\r\n// //           <div className=\"loading-spinner\"></div>\r\n// //           <p>Loading promotions...</p>\r\n// //         </div>\r\n// //       </div>\r\n// //     </div>\r\n// //   </div>\r\n// // );\r\n\r\n// // // Search Tab Component\r\n// // const SearchTab = ({\r\n// //   categories,\r\n// //   activeCategory,\r\n// //   onCategoryChange,\r\n// //   searchMode,\r\n// //   onSearchToggle,\r\n// //   searchQuery,\r\n// //   onSearchChange,\r\n// //   onSearchConfirm,\r\n// // }) => {\r\n// //   if (searchMode) {\r\n// //     return (\r\n// //       <div className=\"searchpage ng-star-inserted\">\r\n// //         <div className=\"search-top-info\">\r\n// //           <div className=\"back\" onClick={onSearchToggle} role=\"button\" tabIndex={0}>\r\n// //             <span\r\n// //               className=\"item-icon\"\r\n// //               style={{\r\n// //                 maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-arrow-type09.svg?v=1761636564965\")',\r\n// //               }}\r\n// //             ></span>\r\n// //             Back\r\n// //           </div>\r\n// //           <div\r\n// //             className=\"icon-search ng-star-inserted\"\r\n// //             style={{\r\n// //               maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-search-type02.svg?v=1761636564965\")',\r\n// //             }}\r\n// //           ></div>\r\n// //           <input\r\n// //             type=\"text\"\r\n// //             className=\"ng-untouched ng-pristine ng-valid\"\r\n// //             placeholder=\"Promotion Filter\"\r\n// //             value={searchQuery}\r\n// //             onChange={(e) => onSearchChange(e.target.value)}\r\n// //             autoFocus\r\n// //           />\r\n// //         </div>\r\n// //         <div className=\"searchpage-main\">\r\n// //           {/* Search results would go here */}\r\n// //         </div>\r\n// //         <div className=\"searchpage-bar\">\r\n// //           <button className=\"button\" onClick={onSearchConfirm}>\r\n// //             Confirm\r\n// //           </button>\r\n// //         </div>\r\n// //       </div>\r\n// //     );\r\n// //   }\r\n\r\n// //   return (\r\n// //     <div className=\"search-tab-wrapper\">\r\n// //       <div className=\"tab search-tab ng-star-inserted\">\r\n// //         <ul className=\"item-ani\">\r\n// //           {categories.map((category, index) => (\r\n// //             <li\r\n// //               key={category.key}\r\n// //               className={activeCategory === category.key ? \"active\" : \"\"}\r\n// //               style={{ animationDelay: `${index * 0.1}s` }}\r\n// //               onClick={() => onCategoryChange(category.key)}\r\n// //               role=\"button\"\r\n// //               tabIndex={0}\r\n// //               onKeyPress={(e) => {\r\n// //                 if (e.key === \"Enter\" || e.key === \" \") {\r\n// //                   onCategoryChange(category.key);\r\n// //                 }\r\n// //               }}\r\n// //             >\r\n// //               {category.label}\r\n// //             </li>\r\n// //           ))}\r\n// //           <li className=\"search-icon ng-star-inserted\" onClick={onSearchToggle}>\r\n// //             <span\r\n// //               className=\"item-icon\"\r\n// //               style={{\r\n// //                 maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-search-type02.svg?v=1761636564965\")',\r\n// //               }}\r\n// //             ></span>\r\n// //           </li>\r\n// //         </ul>\r\n// //       </div>\r\n// //     </div>\r\n// //   );\r\n// // };\r\n\r\n// // // Promo Code Form Component\r\n// // const PromoCodeForm = ({ showSuccess, showError }) => {\r\n// //   const [promoCode, setPromoCode] = useState(\"\");\r\n\r\n// //   const handleAddPromoCode = () => {\r\n// //     const trimmedCode = promoCode.trim();\r\n// //     if (trimmedCode) {\r\n// //       showSuccess?.(`Promo code ${trimmedCode} added successfully!`);\r\n// //       setPromoCode(\"\");\r\n// //     } else {\r\n// //       showError?.(\"Please enter a promo code\");\r\n// //     }\r\n// //   };\r\n\r\n// //   const handleKeyPress = (e) => {\r\n// //     if (e.key === \"Enter\") {\r\n// //       handleAddPromoCode();\r\n// //     }\r\n// //   };\r\n\r\n// //   return (\r\n// //     <form className=\"promotion-main promo-code-form ng-untouched ng-pristine ng-valid ng-star-inserted\">\r\n// //       <div className=\"input-group\">\r\n// //         <input\r\n// //           autoComplete=\"off\"\r\n// //           type=\"text\"\r\n// //           maxLength=\"30\"\r\n// //           className=\"password ng-untouched ng-pristine ng-valid\"\r\n// //           placeholder=\"Promo Code\"\r\n// //           value={promoCode}\r\n// //           onChange={(e) => setPromoCode(e.target.value)}\r\n// //           onKeyPress={handleKeyPress}\r\n// //         />\r\n// //         <div\r\n// //           className=\"promo-code-add-btn\"\r\n// //           onClick={handleAddPromoCode}\r\n// //           role=\"button\"\r\n// //           tabIndex={0}\r\n// //           onKeyPress={handleKeyPress}\r\n// //         >\r\n// //           Add\r\n// //         </div>\r\n// //       </div>\r\n// //     </form>\r\n// //   );\r\n// // };\r\n\r\n// // // Waterfall Scroll Component\r\n// // const WaterfallScroll = ({ promotions, onPromoAction }) => {\r\n// //   if (promotions.length === 0) {\r\n// //     return (\r\n// //       <div className=\"promotion-main promotion-main-scroll-wrapper ng-trigger ng-trigger-staggerFadeAnimation\">\r\n// //         <EmptyState />\r\n// //       </div>\r\n// //     );\r\n// //   }\r\n\r\n// //   return (\r\n// //     <div className=\"promotion-main promotion-main-scroll-wrapper ng-trigger ng-trigger-staggerFadeAnimation\">\r\n// //       {promotions.map((promotion, index) => (\r\n// //         <PromotionCard\r\n// //           key={promotion.id}\r\n// //           promotion={promotion}\r\n// //           index={index}\r\n// //           onAction={onPromoAction}\r\n// //         />\r\n// //       ))}\r\n\r\n// //       <EndOfPagePrompt show={promotions.length > 0} />\r\n\r\n// //       <div className=\"anchor\" style={{ height: \"10px\", visibility: \"hidden\" }}>\r\n// //         anchor\r\n// //       </div>\r\n// //     </div>\r\n// //   );\r\n// // };\r\n\r\n// // // Empty State Component\r\n// // const EmptyState = () => (\r\n// //   <div className=\"empty-state\">\r\n// //     <div className=\"empty-icon\">üéÅ</div>\r\n// //     <h3>No promotions found</h3>\r\n// //     <p>Try changing your search or filter criteria</p>\r\n// //   </div>\r\n// // );\r\n\r\n// // // End of Page Prompt Component\r\n// // const EndOfPagePrompt = ({ show }) => {\r\n// //   if (!show) return null;\r\n\r\n// //   return (\r\n// //     <div className=\"prompt ng-star-inserted\">\r\n// //       Ôºçend of pageÔºç\r\n// //     </div>\r\n// //   );\r\n// // };\r\n\r\n// // // Promotion Card Component\r\n// // const PromotionCard = ({ promotion, index, onAction }) => {\r\n// //   const [isJoined, setIsJoined] = useState(false);\r\n\r\n// //   const handleButtonClick = (actionType) => {\r\n// //     if (actionType === \"joined\") {\r\n// //       setIsJoined(!isJoined);\r\n// //     } else {\r\n// //       onAction(promotion, actionType);\r\n// //     }\r\n// //   };\r\n\r\n// //   const renderButton = () => {\r\n// //     switch (promotion.buttonType) {\r\n// //       case \"apply\":\r\n// //         return (\r\n// //           <ActionButton\r\n// //             className=\"button button__apply\"\r\n// //             onClick={() => handleButtonClick(\"apply\")}\r\n// //             label=\"Apply Now\"\r\n// //           />\r\n// //         );\r\n// //       case \"joined\":\r\n// //         return (\r\n// //           <ActionButton\r\n// //             className={`button button__joined ${isJoined ? \"active\" : \"\"}`}\r\n// //             onClick={() => handleButtonClick(\"joined\")}\r\n// //             label={isJoined ? \"Joined\" : \"Join\"}\r\n// //           />\r\n// //         );\r\n// //       default:\r\n// //         return null;\r\n// //     }\r\n// //   };\r\n\r\n// //   return (\r\n// //     <div\r\n// //       className=\"promotion-box new promotion-toggle ng-star-inserted\"\r\n// //       style={{ animationDelay: `${index * 0.1}s` }}\r\n// //     >\r\n// //       <div className=\"pic\">\r\n// //         <img\r\n// //           alt={promotion.title}\r\n// //           src={promotion.image}\r\n// //           loading=\"lazy\"\r\n// //           onError={(e) => {\r\n// //             e.target.src = 'https://via.placeholder.com/300x150?text=Promotion+Image';\r\n// //           }}\r\n// //         />\r\n// //         <span\r\n// //           className=\"item-bg\"\r\n// //           style={{\r\n// //             maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/player/promotion-bg.svg?v=1761636564965\")',\r\n// //           }}\r\n// //         ></span>\r\n// //       </div>\r\n\r\n// //       <div className=\"promotion-box-inner content-style\">\r\n// //         <div className=\"text-main\">\r\n// //           <h3>{promotion.title}</h3>\r\n// //           <p>{promotion.description}</p>\r\n// //         </div>\r\n\r\n// //         <div className=\"times\">\r\n// //           <span\r\n// //             className=\"item-icon\"\r\n// //             style={{\r\n// //               maskImage: 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-clock.svg?v=1761636564965\")',\r\n// //             }}\r\n// //           ></span>\r\n// //           <span>{promotion.type}</span>\r\n// //         </div>\r\n\r\n// //         <div className=\"button-box\">\r\n// //           {renderButton()}\r\n// //           <ActionButton\r\n// //             className=\"button btn-primary\"\r\n// //             onClick={() => handleButtonClick(\"detail\")}\r\n// //             label=\"Detail\"\r\n// //           />\r\n// //         </div>\r\n// //       </div>\r\n// //     </div>\r\n// //   );\r\n// // };\r\n\r\n// // // Reusable Action Button Component\r\n// // const ActionButton = ({ className, onClick, label }) => (\r\n// //   <div\r\n// //     className={className}\r\n// //     onClick={onClick}\r\n// //     role=\"button\"\r\n// //     tabIndex={0}\r\n// //     onKeyPress={(e) => {\r\n// //       if (e.key === \"Enter\" || e.key === \" \") {\r\n// //         onClick();\r\n// //       }\r\n// //     }}\r\n// //   >\r\n// //     <span>{label}</span>\r\n// //   </div>\r\n// // );\r\n\r\n// // // Mock data function (replace with actual API call)\r\n// // const getMockPromotions = async () => {\r\n// //   // Simulate API delay\r\n// //   await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n// //   return [\r\n// //     {\r\n// //       id: 1,\r\n// //       title: \"4% Unlimited Bonus + Free Spins\",\r\n// //       description: \"Starts at 10:00 PM, to next day 9:59 PM BST!\",\r\n// //       image: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\r\n// //       type: \"Limited Offer\",\r\n// //       buttonType: \"apply\",\r\n// //       category: \"new-promotions\",\r\n// //       bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\r\n// //       howToJoin: [\r\n// //         \"‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá\",\r\n// //         \"‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã‡¶∂‡¶® ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ‡¶Ø‡¶º ‡¶Ø‡¶æ‡¶®\",\r\n// //         \"‡¶¨‡ßã‡¶®‡¶æ‡¶∏‡ßá ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®\",\r\n// //         \"‡¶ú‡¶Ø‡¶º ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ü‡¶ï‡¶∞‡ßç‡¶∑‡¶£‡ßÄ‡¶Ø‡¶º ‡¶™‡ßÅ‡¶∞‡¶∏‡ßç‡¶ï‡¶æ‡¶∞!\",\r\n// //       ],\r\n// //       bonusDetails: [\r\n// //         { label: \"‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£\", value: \"4% ‡¶Ü‡¶®‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡ßá‡¶°\" },\r\n// //         { label: \"‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü\", value: \"‡ß≥500\" },\r\n// //         { label: \"‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§ ‡¶∏‡ßç‡¶™‡¶ø‡¶®\", value: \"20 ‡¶´‡ßç‡¶∞‡¶ø ‡¶∏‡ßç‡¶™‡¶ø‡¶®\" },\r\n// //         { label: \"‡¶¨‡ßà‡¶ß‡¶§‡¶æ\", value: \"7 ‡¶¶‡¶ø‡¶®\" },\r\n// //       ],\r\n// //       termsAndConditions: [\r\n// //         \"‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ 18+ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶Ø‡ßã‡¶ú‡ßç‡¶Ø\",\r\n// //         \"‡¶®‡ßÇ‡¶®‡ßç‡¶Ø‡¶§‡¶Æ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡ß≥500 ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®\",\r\n// //         \"‡¶¨‡ßã‡¶®‡¶æ‡¶∏ 10x ‡¶ì‡¶Ø‡¶º‡ßá‡¶ú‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®\",\r\n// //         \"‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá\",\r\n// //       ],\r\n// //     },\r\n// //     // ... include other mock promotions from your original code\r\n// //   ];\r\n// // };\r\n\r\n// // export default PromotionPage;\r\n\r\n// // components/pages/PromotionPage.js\r\n// import React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n// import { usePopup } from \"../../layouts/PopupManager\";\r\n// import PromotionInfo from \"./PromotionInfo\";\r\n// import { useApi } from \"../../../hooks/useApi\";\r\n// import { useApp } from \"../../../contexts/AppContext\";\r\n// import promotionsService from \"../../../services/promotionService\";\r\n// import { useAuth } from \"../../../contexts/AuthContext\";\r\n\r\n// // Constants for better maintainability\r\n// const API_ENDPOINTS = {\r\n//   GAME_CATEGORIES:\r\n//     \"http://localhost:5000/api/games/New-table-Games-with-Providers\",\r\n// };\r\n\r\n// const BONUS_TYPES = {\r\n//   deposit: { label: \"Deposit Bonus\", color: \"#4CAF50\" },\r\n//   dailyRebate: { label: \"Daily Rebate\", color: \"#2196F3\" },\r\n//   weeklyBonus: { label: \"Weekly Bonus\", color: \"#9C27B0\" },\r\n//   vip: { label: \"VIP Bonus\", color: \"#FF9800\" },\r\n//   referral: { label: \"Referral Bonus\", color: \"#E91E63\" },\r\n//   referralRebate: { label: \"Referral Rebate\", color: \"#795548\" },\r\n//   normalDeposit: { label: \"Normal Deposit\", color: \"#607D8B\" },\r\n//   signup: { label: \"Signup Bonus\", color: \"#00BCD4\" },\r\n//   birthday: { label: \"Birthday Bonus\", color: \"#FF5722\" },\r\n//   other: { label: \"Other Bonus\", color: \"#757575\" },\r\n// };\r\n\r\n// const DEFAULT_CATEGORIES = [\r\n//   { key: \"all\", label: \"ALL\" },\r\n//   { key: \"deposit\", label: \"Deposit\" },\r\n//   { key: \"dailyRebate\", label: \"Daily Rebate\" },\r\n//   { key: \"weeklyBonus\", label: \"Weekly\" },\r\n//   { key: \"vip\", label: \"VIP\" },\r\n//   { key: \"referral\", label: \"Referral\" },\r\n//   { key: \"signup\", label: \"Signup\" },\r\n//   { key: \"birthday\", label: \"Birthday\" },\r\n// ];\r\n\r\n// const PromotionPage = ({ showError, showSuccess, showWarning, showInfo }) => {\r\n//   const navigate = useNavigate();\r\n//   const { openPopup } = usePopup();\r\n//   const [activeCategory, setActiveCategory] = useState(\"new-promotions\");\r\n//   const [categories, setCategories] = useState(DEFAULT_CATEGORIES);\r\n//   const [searchMode, setSearchMode] = useState(false);\r\n//   const [searchQuery, setSearchQuery] = useState(\"\");\r\n//   const [promotions, setPromotions] = useState([]);\r\n//   const [isLoading, setIsLoading] = useState(true);\r\n//   const { apiCall } = useApi();\r\n//   const { loading, setLoadingState } = useApp();\r\n\r\n//   // Fetch categories from API\r\n\r\n//   const GetPromotionsData = useCallback(async () => {\r\n//     setIsLoading(true);\r\n//     try {\r\n//       const response = await promotionsService.GetPromotions();\r\n//       console.log(\"Promotions Data:\", response);\r\n//       setPromotions(response.data);\r\n//     } catch (error) {\r\n//       console.error(\"Error fetching promotions:\", error.message);\r\n//     } finally {\r\n//       setIsLoading(false);\r\n//     }\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     GetPromotionsData();\r\n//   }, []);\r\n\r\n//   // Fetch promotions data\r\n//   // useEffect(() => {\r\n//   //   const fetchPromotions = async () => {\r\n//   //     try {\r\n//   //       setIsLoading(true);\r\n//   //       // Replace with actual API call\r\n//   //       const mockPromotions = await GetPromotionsData();\r\n//   //       console.log(\"Promotions Data:\", mockPromotions);\r\n//   //       setPromotions(mockPromotions);\r\n//   //     } catch (err) {\r\n//   //       console.error(\"Error fetching promotions:\", err);\r\n//   //       showError?.(\"Failed to load promotions. Please try again later.\");\r\n//   //       setPromotions([]);\r\n//   //     } finally {\r\n//   //       setIsLoading(false);\r\n//   //     }\r\n//   //   };\r\n\r\n//   //   fetchPromotions();\r\n//   // }, [showError]);\r\n\r\n//   const closeModal = useCallback(() => {\r\n//     navigate(-1);\r\n//   }, [navigate]);\r\n\r\n//   const handleSearchToggle = useCallback(() => {\r\n//     setSearchMode((prev) => !prev);\r\n//     if (searchMode) {\r\n//       setSearchQuery(\"\");\r\n//     }\r\n//   }, [searchMode]);\r\n\r\n//   const handleSearchConfirm = useCallback(() => {\r\n//     console.log(\"Search query:\", searchQuery);\r\n//     setSearchMode(false);\r\n//   }, [searchQuery]);\r\n\r\n//   const handleCategoryChange = useCallback((category) => {\r\n//     setActiveCategory(category);\r\n//   }, []);\r\n\r\n//   // Memoized filtered promotions for better performance\r\n//   const filteredPromotions = useMemo(() => {\r\n//     return promotions.filter((promo) => {\r\n//       const matchesCategory =\r\n//         activeCategory === \"new-promotions\" ||\r\n//         promo.category_name ===\r\n//           activeCategory.categories.find((cat) => cat.key === activeCategory)\r\n//             .category_name;\r\n\r\n//       const matchesSearch =\r\n//         searchQuery === \"\" ||\r\n//         promo.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n//         promo.description.toLowerCase().includes(searchQuery.toLowerCase());\r\n\r\n//       return matchesCategory && matchesSearch;\r\n//     });\r\n//   }, [promotions, activeCategory, searchQuery]);\r\n\r\n//   const handlePromoAction = useCallback(\r\n//     (promotion) => {\r\n//       openPopup(\r\n//         <PromotionInfo\r\n//           promotion={promotion}\r\n//           // showSuccess={showSuccess}\r\n//           onClose={() => {}}\r\n//         />,\r\n//         {\r\n//           contentClass: \"promotionPop\",\r\n//           size: \"large\",\r\n//         }\r\n//       );\r\n//     },\r\n//     [openPopup, showSuccess]\r\n//   );\r\n\r\n//   // const handlePromoAction = useCallback(\r\n//   //   (promotion, actionType) => {\r\n//   //     if (actionType === \"apply\") {\r\n//   //       showSuccess?.(`Applied for: ${promotion.title}`);\r\n//   //     } else if (actionType === \"detail\") {\r\n//   //       handlePromoDetail(promotion);\r\n//   //     }\r\n//   //   },\r\n//   //   [handlePromoDetail, showSuccess]\r\n//   // );\r\n\r\n//   if (isLoading) {\r\n//     return <LoadingState />;\r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"content-main promotion ng-tns-c1259012856-6 ng-star-inserted\">\r\n//       <div className=\"content-box ng-tns-c1259012856-6\">\r\n//         <div className=\"promotion ng-tns-c1259012856-6\">\r\n//           <SearchTab\r\n//             categories={categories}\r\n//             activeCategory={activeCategory}\r\n//             onCategoryChange={handleCategoryChange}\r\n//             searchMode={searchMode}\r\n//             onSearchToggle={handleSearchToggle}\r\n//             searchQuery={searchQuery}\r\n//             onSearchChange={setSearchQuery}\r\n//             onSearchConfirm={handleSearchConfirm}\r\n//           />\r\n\r\n//           <PromoCodeForm showSuccess={showSuccess} showError={showError} />\r\n\r\n//           <WaterfallScroll\r\n//             promotions={filteredPromotions}\r\n//             onPromoAction={handlePromoAction}\r\n//           />\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// // Loading State Component\r\n// const LoadingState = () => (\r\n//   <div className=\"content-main promotion ng-tns-c1259012856-6 ng-star-inserted\">\r\n//     <div className=\"content-box ng-tns-c1259012856-6\">\r\n//       <div className=\"promotion ng-tns-c1259012856-6\">\r\n//         <div className=\"loading-fullscreen\">\r\n//           <div className=\"loading-spinner\"></div>\r\n//           <p>Loading promotions...</p>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   </div>\r\n// );\r\n\r\n// // Search Tab Component\r\n// const SearchTab = ({\r\n//   categories,\r\n//   activeCategory,\r\n//   onCategoryChange,\r\n//   searchMode,\r\n//   onSearchToggle,\r\n//   searchQuery,\r\n//   onSearchChange,\r\n//   onSearchConfirm,\r\n// }) => {\r\n//   if (searchMode) {\r\n//     return (\r\n//       <div className=\"searchpage ng-star-inserted\">\r\n//         <div className=\"search-top-info\">\r\n//           <div\r\n//             className=\"back\"\r\n//             onClick={onSearchToggle}\r\n//             role=\"button\"\r\n//             tabIndex={0}\r\n//           >\r\n//             <span\r\n//               className=\"item-icon\"\r\n//               style={{\r\n//                 maskImage:\r\n//                   'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-arrow-type09.svg?v=1761636564965\")',\r\n//               }}\r\n//             ></span>\r\n//             Back\r\n//           </div>\r\n//           <div\r\n//             className=\"icon-search ng-star-inserted\"\r\n//             style={{\r\n//               maskImage:\r\n//                 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-search-type02.svg?v=1761636564965\")',\r\n//             }}\r\n//           ></div>\r\n//           <input\r\n//             type=\"text\"\r\n//             className=\"ng-untouched ng-pristine ng-valid\"\r\n//             placeholder=\"Promotion Filter\"\r\n//             value={searchQuery}\r\n//             onChange={(e) => onSearchChange(e.target.value)}\r\n//             autoFocus\r\n//           />\r\n//         </div>\r\n//         <div className=\"searchpage-main\">\r\n//           {/* Search results would go here */}\r\n//         </div>\r\n//         <div className=\"searchpage-bar\">\r\n//           <button className=\"button\" onClick={onSearchConfirm}>\r\n//             Confirm\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"search-tab-wrapper\">\r\n//       <div className=\"tab search-tab ng-star-inserted\">\r\n//         <ul className=\"item-ani\">\r\n//           {categories.map((category, index) => (\r\n//             <li\r\n//               key={category.key}\r\n//               className={activeCategory === category.key ? \"active\" : \"\"}\r\n//               style={{ animationDelay: `${index * 0.1}s` }}\r\n//               onClick={() => onCategoryChange(category.key)}\r\n//               role=\"button\"\r\n//               tabIndex={0}\r\n//               onKeyPress={(e) => {\r\n//                 if (e.key === \"Enter\" || e.key === \" \") {\r\n//                   onCategoryChange(category.key);\r\n//                 }\r\n//               }}\r\n//             >\r\n//               {category.label}\r\n//             </li>\r\n//           ))}\r\n//           <li className=\"search-icon ng-star-inserted\" onClick={onSearchToggle}>\r\n//             <span\r\n//               className=\"item-icon\"\r\n//               style={{\r\n//                 maskImage:\r\n//                   'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-search-type02.svg?v=1761636564965\")',\r\n//               }}\r\n//             ></span>\r\n//           </li>\r\n//         </ul>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// // Promo Code Form Component\r\n// const PromoCodeForm = ({ showSuccess, showError }) => {\r\n//   const [promoCode, setPromoCode] = useState(\"\");\r\n\r\n//   const handleAddPromoCode = () => {\r\n//     const trimmedCode = promoCode.trim();\r\n//     if (trimmedCode) {\r\n//       showSuccess?.(`Promo code ${trimmedCode} added successfully!`);\r\n//       setPromoCode(\"\");\r\n//     } else {\r\n//       showError?.(\"Please enter a promo code\");\r\n//     }\r\n//   };\r\n\r\n//   const handleKeyPress = (e) => {\r\n//     if (e.key === \"Enter\") {\r\n//       handleAddPromoCode();\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <form className=\"promotion-main promo-code-form ng-untouched ng-pristine ng-valid ng-star-inserted\">\r\n//       <div className=\"input-group\">\r\n//         <input\r\n//           autoComplete=\"off\"\r\n//           type=\"text\"\r\n//           maxLength=\"30\"\r\n//           className=\"password ng-untouched ng-pristine ng-valid\"\r\n//           placeholder=\"Promo Code\"\r\n//           value={promoCode}\r\n//           onChange={(e) => setPromoCode(e.target.value)}\r\n//           onKeyPress={handleKeyPress}\r\n//         />\r\n//         <div\r\n//           className=\"promo-code-add-btn\"\r\n//           onClick={handleAddPromoCode}\r\n//           role=\"button\"\r\n//           tabIndex={0}\r\n//           onKeyPress={handleKeyPress}\r\n//         >\r\n//           Add\r\n//         </div>\r\n//       </div>\r\n//     </form>\r\n//   );\r\n// };\r\n\r\n// // Waterfall Scroll Component\r\n// const WaterfallScroll = ({ promotions, onPromoAction }) => {\r\n//   if (promotions.length === 0) {\r\n//     return (\r\n//       <div className=\"promotion-main promotion-main-scroll-wrapper ng-trigger ng-trigger-staggerFadeAnimation\">\r\n//         <EmptyState />\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"promotion-main promotion-main-scroll-wrapper ng-trigger ng-trigger-staggerFadeAnimation\">\r\n//       {promotions.map((promotion, index) => (\r\n//         <PromotionCard\r\n//           key={promotion.id}\r\n//           promotion={promotion}\r\n//           index={index}\r\n//           onAction={onPromoAction}\r\n//         />\r\n//       ))}\r\n\r\n//       <EndOfPagePrompt show={promotions.length > 0} />\r\n\r\n//       <div className=\"anchor\" style={{ height: \"10px\", visibility: \"hidden\" }}>\r\n//         anchor\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// // Empty State Component\r\n// const EmptyState = () => (\r\n//   <div className=\"empty-state\">\r\n//     <div className=\"empty-icon\">üéÅ</div>\r\n//     <h3>No promotions found</h3>\r\n//     <p>Try changing your search or filter criteria</p>\r\n//   </div>\r\n// );\r\n\r\n// // End of Page Prompt Component\r\n// const EndOfPagePrompt = ({ show }) => {\r\n//   if (!show) return null;\r\n\r\n//   return <div className=\"prompt ng-star-inserted\">Ôºçend of pageÔºç</div>;\r\n// };\r\n\r\n// // Promotion Card Component\r\n// const PromotionCard = ({ promotion, index, onAction }) => {\r\n//   const { user } = useAuth();\r\n//   const navigate = useNavigate();\r\n//   const [isJoined, setIsJoined] = useState(false);\r\n\r\n//   const handleButtonClick = (actionType) => {\r\n//     if (actionType === \"joined\") {\r\n//       setIsJoined(!isJoined);\r\n\r\n//       navigate(`/deposit`);\r\n//     } else {\r\n//       onAction(promotion, actionType);\r\n//     }\r\n//   };\r\n\r\n//   const renderButton = () => {};\r\n\r\n//   return (\r\n//     <div\r\n//       className=\"promotion-box new promotion-toggle ng-star-inserted\"\r\n//       style={{ animationDelay: `${index * 0.1}s` }}\r\n//     >\r\n//       <div className=\"pic\">\r\n//         <img\r\n//           alt={promotion.title}\r\n//           src={promotion.image}\r\n//           loading=\"lazy\"\r\n//           onError={(e) => {\r\n//             e.target.src =\r\n//               \"https://via.placeholder.com/300x150?text=Promotion+Image\";\r\n//           }}\r\n//         />\r\n//         <span\r\n//           className=\"item-bg\"\r\n//           style={{\r\n//             maskImage:\r\n//               'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/player/promotion-bg.svg?v=1761636564965\")',\r\n//           }}\r\n//         ></span>\r\n//       </div>\r\n\r\n//       <div className=\"promotion-box-inner content-style\">\r\n//         <div className=\"text-main\">\r\n//           <h3>{promotion.title}</h3>\r\n//           <p>{promotion.description}</p>\r\n//         </div>\r\n\r\n//         <div className=\"times\">\r\n//           <span\r\n//             className=\"item-icon\"\r\n//             style={{\r\n//               maskImage:\r\n//                 'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-clock.svg?v=1761636564965\")',\r\n//             }}\r\n//           ></span>\r\n//           <span>{promotion.type}</span>\r\n//         </div>\r\n\r\n//         <div className=\"button-box\">\r\n//           {user  ? (\r\n//             <>\r\n//               <ActionButton\r\n//                 className=\"button button__apply\"\r\n//                 onClick={() => handleButtonClick(\"apply\")}\r\n//                 label=\"Apply Now\"\r\n//               />\r\n\r\n//               {/* <ActionButton\r\n//                 className={`button button__joined ${isJoined ? \"active\" : \"\"}`}\r\n//                 onClick={() => handleButtonClick(\"joined\")}\r\n//                 label={isJoined ? \"Joined\" : \"Join\"}\r\n//               /> */}\r\n//             </>\r\n//           ) : (\r\n//             <ActionButton\r\n//               className=\"button button__detail\"\r\n//               onClick={() => handleButtonClick(\"detail\")}\r\n//               label=\"View Details\"\r\n//             />\r\n//           )}\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// // Reusable Action Button Component\r\n// const ActionButton = ({ className, onClick, label }) => (\r\n//   <div\r\n//     className={className}\r\n//     onClick={onClick}\r\n//     role=\"button\"\r\n//     tabIndex={0}\r\n//     onKeyPress={(e) => {\r\n//       if (e.key === \"Enter\" || e.key === \" \") {\r\n//         onClick();\r\n//       }\r\n//     }}\r\n//   >\r\n//     <span>{label}</span>\r\n//   </div>\r\n// );\r\n\r\n// // Mock data function (replace with actual API call)\r\n// const getMockPromotions = async () => {\r\n//   // Simulate API delay\r\n//   await new Promise((resolve) => setTimeout(resolve, 1000));\r\n\r\n//   return [\r\n//     {\r\n//       id: 1,\r\n//       title: \"4% Unlimited Bonus + Free Spins\",\r\n//       description: \"Starts at 10:00 PM, to next day 9:59 PM BST!\",\r\n//       image: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\r\n//       type: \"Limited Offer\",\r\n//       buttonType: \"apply\",\r\n//       category: \"new-promotions\",\r\n//       bannerImage:\r\n//         \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\r\n//       howToJoin: [\r\n//         \"‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá\",\r\n//         \"‡¶™‡ßç‡¶∞‡ßã‡¶Æ‡ßã‡¶∂‡¶® ‡¶™‡ßÉ‡¶∑‡ßç‡¶†‡¶æ‡¶Ø‡¶º ‡¶Ø‡¶æ‡¶®\",\r\n//         \"‡¶¨‡ßã‡¶®‡¶æ‡¶∏‡ßá ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®\",\r\n//         \"‡¶ú‡¶Ø‡¶º ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ü‡¶ï‡¶∞‡ßç‡¶∑‡¶£‡ßÄ‡¶Ø‡¶º ‡¶™‡ßÅ‡¶∞‡¶∏‡ßç‡¶ï‡¶æ‡¶∞!\",\r\n//       ],\r\n//       bonusDetails: [\r\n//         { label: \"‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£\", value: \"4% ‡¶Ü‡¶®‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü‡ßá‡¶°\" },\r\n//         { label: \"‡¶Æ‡¶ø‡¶®‡¶ø‡¶Æ‡¶æ‡¶Æ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü\", value: \"‡ß≥500\" },\r\n//         { label: \"‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§ ‡¶∏‡ßç‡¶™‡¶ø‡¶®\", value: \"20 ‡¶´‡ßç‡¶∞‡¶ø ‡¶∏‡ßç‡¶™‡¶ø‡¶®\" },\r\n//         { label: \"‡¶¨‡ßà‡¶ß‡¶§‡¶æ\", value: \"7 ‡¶¶‡¶ø‡¶®\" },\r\n//       ],\r\n//       termsAndConditions: [\r\n//         \"‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ 18+ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶Ø‡ßã‡¶ú‡ßç‡¶Ø\",\r\n//         \"‡¶®‡ßÇ‡¶®‡ßç‡¶Ø‡¶§‡¶Æ ‡¶°‡¶ø‡¶™‡ßã‡¶ú‡¶ø‡¶ü ‡ß≥500 ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®\",\r\n//         \"‡¶¨‡ßã‡¶®‡¶æ‡¶∏ 10x ‡¶ì‡¶Ø‡¶º‡ßá‡¶ú‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®\",\r\n//         \"‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá\",\r\n//       ],\r\n//     },\r\n//     // ... include other mock promotions from your original code\r\n//   ];\r\n// };\r\n\r\n// export default PromotionPage;\r\n\r\n\r\n\r\n\r\n\r\n\r\n// components/pages/PromotionPage.js\r\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { usePopup } from \"../../layouts/PopupManager\";\r\nimport PromotionInfo from \"./PromotionInfo\";\r\nimport { useApi } from \"../../../hooks/useApi\";\r\nimport { useApp } from \"../../../contexts/AppContext\";\r\nimport promotionsService from \"../../../services/promotionService\";\r\nimport { useAuth } from \"../../../contexts/AuthContext\";\r\n\r\n// Constants for better maintainability\r\nconst DEFAULT_CATEGORIES = [\r\n  { key: \"all\", label: \"ALL\" },\r\n  { key: \"welcome\", label: \"Welcome Offer\" },\r\n  { key: \"slots\", label: \"Slots\" },\r\n  { key: \"live-casino\", label: \"Live Casino\" },\r\n  { key: \"sports\", label: \"Sports\" },\r\n  { key: \"fishing\", label: \"Fishing\" },\r\n  { key: \"card\", label: \"Card\" },\r\n  { key: \"lottery\", label: \"Lottery\" },\r\n  { key: \"table\", label: \"Table\" },\r\n  { key: \"arcade\", label: \"Arcade\" },\r\n  { key: \"cock-fighting\", label: \"Cock Fighting\" },\r\n  { key: \"crash\", label: \"Crash\" },\r\n  { key: \"other\", label: \"Other\" }\r\n];\r\n\r\nconst PromotionPage = ({ showError, showSuccess, showWarning, showInfo }) => {\r\n  const navigate = useNavigate();\r\n  const { openPopup } = usePopup();\r\n  const [activeCategory, setActiveCategory] = useState(\"all\");\r\n  const [categories, setCategories] = useState(DEFAULT_CATEGORIES);\r\n  const [searchMode, setSearchMode] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [promotions, setPromotions] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const { apiCall } = useApi();\r\n  const { loading, setLoadingState } = useApp();\r\n\r\n  // Fetch promotions data\r\n  const GetPromotionsData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await promotionsService.GetPromotions();\r\n      console.log(\"Promotions Data:\", response);\r\n      setPromotions(response.data || []);\r\n    } catch (error) {\r\n      console.error(\"Error fetching promotions:\", error.message);\r\n      showError?.(\"Failed to load promotions. Please try again later.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [showError]);\r\n\r\n  useEffect(() => {\r\n    GetPromotionsData();\r\n  }, [GetPromotionsData]);\r\n\r\n  const handleSearchToggle = useCallback(() => {\r\n    setSearchMode((prev) => !prev);\r\n    if (searchMode) {\r\n      setSearchQuery(\"\");\r\n    }\r\n  }, [searchMode]);\r\n\r\n  const handleSearchConfirm = useCallback(() => {\r\n    console.log(\"Search query:\", searchQuery);\r\n    setSearchMode(false);\r\n  }, [searchQuery]);\r\n\r\n  const handleCategoryChange = useCallback((category) => {\r\n    setActiveCategory(category);\r\n  }, []);\r\n\r\n  // Memoized filtered promotions for better performance\r\n  const filteredPromotions = useMemo(() => {\r\n    if (!promotions || !Array.isArray(promotions)) return [];\r\n    \r\n    return promotions.filter((promo) => {\r\n      const matchesCategory = \r\n        activeCategory === \"all\" || \r\n        promo.category === activeCategory ||\r\n        (promo.tags && promo.tags.includes(activeCategory));\r\n\r\n      const matchesSearch =\r\n        searchQuery === \"\" ||\r\n        (promo.title && promo.title.toLowerCase().includes(searchQuery.toLowerCase())) ||\r\n        (promo.description && promo.description.toLowerCase().includes(searchQuery.toLowerCase()));\r\n\r\n      return matchesCategory && matchesSearch;\r\n    });\r\n  }, [promotions, activeCategory, searchQuery]);\r\n\r\n  const handlePromoAction = useCallback(\r\n    (promotion, actionType = \"detail\") => {\r\n      if (actionType === \"detail\") {\r\n        openPopup(\r\n          <PromotionInfo\r\n            promotion={promotion}\r\n            onClose={() => {}}\r\n          />,\r\n          {\r\n            contentClass: \"promotionPop\",\r\n            size: \"large\",\r\n          }\r\n        );\r\n      } else if (actionType === \"apply\") {\r\n        // Handle apply logic\r\n        showSuccess?.(`Applied for: ${promotion.title}`);\r\n      }\r\n    },\r\n    [openPopup, showSuccess]\r\n  );\r\n\r\n  const handlePromoCodeSubmit = useCallback(async (promoCode) => {\r\n    try {\r\n      // Add promo code logic here\r\n      showSuccess?.(`Promo code ${promoCode} added successfully!`);\r\n    } catch (error) {\r\n      showError?.(\"Failed to add promo code. Please try again.\");\r\n    }\r\n  }, [showSuccess, showError]);\r\n\r\n  if (isLoading) {\r\n    return <LoadingState />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"content-main promotion ng-tns-c1259012856-6 ng-star-inserted\">\r\n      <div className=\"content-box ng-tns-c1259012856-6\">\r\n        <div className=\"promotion ng-tns-c1259012856-6\">\r\n          <SearchTab\r\n            categories={categories}\r\n            activeCategory={activeCategory}\r\n            onCategoryChange={handleCategoryChange}\r\n            searchMode={searchMode}\r\n            onSearchToggle={handleSearchToggle}\r\n            searchQuery={searchQuery}\r\n            onSearchChange={setSearchQuery}\r\n            onSearchConfirm={handleSearchConfirm}\r\n          />\r\n\r\n          <PromoCodeForm \r\n            onSubmit={handlePromoCodeSubmit}\r\n            showSuccess={showSuccess}\r\n            showError={showError}\r\n          />\r\n\r\n          <WaterfallScroll\r\n            promotions={filteredPromotions}\r\n            onPromoAction={handlePromoAction}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Loading State Component\r\nconst LoadingState = () => (\r\n  <div className=\"content-main promotion ng-tns-c1259012856-6 ng-star-inserted\">\r\n    <div className=\"content-box ng-tns-c1259012856-6\">\r\n      <div className=\"promotion ng-tns-c1259012856-6\">\r\n        <div className=\"loading-fullscreen\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <p>Loading promotions...</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// Search Tab Component\r\nconst SearchTab = ({\r\n  categories,\r\n  activeCategory,\r\n  onCategoryChange,\r\n  searchMode,\r\n  onSearchToggle,\r\n  searchQuery,\r\n  onSearchChange,\r\n  onSearchConfirm,\r\n}) => {\r\n  if (searchMode) {\r\n    return (\r\n      <div className=\"searchpage ng-star-inserted\">\r\n        <div className=\"search-top-info\">\r\n          <div\r\n            className=\"back\"\r\n            onClick={onSearchToggle}\r\n            role=\"button\"\r\n            tabIndex={0}\r\n          >\r\n            <span\r\n              className=\"item-icon\"\r\n              style={{\r\n                maskImage:\r\n                  'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-arrow-type09.svg?v=1762272774179\")',\r\n              }}\r\n            ></span>\r\n            Back\r\n          </div>\r\n          <div\r\n            className=\"icon-search ng-star-inserted\"\r\n            style={{\r\n              maskImage:\r\n                'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-search-type02.svg?v=1762272774179\")',\r\n            }}\r\n          ></div>\r\n          <input\r\n            type=\"text\"\r\n            className=\"ng-untouched ng-pristine ng-valid\"\r\n            placeholder=\"Promotion Filter\"\r\n            value={searchQuery}\r\n            onChange={(e) => onSearchChange(e.target.value)}\r\n            autoFocus\r\n          />\r\n        </div>\r\n        <div className=\"searchpage-main\">\r\n          {/* Search results would go here */}\r\n        </div>\r\n        <div className=\"searchpage-bar\">\r\n          <button className=\"button\" onClick={onSearchConfirm}>\r\n            Confirm\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"search-tab-wrapper\">\r\n      <div className=\"tab search-tab ng-star-inserted\">\r\n        <ul className=\"item-ani\">\r\n          {categories.map((category, index) => (\r\n            <li\r\n              key={category.key}\r\n              className={activeCategory === category.key ? \"active\" : \"\"}\r\n              style={{ animationDelay: `${index * 0.1}s` }}\r\n              onClick={() => onCategoryChange(category.key)}\r\n              role=\"button\"\r\n              tabIndex={0}\r\n              onKeyPress={(e) => {\r\n                if (e.key === \"Enter\" || e.key === \" \") {\r\n                  onCategoryChange(category.key);\r\n                }\r\n              }}\r\n            >\r\n              {category.label}\r\n            </li>\r\n          ))}\r\n          <li className=\"search-icon ng-star-inserted\" onClick={onSearchToggle}>\r\n            <span\r\n              className=\"item-icon\"\r\n              style={{\r\n                maskImage:\r\n                  'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-search-type02.svg?v=1762272774179\")',\r\n              }}\r\n            ></span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Promo Code Form Component\r\nconst PromoCodeForm = ({ onSubmit, showSuccess, showError }) => {\r\n  const [promoCode, setPromoCode] = useState(\"\");\r\n\r\n  const handleAddPromoCode = () => {\r\n    const trimmedCode = promoCode.trim();\r\n    if (trimmedCode) {\r\n      onSubmit?.(trimmedCode);\r\n      setPromoCode(\"\");\r\n    } else {\r\n      showError?.(\"Please enter a promo code\");\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      handleAddPromoCode();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"promotion-main promo-code-form ng-untouched ng-pristine ng-valid ng-star-inserted\">\r\n      <div className=\"input-group\">\r\n        <input\r\n          autoComplete=\"off\"\r\n          type=\"text\"\r\n          maxLength=\"30\"\r\n          className=\"password ng-untouched ng-pristine ng-valid\"\r\n          placeholder=\"Promo Code\"\r\n          value={promoCode}\r\n          onChange={(e) => setPromoCode(e.target.value)}\r\n          onKeyPress={handleKeyPress}\r\n        />\r\n        <div\r\n          className=\"promo-code-add-btn\"\r\n          onClick={handleAddPromoCode}\r\n          role=\"button\"\r\n          tabIndex={0}\r\n          onKeyPress={handleKeyPress}\r\n        >\r\n          Add\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\n// Waterfall Scroll Component\r\nconst WaterfallScroll = ({ promotions, onPromoAction }) => {\r\n  if (!promotions || promotions.length === 0) {\r\n    return (\r\n      <div className=\"promotion-main promotion-main-scroll-wrapper ng-trigger ng-trigger-staggerFadeAnimation\">\r\n        <EmptyState />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"promotion-main promotion-main-scroll-wrapper ng-trigger ng-trigger-staggerFadeAnimation\">\r\n      {promotions.map((promotion, index) => (\r\n        <PromotionCard\r\n          key={promotion.id || index}\r\n          promotion={promotion}\r\n          index={index}\r\n          onAction={onPromoAction}\r\n        />\r\n      ))}\r\n\r\n      <EndOfPagePrompt show={promotions.length > 0} />\r\n\r\n      <div className=\"anchor\" style={{ height: \"10px\", visibility: \"hidden\" }}>\r\n        anchor\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Empty State Component\r\nconst EmptyState = () => (\r\n  <div className=\"empty-state\">\r\n    <div className=\"empty-icon\">üéÅ</div>\r\n    <h3>No promotions found</h3>\r\n    <p>Try changing your search or filter criteria</p>\r\n  </div>\r\n);\r\n\r\n// End of Page Prompt Component\r\nconst EndOfPagePrompt = ({ show }) => {\r\n  if (!show) return null;\r\n\r\n  return <div className=\"prompt ng-star-inserted\">Ôºçend of pageÔºç</div>;\r\n};\r\n\r\n// Promotion Card Component\r\nconst PromotionCard = ({ promotion, index, onAction }) => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [isJoined, setIsJoined] = useState(promotion.isJoined || false);\r\n\r\n  const handleApplyClick = () => {\r\n    if (!user) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    \r\n    if (promotion.requiresDeposit) {\r\n      navigate('/deposit');\r\n    } else {\r\n      onAction?.(promotion, \"apply\");\r\n    }\r\n  };\r\n\r\n  const handleDetailClick = () => {\r\n    onAction?.(promotion, \"detail\");\r\n  };\r\n\r\n  const handleJoinClick = () => {\r\n    if (!user) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    setIsJoined(!isJoined);\r\n    onAction?.(promotion, \"joined\");\r\n  };\r\n\r\n  const renderButton = () => {\r\n    if (promotion.buttonType === \"joined\") {\r\n      return (\r\n        <ActionButton\r\n          className={`button button__joined ${isJoined ? \"active\" : \"\"}`}\r\n          onClick={handleJoinClick}\r\n          label={isJoined ? \"Joined\" : \"Join\"}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <ActionButton\r\n          className=\"button button__apply\"\r\n          onClick={handleApplyClick}\r\n          label=\"Apply Now\"\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"promotion-box new promotion-toggle ng-star-inserted\"\r\n      style={{ animationDelay: `${index * 0.1}s` }}\r\n    >\r\n      <div className=\"pic\">\r\n        <img\r\n          alt={promotion.title || \"Promotion\"}\r\n          src={promotion.image || \"https://via.placeholder.com/300x150?text=Promotion+Image\"}\r\n          loading=\"lazy\"\r\n          onError={(e) => {\r\n            e.target.src = \"https://via.placeholder.com/300x150?text=Promotion+Image\";\r\n          }}\r\n        />\r\n        <span\r\n          className=\"item-bg\"\r\n          style={{\r\n            maskImage:\r\n              'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/player/promotion-bg.svg?v=1762272774179\")',\r\n          }}\r\n        ></span>\r\n      </div>\r\n\r\n      <div className=\"promotion-box-inner content-style\">\r\n        <div className=\"text-main\">\r\n          <h3>{promotion.title || \"Promotion Title\"}</h3>\r\n          <p>{promotion.description || \"Promotion description\"}</p>\r\n        </div>\r\n\r\n        <div className=\"times\">\r\n          <span\r\n            className=\"item-icon\"\r\n            style={{\r\n              maskImage:\r\n                'url(\"https://img.s628b.com/sb/h5/assets/images/icon-set/icon-clock.svg?v=1762272774179\")',\r\n            }}\r\n          ></span>\r\n          <span>{promotion.type || \"Limited Offer\"}</span>\r\n        </div>\r\n\r\n        <div className=\"button-box\">\r\n          {renderButton()}\r\n          <ActionButton\r\n            className=\"button btn-primary\"\r\n            onClick={handleDetailClick}\r\n            label=\"Detail\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Reusable Action Button Component\r\nconst ActionButton = ({ className, onClick, label }) => (\r\n  <div\r\n    className={className}\r\n    onClick={onClick}\r\n    role=\"button\"\r\n    tabIndex={0}\r\n    onKeyPress={(e) => {\r\n      if (e.key === \"Enter\" || e.key === \" \") {\r\n        onClick();\r\n      }\r\n    }}\r\n  >\r\n    <span>{label}</span>\r\n  </div>\r\n);\r\n\r\nexport default PromotionPage;"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}