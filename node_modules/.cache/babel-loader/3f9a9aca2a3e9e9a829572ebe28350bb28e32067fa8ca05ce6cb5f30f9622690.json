{"ast":null,"code":"var _jsxFileName = \"F:\\\\png71\\\\my-app\\\\src\\\\components\\\\common\\\\Carousel.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect, useRef, useCallback } from 'react';\n// import { usePopup } from '../layouts/PopupManager';\n// import PromotionInfo from '../member/PromotionPage/PromotionInfo';\n\n// const Carousel = ({ \n\n//   autoPlay = true, \n//   delay = 5000,\n//   showDots = true,\n//   showArrows = true,\n//   draggable = true,\n//   itemWidth = 265.6 ,// Default width from the example\n//   //  showError, showSuccess\n// }) => {\n//   const [currentIndex, setCurrentIndex] = useState(0);\n//   const [isDragging, setIsDragging] = useState(false);\n//   const [startX, setStartX] = useState(0);\n//   const [translateX, setTranslateX] = useState(0);\n//   const carouselRef = useRef(null);\n//   const autoPlayRef = useRef(null);\n\n//   const items = [\n//       {\n//         id: 1,\n//         title: \"4% Unlimited Bonus + Free Spins\",\n//         description: \"Starts at 10:00 PM, to next day 9:59 PM BST!\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\n//         type: \"Limited Offer\",\n//         buttonType: \"apply\",\n//         category: \"new-promotions\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\n//         howToJoin: [\n//           \"লগইন করুন আপনার অ্যাকাউন্টে\",\n//           \"প্রোমোশন পৃষ্ঠায় যান\",\n//           \"বোনাসে আবেদন করুন\",\n//           \"জয় করুন আকর্ষণীয় পুরস্কার!\"\n//         ],\n//         bonusDetails: [\n//           { label: \"বোনাস পরিমাণ\", value: \"4% আনলিমিটেড\" },\n//           { label: \"মিনিমাম ডিপোজিট\", value: \"৳500\" },\n//           { label: \"মুক্ত স্পিন\", value: \"20 ফ্রি স্পিন\" },\n//           { label: \"বৈধতা\", value: \"7 দিন\" }\n//         ],\n//         termsAndConditions: [\n//           \"শুধুমাত্র 18+ ব্যবহারকারীদের জন্য প্রযোজ্য\",\n//           \"নূন্যতম ডিপোজিট ৳500 প্রয়োজন\",\n//           \"বোনাস 10x ওয়েজার প্রয়োজন\",\n//           \"একটি অ্যাকাউন্টে শুধুমাত্র একবার ব্যবহার করা যাবে\"\n//         ]\n//       },\n//       {\n//         id: 2,\n//         title: \"HEYVIP JILI LUCKY MACAW\",\n//         description: \"100% Weekly Winning Contest!\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_301526.jpg\",\n//         type: \"HEYVIP Offer\",\n//         buttonType: \"detail\",\n//         category: \"slots\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_301526.jpg\",\n//         howToJoin: [\n//           \"HEYVIP গেমসে অংশগ্রহণ করুন\",\n//           \"সাপ্তাহিক প্রতিযোগিতায় অংশ নিন\",\n//           \"সর্বোচ্চ জয় সংগ্রহ করুন\",\n//           \"পুরস্কার দাবি করুন\"\n//         ],\n//         bonusDetails: [\n//           { label: \"প্রতিযোগিতা ধরন\", value: \"সাপ্তাহিক\" },\n//           { label: \"পুরস্কার পুল\", value: \"৳50,000\" },\n//           { label: \"অংশগ্রহণের সময়\", value: \"সোমবার - রবিবার\" },\n//           { label: \"বিজয়ী ঘোষণা\", value: \"প্রতি সোমবার\" }\n//         ],\n//         termsAndConditions: [\n//           \"সমস্ত HEYVIP গেম প্রযোজ্য\",\n//           \"সাপ্তাহিক টুর্নামেন্ট ভিত্তিক\",\n//           \"শীর্ষ 50 খেলোয়াড় পুরস্কার পাবেন\",\n//           \"যেকোন সময় নিয়ম পরিবর্তনের অধিকার সংরক্ষিত\"\n//         ]\n//       },\n//       {\n//         id: 3,\n//         title: \"100% Deposit Bonus on PP Game\",\n//         description: \"Oracle Of Gold Exclusive\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_301818.jpg\",\n//         type: \"Limited Offer\",\n//         buttonType: \"apply\",\n//         category: \"slots\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_301818.jpg\",\n//         howToJoin: [\n//           \"প্রাগম্যাটিক প্লে গেম নির্বাচন করুন\",\n//           \"ডিপোজিট করুন নূন্যতম ৳1000\",\n//           \"স্বয়ংক্রিয়ভাবে 100% বোনাস পান\",\n//           \"Oracle Of Gold গেমে ব্যবহার করুন\"\n//         ],\n//         bonusDetails: [\n//           { label: \"বোনাস পরিমাণ\", value: \"100% ডিপোজিট\" },\n//           { label: \"মিনিমাম ডিপোজিট\", value: \"৳1000\" },\n//           { label: \"সর্বোচ্চ বোনাস\", value: \"৳10,000\" },\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"Oracle Of Gold\" }\n//         ],\n//         termsAndConditions: [\n//           \"শুধুমাত্র প্রাগম্যাটিক প্লে গেমস\",\n//           \"বোনাস 15x ওয়েজার প্রয়োজন\",\n//           \"7 দিনের মধ্যে ব্যবহার করতে হবে\",\n//           \"নগদীকরণের আগে শর্ত পূরণ করুন\"\n//         ]\n//       },\n//       {\n//         id: 4,\n//         title: \"Daily Attendance Bonus\",\n//         description: \"Stay Active, Win Every Day!\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_289817.jpg\",\n//         type: \"PRAGMATIC PLAY Special\",\n//         buttonType: \"detail\",\n//         category: \"live-casino\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_289817.jpg\",\n//         howToJoin: [\n//           \"প্রতিদিন লগইন করুন\",\n//           \"অ্যাটেনডেন্স বোনাস ক্লিক করুন\",\n//           \"দৈনিক পুরস্কার সংগ্রহ করুন\",\n//           \"7 দিন ক্রমাগত বোনাস পান\"\n//         ],\n//         bonusDetails: [\n//           { label: \"দিন 1\", value: \"৳50 ফ্রি ক্রেডিট\" },\n//           { label: \"দিন 2\", value: \"10 ফ্রি স্পিন\" },\n//           { label: \"দিন 3\", value: \"৳100 বোনাস\" },\n//           { label: \"দিন 7\", value: \"৳500 বিশেষ বোনাস\" }\n//         ],\n//         termsAndConditions: [\n//           \"প্রতিদিন লগইন প্রয়োজন\",\n//           \"24 ঘন্টার মধ্যে ক্লেইম করতে হবে\",\n//           \"ক্রমান্বয়ে 7 দিন পুরস্কার\",\n//           \"যেকোন দিন মিস করলে রিসেট হবে\"\n//         ]\n//       },\n//       {\n//         id: 5,\n//         title: \"Deposit & Get 200 Free Spins\",\n//         description: \"Enjoy extra spin in every deposit!\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_290977.jpg\",\n//         type: \"HEYVIP Special\",\n//         buttonType: \"apply\",\n//         category: \"slots\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_290977.jpg\",\n//         howToJoin: [\n//           \"যেকোনো পরিমাণ ডিপোজিট করুন\",\n//           \"স্বয়ংক্রিয়ভাবে 200 ফ্রি স্পিন পান\",\n//           \"নির্বাচিত স্লট গেমে ব্যবহার করুন\",\n//           \"জিতুন বড় পুরস্কার\"\n//         ],\n//         bonusDetails: [\n//           { label: \"ফ্রি স্পিন\", value: \"200 স্পিন\" },\n//           { label: \"মিনিমাম ডিপোজিট\", value: \"৳500\" },\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"নির্বাচিত স্লট\" },\n//           { label: \"বৈধতা\", value: \"3 দিন\" }\n//         ],\n//         termsAndConditions: [\n//           \"যেকোনো ডিপোজিটে প্রযোজ্য\",\n//           \"ফ্রি স্পিন 3 দিনের মধ্যে ব্যবহার করুন\",\n//           \"জয়ের ওয়েজার 20x প্রয়োজন\",\n//           \"একদিনে একবার ব্যবহার করা যাবে\"\n//         ]\n//       },\n//       {\n//         id: 6,\n//         title: \"৳500 Welcome Bonus on All Games\",\n//         description: \"Get Unlimited Withdrawal!\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_258671.jpg\",\n//         type: \"Welcome Offer\",\n//         buttonType: \"detail\",\n//         category: \"new-promotions\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_258671.jpg\",\n//         howToJoin: [\n//           \"নতুন অ্যাকাউন্ট রেজিস্টার করুন\",\n//           \"প্রথম ডিপোজিট করুন\",\n//           \"স্বয়ংক্রিয়ভাবে ৳500 বোনাস পান\",\n//           \"সমস্ত গেমে ব্যবহার করুন\"\n//         ],\n//         bonusDetails: [\n//           { label: \"বোনাস পরিমাণ\", value: \"৳500 ওয়েলকাম\" },\n//           { label: \"ডিপোজিট প্রয়োজন\", value: \"প্রথম ডিপোজিট\" },\n//           { label: \"সর্বোচ্চ উইথড্রয়াল\", value: \"আনলিমিটেড\" },\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"সমস্ত গেম\" }\n//         ],\n//         termsAndConditions: [\n//           \"শুধুমাত্র নতুন রেজিস্ট্রেশনের জন্য\",\n//           \"KYC ভেরিফিকেশন প্রয়োজন\",\n//           \"বোনাস 5x ওয়েজার প্রয়োজন\",\n//           \"30 দিনের মধ্যে ব্যবহার করতে হবে\"\n//         ]\n//       },\n//       {\n//         id: 7,\n//         title: \"৳8,000 Daily Sports Reload Bonus\",\n//         description: \"ICC Women's World Cup Special\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_290585.jpg\",\n//         type: \"Limited Offer\",\n//         buttonType: \"apply\",\n//         category: \"sports\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_290585.jpg\",\n//         howToJoin: [\n//           \"স্পোর্টস বিভাগে যান\",\n//           \"যেকোনো ক্রীড়া ইভেন্টে বেট করুন\",\n//           \"দৈনিক ৳8,000 পর্যন্ত বোনাস পান\",\n//           \"আরও বেট করতে ব্যবহার করুন\"\n//         ],\n//         bonusDetails: [\n//           { label: \"বোনাস পরিমাণ\", value: \"৳8,000 দৈনিক\" },\n//           { label: \"বোনাস ধরন\", value: \"রিলোড বোনাস\" },\n//           { label: \"বেট প্রয়োজন\", value: \"যেকোনো স্পোর্টস\" },\n//           { label: \"বৈধতা\", value: \"প্রতিদিন\" }\n//         ],\n//         termsAndConditions: [\n//           \"শুধুমাত্র স্পোর্টস বেটিং\",\n//           \"ন্যূনতম বেট ৳500\",\n//           \"বোনাস 8x রোলওভার প্রয়োজন\",\n//           \"প্রতিদিন একবার ব্যবহার করা যাবে\"\n//         ]\n//       },\n//       {\n//         id: 8,\n//         title: \"৳10,800 Weekly Reload Bonus On Slots\",\n//         description: \"Progressive slot rewards every time you deposit!\",\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_270781.jpg\",\n//         type: \"Limited Offer\",\n//         buttonType: \"apply\",\n//         category: \"slots\",\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_270781.jpg\",\n//         howToJoin: [\n//           \"স্লট গেমসে ডিপোজিট করুন\",\n//           \"সাপ্তাহিক রিলোড বোনাস পান\",\n//           \"৳10,800 পর্যন্ত সংগ্রহ করুন\",\n//           \"আরও গেম খেলুন\"\n//         ],\n//         bonusDetails: [\n//           { label: \"সর্বোচ্চ বোনাস\", value: \"৳10,800\" },\n//           { label: \"বোনাস ধরন\", value: \"সাপ্তাহিক রিলোড\" },\n//           { label: \"ডিপোজিট ফ্রিকোয়েন্সি\", value: \"সাপ্তাহিক\" },\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"স্লট গেমস\" }\n//         ],\n//         termsAndConditions: [\n//           \"শুধুমাত্র স্লট গেমসে প্রযোজ্য\",\n//           \"সাপ্তাহিক ডিপোজিট প্রয়োজন\",\n//           \"বোনাস 10x ওয়েজার প্রয়োজন\",\n//           \"প্রতি সপ্তাহে একবার\"\n//         ]\n//       }\n//     ];\n\n//   const nextSlide = useCallback(() => {\n//     setCurrentIndex(prev => (prev + 1) % items.length);\n//     setTranslateX(0);\n//   }, [items.length]);\n\n//   const prevSlide = useCallback(() => {\n//     setCurrentIndex(prev => (prev - 1 + items.length) % items.length);\n//     setTranslateX(0);\n//   }, [items.length]);\n\n//   const goToSlide = (index) => {\n//     setCurrentIndex(index);\n//     setTranslateX(0);\n//   };\n\n//   // Auto-play with pause on hover\n//   useEffect(() => {\n//     if (!autoPlay || items.length <= 1) return;\n\n//     const startAutoPlay = () => {\n//       autoPlayRef.current = setInterval(nextSlide, delay);\n//     };\n\n//     const stopAutoPlay = () => {\n//       if (autoPlayRef.current) {\n//         clearInterval(autoPlayRef.current);\n//       }\n//     };\n\n//     startAutoPlay();\n\n//     // Pause on hover\n//     const carousel = carouselRef.current;\n//     if (carousel) {\n//       carousel.addEventListener('mouseenter', stopAutoPlay);\n//       carousel.addEventListener('mouseleave', startAutoPlay);\n//     }\n\n//     return () => {\n//       stopAutoPlay();\n//       if (carousel) {\n//         carousel.removeEventListener('mouseenter', stopAutoPlay);\n//         carousel.removeEventListener('mouseleave', startAutoPlay);\n//       }\n//     };\n//   }, [autoPlay, delay, nextSlide, items.length]);\n\n//   // Drag functionality\n//   const handleDragStart = (e) => {\n//     if (!draggable) return;\n//     setIsDragging(true);\n//     setStartX(e.type.includes('mouse') ? e.clientX : e.touches[0].clientX);\n//   };\n\n//   const handleDragMove = (e) => {\n//     if (!isDragging || !draggable) return;\n//     const currentX = e.type.includes('mouse') ? e.clientX : e.touches[0].clientX;\n//     setTranslateX(currentX - startX);\n//   };\n\n//   const handleDragEnd = () => {\n//     if (!isDragging || !draggable) return;\n//     setIsDragging(false);\n\n//     const dragThreshold = 100;\n//     if (Math.abs(translateX) > dragThreshold) {\n//       if (translateX > 0) {\n//         prevSlide();\n//       } else {\n//         nextSlide();\n//       }\n//     }\n//     setTranslateX(0);\n//   };\n//   const { openPopup, closePopup } = usePopup();\n\n//   const handlePromoDetail = useCallback((promotion) => {\n//     openPopup(\n//       <PromotionInfo\n//         promotion={promotion}\n//         // showSuccess={showSuccess}\n//         onClose={() => {}}\n//       />,\n//       { \n//         contentClass: 'promotionPop',\n//         size: 'large'\n//       }\n//     );\n//   }, [openPopup]);\n\n//   // const handlePromoAction = useCallback((promotion) => {\n\n//   //     handlePromoDetail(promotion);\n//   //     closePopup();\n//   // }, [showSuccess, handlePromoDetail]);\n\n//   return (\n//     <div className=\"mcd-carousel-banner\" ref={carouselRef}>\n//       <div dir=\"ltr\" className=\"banner\">\n//         <div className=\"banner-v1\">\n//           <div className=\"carousel-wrap style-init mcd siblings\">\n//             {/* Drag container */}\n//             <div \n//               className=\"cdk-drag item-drag\"\n//               style={{ transform: `translate3d(${translateX}px, 0px, 0px)` }}\n//               onMouseDown={handleDragStart}\n//               onMouseMove={handleDragMove}\n//               onMouseUp={handleDragEnd}\n//               onMouseLeave={handleDragEnd}\n//               onTouchStart={handleDragStart}\n//               onTouchMove={handleDragMove}\n//               onTouchEnd={handleDragEnd}\n//             >\n//               <div className=\"item-left\">\n//                 <div \n//                   className=\"item-wrap\"\n//                   style={{ \n//                     transform: `translateX(-${currentIndex * itemWidth  + translateX }px)`,\n//                     transition: isDragging ? 'none' : 'transform 0.3s ease'\n//                   }}\n//                 >\n//                   {items.map((item, index) => (\n//                     <div\n//                       key={item.id || index}\n//                       className=\"item\"\n//                       style={{ width: `${itemWidth}px` }}\n//                       data-idx={index}\n//                       data-message-id={item.messageId}\n//                       onClick={() => handlePromoDetail(item)}\n//                     >\n//                       <div\n//                         className=\"item-pic\"\n//                         style={{ backgroundImage: `url(\"${item.image}\")` }}\n\n//                         role=\"button\"\n//                         tabIndex={0}\n//                         onKeyPress={(e) => {\n//                           if (e.key === 'Enter' && item.onClick) {\n//                             handlePromoDetail(item);\n//                           }\n//                         }}\n//                       />\n//                     </div>\n//                   ))}\n//                 </div>\n//               </div>\n//             </div>\n\n//             {/* Dot Navigation */}\n//             {showDots && items.length > 1 && (\n//               <ul className=\"dot-group style-bar\">\n//                 {items.map((_, index) => (\n//                   <li\n//                     key={index}\n//                     className={index === currentIndex ? 'active' : ''}\n//                     onClick={() => goToSlide(index)}\n//                     data-idx={index}\n//                   >\n//                     <span \n//                       className=\"dot-progress\" \n//                       style={{ \n//                         animationDuration: index === currentIndex ? `${delay}ms` : '0ms'\n//                       }}\n//                     />\n//                   </li>\n//                 ))}\n//               </ul>\n//             )}\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Carousel;\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { gsap } from \"gsap\";\n\n/**\r\n * McdCarouselBannerWithDrag\r\n *\r\n * Features:\r\n * - Pointer drag support (mouse + touch)\r\n * - Infinite seamless loop via duplicated items\r\n * - Responsive item width auto-fit using ResizeObserver\r\n * - GSAP for smooth auto-play and release/momentum animations\r\n *\r\n * Notes:\r\n * - Provide `images` array below or pass as prop (simple to adapt)\r\n * - Install gsap: npm i gsap\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Carousel({\n  images: propImages\n}) {\n  _s();\n  // default images (replace or pass prop)\n  const defaultImages = [\"https://img.s628b.com/upload/h5Announcement/image_305643.jpg\", \"https://img.s628b.com/upload/h5Announcement/image_306220.jpg\", \"https://img.s628b.com/upload/h5Announcement/image_305443.jpg\", \"https://img.s628b.com/upload/h5Announcement/image_274796.png\", \"https://img.s628b.com/upload/h5Announcement/image_309851.jpg\"];\n  const images = propImages && propImages.length ? propImages : defaultImages;\n\n  // refs\n  const viewportRef = useRef(null); // outer visible container\n  const trackRef = useRef(null); // inner container that moves\n  const itemsRef = useRef([]); // refs for each item\n  const resizeObserverRef = useRef(null);\n  const autoplayTlRef = useRef(null);\n\n  // state\n  const [itemW, setItemW] = useState(0);\n  const [activeIndex, setActiveIndex] = useState(0);\n\n  // internal mutable refs\n  const posRef = useRef(0); // current translateX (negative moves left)\n  const isDraggingRef = useRef(false);\n  const dragStartXRef = useRef(0);\n  const prevPointerXRef = useRef(0);\n  const velocityRef = useRef(0); // px / ms\n  const lastMoveTimeRef = useRef(0);\n  const rafRef = useRef(null);\n  const autoPlayDelay = 3000; // ms per slide\n\n  // Build duplicated list for infinite looping: [images, images]\n  const looped = [...images, ...images];\n\n  // Helper: set transform with no gsap (fast)\n  const setTranslateX = x => {\n    posRef.current = x;\n    if (trackRef.current) trackRef.current.style.transform = `translateX(${x}px)`;\n  };\n\n  // Normalize pos so that we are always in the primary window: when scrolling beyond width, jump back\n  const normalizePosition = () => {\n    if (!trackRef.current) return;\n    const totalWidth = itemW * images.length;\n    if (totalWidth === 0) return;\n    // If we've scrolled beyond first half to left (more negative than totalWidth), push right by totalWidth\n    if (Math.abs(posRef.current) >= totalWidth) {\n      // add totalWidth until inside\n      const num = Math.floor(Math.abs(posRef.current) / totalWidth);\n      posRef.current += num * totalWidth;\n      // apply without transition\n      trackRef.current.style.transition = \"none\";\n      setTranslateX(posRef.current);\n      // force reflow then remove none\n      void trackRef.current.offsetWidth;\n      trackRef.current.style.transition = \"\";\n    }\n    // If positive (moved to the right beyond 0), subtract totalWidth\n    if (posRef.current > 0) {\n      const num = Math.ceil(posRef.current / totalWidth);\n      posRef.current -= num * totalWidth;\n      trackRef.current.style.transition = \"none\";\n      setTranslateX(posRef.current);\n      void trackRef.current.offsetWidth;\n      trackRef.current.style.transition = \"\";\n    }\n  };\n\n  // Auto-play using GSAP timeline (smooth tween between slide positions)\n  const startAutoplay = () => {\n    stopAutoplay();\n    if (!trackRef.current || itemW === 0) return;\n    autoplayTlRef.current = gsap.timeline({\n      repeat: -1,\n      paused: true\n    });\n\n    // We will use a repeating tween: every autoPlayDelay, tween to next position\n    const singleTween = () => {\n      const fromX = posRef.current;\n      const toX = fromX - itemW;\n      // push into timeline as callback-based tween for better position tracking\n      autoplayTlRef.current.to({}, {\n        duration: autoPlayDelay / 1000,\n        // hold for delay (we will then animate)\n        onComplete: () => {\n          // animate slide movement (1s)\n          gsap.to(trackRef.current, {\n            x: toX,\n            duration: 1,\n            ease: \"power2.inOut\",\n            onStart: () => {/* noop */},\n            onUpdate: () => {\n              // sync posRef\n              const matrix = window.getComputedStyle(trackRef.current).transform;\n              // compute current translateX from matrix (fast approach)\n              if (matrix && matrix !== \"none\") {\n                const values = matrix.match(/matrix.*\\((.+)\\)/)[1].split(\", \");\n                const curX = parseFloat(values[4]);\n                posRef.current = curX;\n              }\n            },\n            onComplete: () => {\n              posRef.current = toX;\n              normalizePosition();\n              updateActiveIndexFromPosition();\n            }\n          });\n        }\n      });\n    };\n\n    // The above approach pushes one repeating hold+animate. But timeline repeat:-1 will repeat the singleTween step,\n    // however building step inside timeline is simpler: we create timeline with repeating cycle of (hold -> animate)\n    autoplayTlRef.current.clear();\n    looped.length && autoplayTlRef.current.addLabel(\"start\");\n    // We'll build N cycles, but since repeat:-1 we can add a single cycle\n    autoplayTlRef.current.to({}, {\n      duration: autoPlayDelay / 1000\n    }); // hold\n    autoplayTlRef.current.to(trackRef.current, {\n      x: `-=${itemW}`,\n      // move one item to left\n      duration: 1,\n      ease: \"power2.inOut\",\n      onComplete: () => {\n        posRef.current -= itemW;\n        normalizePosition();\n        updateActiveIndexFromPosition();\n      }\n    });\n    autoplayTlRef.current.repeat(-1);\n    autoplayTlRef.current.play();\n  };\n  const stopAutoplay = () => {\n    if (autoplayTlRef.current) {\n      autoplayTlRef.current.kill();\n      autoplayTlRef.current = null;\n    }\n  };\n\n  // Update active index from current posRef\n  const updateActiveIndexFromPosition = () => {\n    if (itemW === 0) return;\n    const step = Math.round(Math.abs(posRef.current) / itemW);\n    const idx = (step % images.length + images.length) % images.length;\n    setActiveIndex(idx);\n  };\n\n  // Pointer handlers for drag\n  useEffect(() => {\n    const viewport = viewportRef.current;\n    const track = trackRef.current;\n    if (!viewport || !track) return;\n    let pointerId = null;\n    const onPointerDown = e => {\n      // Only left mouse button or touch\n      if (e.pointerType === \"mouse\" && e.button !== 0) return;\n      isDraggingRef.current = true;\n      pointerId = e.pointerId;\n      viewport.setPointerCapture(pointerId);\n      dragStartXRef.current = e.clientX;\n      prevPointerXRef.current = e.clientX;\n      lastMoveTimeRef.current = performance.now();\n      velocityRef.current = 0;\n      stopAutoplay();\n      // stop any GSAP tweens on track to take manual control\n      gsap.killTweensOf(track);\n      track.style.transition = \"none\";\n    };\n    const onPointerMove = e => {\n      if (!isDraggingRef.current || e.pointerId !== pointerId) return;\n      const now = performance.now();\n      const dx = e.clientX - prevPointerXRef.current;\n      const dt = Math.max(1, now - lastMoveTimeRef.current); // ms\n      // velocity in px/ms\n      velocityRef.current = dx / dt;\n      lastMoveTimeRef.current = now;\n      prevPointerXRef.current = e.clientX;\n\n      // Update position immediately\n      const newX = posRef.current + dx;\n      setTranslateX(newX);\n      // keep normalized in background if necessary (but do not snap while dragging)\n    };\n    const onPointerUp = e => {\n      if (!isDraggingRef.current || e.pointerId !== pointerId) return;\n      isDraggingRef.current = false;\n      try {\n        viewport.releasePointerCapture(pointerId);\n      } catch (_) {}\n      // On release, apply momentum based on velocityRef\n      const velocity = velocityRef.current; // px/ms\n      // compute target displacement with simple exponential decay model\n      // distance = v * k  where k is chosen to feel right\n      const k = 300; // ms factor => larger = more glide\n      const displacement = velocity * k; // px\n      let target = posRef.current + displacement;\n\n      // Snap to nearest item (target should be multiple of itemW)\n      if (itemW > 0) {\n        const nearest = Math.round(target / itemW) * itemW;\n        target = nearest;\n      }\n\n      // Animate to target using GSAP for smoothness\n      gsap.to(track, {\n        x: target,\n        duration: Math.min(1.2, Math.abs(displacement) / 1000 + 0.3),\n        ease: \"power3.out\",\n        onUpdate: () => {\n          const matrix = window.getComputedStyle(track).transform;\n          if (matrix && matrix !== \"none\") {\n            const values = matrix.match(/matrix.*\\((.+)\\)/)[1].split(\", \");\n            const curX = parseFloat(values[4]);\n            posRef.current = curX;\n            updateActiveIndexFromPosition();\n          }\n        },\n        onComplete: () => {\n          posRef.current = target;\n          normalizePosition();\n          updateActiveIndexFromPosition();\n          // restart autoplay\n          startAutoplay();\n        }\n      });\n    };\n    viewport.addEventListener(\"pointerdown\", onPointerDown);\n    viewport.addEventListener(\"pointermove\", onPointerMove);\n    window.addEventListener(\"pointerup\", onPointerUp);\n    window.addEventListener(\"pointercancel\", onPointerUp);\n    return () => {\n      viewport.removeEventListener(\"pointerdown\", onPointerDown);\n      viewport.removeEventListener(\"pointermove\", onPointerMove);\n      window.removeEventListener(\"pointerup\", onPointerUp);\n      window.removeEventListener(\"pointercancel\", onPointerUp);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [itemW, images.length]);\n\n  // ResizeObserver to manage item width responsiveness\n  useEffect(() => {\n    if (!viewportRef.current || !trackRef.current) return;\n    const ro = new ResizeObserver(() => {\n      // Measure first item width (each item flexible)\n      const first = itemsRef.current[0];\n      if (first) {\n        const w = first.getBoundingClientRect().width;\n        if (w !== itemW) {\n          setItemW(w);\n        }\n      } else {\n        // fallback: viewport width / visibleCount\n        const vw = viewportRef.current.getBoundingClientRect().width;\n        setItemW(Math.round(vw * 0.8)); // fallback guess\n      }\n    });\n    ro.observe(viewportRef.current);\n    resizeObserverRef.current = ro;\n    return () => ro.disconnect();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // When itemW updates, re-position/sync and restart autoplay\n  useEffect(() => {\n    // ensure transform exists\n    if (trackRef.current) {\n      // set to current pos (in case)\n      trackRef.current.style.transform = `translateX(${posRef.current}px)`;\n    }\n    // restart autoplay with new width\n    startAutoplay();\n    return () => stopAutoplay();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [itemW]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      stopAutoplay();\n      if (resizeObserverRef.current) resizeObserverRef.current.disconnect();\n      if (rafRef.current) cancelAnimationFrame(rafRef.current);\n    };\n  }, []);\n\n  // Render\n  return /*#__PURE__*/_jsxDEV(\"mcd-carousel-banner\", {\n    id: \"mcd-carousel-banner-1\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"banner\",\n      dir: \"ltr\",\n      style: {\n        userSelect: \"none\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"banner-v1\",\n        style: {\n          overflow: \"hidden\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"carousel-wrap style-init mcd siblings\",\n          \"data-auto\": \"true\",\n          \"data-delay\": autoPlayDelay,\n          style: {\n            position: \"relative\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cdk-drag item-drag\",\n            ref: viewportRef,\n            style: {\n              overflow: \"hidden\",\n              touchAction: \"pan-y\",\n              // allow horizontal pointer handling\n              cursor: \"grab\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-left\",\n              style: {\n                display: \"flex\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-wrap\",\n                ref: trackRef,\n                style: {\n                  display: \"flex\",\n                  flexWrap: \"nowrap\",\n                  alignItems: \"stretch\",\n                  willChange: \"transform\",\n                  // start with 0 translate\n                  transform: `translateX(${posRef.current}px)`\n                },\n                children: looped.map((url, idx) => {\n                  // index in original images for attributes\n                  const origIdx = idx % images.length;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"item\",\n                    idx: origIdx,\n                    \"message-id\": 100000 + idx,\n                    ref: el => itemsRef.current[idx] = el,\n                    style: {\n                      flex: \"0 0 auto\",\n                      width: \"min(90vw, 273.9px)\",\n                      // responsive rule: adapt to container\n                      boxSizing: \"border-box\",\n                      padding: 6\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"item-pic\",\n                      style: {\n                        width: \"100%\",\n                        height: \"160px\",\n                        borderRadius: 8,\n                        backgroundImage: `url(\"${url}\")`,\n                        backgroundSize: \"cover\",\n                        backgroundPosition: \"center\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 783,\n                      columnNumber: 25\n                    }, this)\n                  }, idx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 770,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 753,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"dot-group style-bar\",\n            style: {\n              display: \"flex\",\n              gap: 8,\n              listStyle: \"none\",\n              padding: 0,\n              margin: \"12px 0 0 0\",\n              justifyContent: \"center\"\n            },\n            children: images.map((_, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: idx === activeIndex ? \"active\" : \"\",\n              idx: idx,\n              onClick: () => {\n                // jump to selected index (animate)\n                if (!trackRef.current || itemW === 0) return;\n                stopAutoplay();\n                // compute desired pos such that the left-most visible corresponds to idx (we use posRef negative)\n                // we are in looped mode; choose current window offset's base and animate nearest match\n                // compute current step count:\n                const currentStep = Math.round(Math.abs(posRef.current) / itemW);\n                // desired absolute step where (step % images.length) === idx\n                // choose nearest step to currentStep\n                let desiredStep = currentStep - currentStep % images.length + idx;\n                // try also desiredStep +/- images.length for nearest\n                const candidates = [desiredStep - images.length, desiredStep, desiredStep + images.length];\n                let best = candidates[0];\n                let bestDiff = Math.abs(candidates[0] - currentStep);\n                for (let c of candidates) {\n                  const diff = Math.abs(c - currentStep);\n                  if (diff < bestDiff) {\n                    bestDiff = diff;\n                    best = c;\n                  }\n                }\n                const target = -best * itemW;\n                gsap.to(trackRef.current, {\n                  x: target,\n                  duration: 0.8,\n                  ease: \"power2.inOut\",\n                  onUpdate: () => {\n                    const matrix = window.getComputedStyle(trackRef.current).transform;\n                    if (matrix && matrix !== \"none\") {\n                      const values = matrix.match(/matrix.*\\((.+)\\)/)[1].split(\", \");\n                      posRef.current = parseFloat(values[4]);\n                    }\n                    updateActiveIndexFromPosition();\n                  },\n                  onComplete: () => {\n                    posRef.current = target;\n                    normalizePosition();\n                    updateActiveIndexFromPosition();\n                    startAutoplay();\n                  }\n                });\n              },\n              style: {\n                width: 12,\n                height: 12,\n                borderRadius: 999,\n                background: idx === activeIndex ? \"#222\" : \"#ddd\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"dot-progress\",\n                style: {\n                  width: 6,\n                  height: 6,\n                  borderRadius: 999,\n                  background: \"transparent\",\n                  display: \"block\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 868,\n                columnNumber: 19\n              }, this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 734,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 733,\n    columnNumber: 5\n  }, this);\n}\n_s(Carousel, \"mo0dLdxsXrzS362eyOGWEdDlKtE=\");\n_c = Carousel;\nvar _c;\n$RefreshReg$(_c, \"Carousel\");","map":{"version":3,"names":["React","useEffect","useRef","useState","gsap","jsxDEV","_jsxDEV","Carousel","images","propImages","_s","defaultImages","length","viewportRef","trackRef","itemsRef","resizeObserverRef","autoplayTlRef","itemW","setItemW","activeIndex","setActiveIndex","posRef","isDraggingRef","dragStartXRef","prevPointerXRef","velocityRef","lastMoveTimeRef","rafRef","autoPlayDelay","looped","setTranslateX","x","current","style","transform","normalizePosition","totalWidth","Math","abs","num","floor","transition","offsetWidth","ceil","startAutoplay","stopAutoplay","timeline","repeat","paused","singleTween","fromX","toX","to","duration","onComplete","ease","onStart","onUpdate","matrix","window","getComputedStyle","values","match","split","curX","parseFloat","updateActiveIndexFromPosition","clear","addLabel","play","kill","step","round","idx","viewport","track","pointerId","onPointerDown","e","pointerType","button","setPointerCapture","clientX","performance","now","killTweensOf","onPointerMove","dx","dt","max","newX","onPointerUp","releasePointerCapture","_","velocity","k","displacement","target","nearest","min","addEventListener","removeEventListener","ro","ResizeObserver","first","w","getBoundingClientRect","width","vw","observe","disconnect","cancelAnimationFrame","id","children","className","dir","userSelect","overflow","position","ref","touchAction","cursor","display","flexWrap","alignItems","willChange","map","url","origIdx","el","flex","boxSizing","padding","height","borderRadius","backgroundImage","backgroundSize","backgroundPosition","fileName","_jsxFileName","lineNumber","columnNumber","gap","listStyle","margin","justifyContent","onClick","currentStep","desiredStep","candidates","best","bestDiff","c","diff","background","_c","$RefreshReg$"],"sources":["F:/png71/my-app/src/components/common/Carousel.js"],"sourcesContent":["\r\n\r\n// import React, { useState, useEffect, useRef, useCallback } from 'react';\r\n// import { usePopup } from '../layouts/PopupManager';\r\n// import PromotionInfo from '../member/PromotionPage/PromotionInfo';\r\n\r\n\r\n// const Carousel = ({ \r\n   \r\n//   autoPlay = true, \r\n//   delay = 5000,\r\n//   showDots = true,\r\n//   showArrows = true,\r\n//   draggable = true,\r\n//   itemWidth = 265.6 ,// Default width from the example\r\n//   //  showError, showSuccess\r\n// }) => {\r\n//   const [currentIndex, setCurrentIndex] = useState(0);\r\n//   const [isDragging, setIsDragging] = useState(false);\r\n//   const [startX, setStartX] = useState(0);\r\n//   const [translateX, setTranslateX] = useState(0);\r\n//   const carouselRef = useRef(null);\r\n//   const autoPlayRef = useRef(null);\r\n\r\n//   const items = [\r\n//       {\r\n//         id: 1,\r\n//         title: \"4% Unlimited Bonus + Free Spins\",\r\n//         description: \"Starts at 10:00 PM, to next day 9:59 PM BST!\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\r\n//         type: \"Limited Offer\",\r\n//         buttonType: \"apply\",\r\n//         category: \"new-promotions\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_219729.jpg\",\r\n//         howToJoin: [\r\n//           \"লগইন করুন আপনার অ্যাকাউন্টে\",\r\n//           \"প্রোমোশন পৃষ্ঠায় যান\",\r\n//           \"বোনাসে আবেদন করুন\",\r\n//           \"জয় করুন আকর্ষণীয় পুরস্কার!\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"বোনাস পরিমাণ\", value: \"4% আনলিমিটেড\" },\r\n//           { label: \"মিনিমাম ডিপোজিট\", value: \"৳500\" },\r\n//           { label: \"মুক্ত স্পিন\", value: \"20 ফ্রি স্পিন\" },\r\n//           { label: \"বৈধতা\", value: \"7 দিন\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"শুধুমাত্র 18+ ব্যবহারকারীদের জন্য প্রযোজ্য\",\r\n//           \"নূন্যতম ডিপোজিট ৳500 প্রয়োজন\",\r\n//           \"বোনাস 10x ওয়েজার প্রয়োজন\",\r\n//           \"একটি অ্যাকাউন্টে শুধুমাত্র একবার ব্যবহার করা যাবে\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 2,\r\n//         title: \"HEYVIP JILI LUCKY MACAW\",\r\n//         description: \"100% Weekly Winning Contest!\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_301526.jpg\",\r\n//         type: \"HEYVIP Offer\",\r\n//         buttonType: \"detail\",\r\n//         category: \"slots\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_301526.jpg\",\r\n//         howToJoin: [\r\n//           \"HEYVIP গেমসে অংশগ্রহণ করুন\",\r\n//           \"সাপ্তাহিক প্রতিযোগিতায় অংশ নিন\",\r\n//           \"সর্বোচ্চ জয় সংগ্রহ করুন\",\r\n//           \"পুরস্কার দাবি করুন\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"প্রতিযোগিতা ধরন\", value: \"সাপ্তাহিক\" },\r\n//           { label: \"পুরস্কার পুল\", value: \"৳50,000\" },\r\n//           { label: \"অংশগ্রহণের সময়\", value: \"সোমবার - রবিবার\" },\r\n//           { label: \"বিজয়ী ঘোষণা\", value: \"প্রতি সোমবার\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"সমস্ত HEYVIP গেম প্রযোজ্য\",\r\n//           \"সাপ্তাহিক টুর্নামেন্ট ভিত্তিক\",\r\n//           \"শীর্ষ 50 খেলোয়াড় পুরস্কার পাবেন\",\r\n//           \"যেকোন সময় নিয়ম পরিবর্তনের অধিকার সংরক্ষিত\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 3,\r\n//         title: \"100% Deposit Bonus on PP Game\",\r\n//         description: \"Oracle Of Gold Exclusive\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_301818.jpg\",\r\n//         type: \"Limited Offer\",\r\n//         buttonType: \"apply\",\r\n//         category: \"slots\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_301818.jpg\",\r\n//         howToJoin: [\r\n//           \"প্রাগম্যাটিক প্লে গেম নির্বাচন করুন\",\r\n//           \"ডিপোজিট করুন নূন্যতম ৳1000\",\r\n//           \"স্বয়ংক্রিয়ভাবে 100% বোনাস পান\",\r\n//           \"Oracle Of Gold গেমে ব্যবহার করুন\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"বোনাস পরিমাণ\", value: \"100% ডিপোজিট\" },\r\n//           { label: \"মিনিমাম ডিপোজিট\", value: \"৳1000\" },\r\n//           { label: \"সর্বোচ্চ বোনাস\", value: \"৳10,000\" },\r\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"Oracle Of Gold\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"শুধুমাত্র প্রাগম্যাটিক প্লে গেমস\",\r\n//           \"বোনাস 15x ওয়েজার প্রয়োজন\",\r\n//           \"7 দিনের মধ্যে ব্যবহার করতে হবে\",\r\n//           \"নগদীকরণের আগে শর্ত পূরণ করুন\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 4,\r\n//         title: \"Daily Attendance Bonus\",\r\n//         description: \"Stay Active, Win Every Day!\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_289817.jpg\",\r\n//         type: \"PRAGMATIC PLAY Special\",\r\n//         buttonType: \"detail\",\r\n//         category: \"live-casino\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_289817.jpg\",\r\n//         howToJoin: [\r\n//           \"প্রতিদিন লগইন করুন\",\r\n//           \"অ্যাটেনডেন্স বোনাস ক্লিক করুন\",\r\n//           \"দৈনিক পুরস্কার সংগ্রহ করুন\",\r\n//           \"7 দিন ক্রমাগত বোনাস পান\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"দিন 1\", value: \"৳50 ফ্রি ক্রেডিট\" },\r\n//           { label: \"দিন 2\", value: \"10 ফ্রি স্পিন\" },\r\n//           { label: \"দিন 3\", value: \"৳100 বোনাস\" },\r\n//           { label: \"দিন 7\", value: \"৳500 বিশেষ বোনাস\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"প্রতিদিন লগইন প্রয়োজন\",\r\n//           \"24 ঘন্টার মধ্যে ক্লেইম করতে হবে\",\r\n//           \"ক্রমান্বয়ে 7 দিন পুরস্কার\",\r\n//           \"যেকোন দিন মিস করলে রিসেট হবে\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 5,\r\n//         title: \"Deposit & Get 200 Free Spins\",\r\n//         description: \"Enjoy extra spin in every deposit!\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_290977.jpg\",\r\n//         type: \"HEYVIP Special\",\r\n//         buttonType: \"apply\",\r\n//         category: \"slots\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_290977.jpg\",\r\n//         howToJoin: [\r\n//           \"যেকোনো পরিমাণ ডিপোজিট করুন\",\r\n//           \"স্বয়ংক্রিয়ভাবে 200 ফ্রি স্পিন পান\",\r\n//           \"নির্বাচিত স্লট গেমে ব্যবহার করুন\",\r\n//           \"জিতুন বড় পুরস্কার\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"ফ্রি স্পিন\", value: \"200 স্পিন\" },\r\n//           { label: \"মিনিমাম ডিপোজিট\", value: \"৳500\" },\r\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"নির্বাচিত স্লট\" },\r\n//           { label: \"বৈধতা\", value: \"3 দিন\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"যেকোনো ডিপোজিটে প্রযোজ্য\",\r\n//           \"ফ্রি স্পিন 3 দিনের মধ্যে ব্যবহার করুন\",\r\n//           \"জয়ের ওয়েজার 20x প্রয়োজন\",\r\n//           \"একদিনে একবার ব্যবহার করা যাবে\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 6,\r\n//         title: \"৳500 Welcome Bonus on All Games\",\r\n//         description: \"Get Unlimited Withdrawal!\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_258671.jpg\",\r\n//         type: \"Welcome Offer\",\r\n//         buttonType: \"detail\",\r\n//         category: \"new-promotions\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_258671.jpg\",\r\n//         howToJoin: [\r\n//           \"নতুন অ্যাকাউন্ট রেজিস্টার করুন\",\r\n//           \"প্রথম ডিপোজিট করুন\",\r\n//           \"স্বয়ংক্রিয়ভাবে ৳500 বোনাস পান\",\r\n//           \"সমস্ত গেমে ব্যবহার করুন\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"বোনাস পরিমাণ\", value: \"৳500 ওয়েলকাম\" },\r\n//           { label: \"ডিপোজিট প্রয়োজন\", value: \"প্রথম ডিপোজিট\" },\r\n//           { label: \"সর্বোচ্চ উইথড্রয়াল\", value: \"আনলিমিটেড\" },\r\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"সমস্ত গেম\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"শুধুমাত্র নতুন রেজিস্ট্রেশনের জন্য\",\r\n//           \"KYC ভেরিফিকেশন প্রয়োজন\",\r\n//           \"বোনাস 5x ওয়েজার প্রয়োজন\",\r\n//           \"30 দিনের মধ্যে ব্যবহার করতে হবে\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 7,\r\n//         title: \"৳8,000 Daily Sports Reload Bonus\",\r\n//         description: \"ICC Women's World Cup Special\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_290585.jpg\",\r\n//         type: \"Limited Offer\",\r\n//         buttonType: \"apply\",\r\n//         category: \"sports\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_290585.jpg\",\r\n//         howToJoin: [\r\n//           \"স্পোর্টস বিভাগে যান\",\r\n//           \"যেকোনো ক্রীড়া ইভেন্টে বেট করুন\",\r\n//           \"দৈনিক ৳8,000 পর্যন্ত বোনাস পান\",\r\n//           \"আরও বেট করতে ব্যবহার করুন\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"বোনাস পরিমাণ\", value: \"৳8,000 দৈনিক\" },\r\n//           { label: \"বোনাস ধরন\", value: \"রিলোড বোনাস\" },\r\n//           { label: \"বেট প্রয়োজন\", value: \"যেকোনো স্পোর্টস\" },\r\n//           { label: \"বৈধতা\", value: \"প্রতিদিন\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"শুধুমাত্র স্পোর্টস বেটিং\",\r\n//           \"ন্যূনতম বেট ৳500\",\r\n//           \"বোনাস 8x রোলওভার প্রয়োজন\",\r\n//           \"প্রতিদিন একবার ব্যবহার করা যাবে\"\r\n//         ]\r\n//       },\r\n//       {\r\n//         id: 8,\r\n//         title: \"৳10,800 Weekly Reload Bonus On Slots\",\r\n//         description: \"Progressive slot rewards every time you deposit!\",\r\n//         image: \"https://img.s628b.com/upload/h5Announcement/image_270781.jpg\",\r\n//         type: \"Limited Offer\",\r\n//         buttonType: \"apply\",\r\n//         category: \"slots\",\r\n//         bannerImage: \"https://img.s628b.com/upload/h5Announcement/image_270781.jpg\",\r\n//         howToJoin: [\r\n//           \"স্লট গেমসে ডিপোজিট করুন\",\r\n//           \"সাপ্তাহিক রিলোড বোনাস পান\",\r\n//           \"৳10,800 পর্যন্ত সংগ্রহ করুন\",\r\n//           \"আরও গেম খেলুন\"\r\n//         ],\r\n//         bonusDetails: [\r\n//           { label: \"সর্বোচ্চ বোনাস\", value: \"৳10,800\" },\r\n//           { label: \"বোনাস ধরন\", value: \"সাপ্তাহিক রিলোড\" },\r\n//           { label: \"ডিপোজিট ফ্রিকোয়েন্সি\", value: \"সাপ্তাহিক\" },\r\n//           { label: \"গেম সীমাবদ্ধতা\", value: \"স্লট গেমস\" }\r\n//         ],\r\n//         termsAndConditions: [\r\n//           \"শুধুমাত্র স্লট গেমসে প্রযোজ্য\",\r\n//           \"সাপ্তাহিক ডিপোজিট প্রয়োজন\",\r\n//           \"বোনাস 10x ওয়েজার প্রয়োজন\",\r\n//           \"প্রতি সপ্তাহে একবার\"\r\n//         ]\r\n//       }\r\n//     ];\r\n\r\n\r\n\r\n//   const nextSlide = useCallback(() => {\r\n//     setCurrentIndex(prev => (prev + 1) % items.length);\r\n//     setTranslateX(0);\r\n//   }, [items.length]);\r\n\r\n//   const prevSlide = useCallback(() => {\r\n//     setCurrentIndex(prev => (prev - 1 + items.length) % items.length);\r\n//     setTranslateX(0);\r\n//   }, [items.length]);\r\n\r\n//   const goToSlide = (index) => {\r\n//     setCurrentIndex(index);\r\n//     setTranslateX(0);\r\n//   };\r\n\r\n//   // Auto-play with pause on hover\r\n//   useEffect(() => {\r\n//     if (!autoPlay || items.length <= 1) return;\r\n\r\n//     const startAutoPlay = () => {\r\n//       autoPlayRef.current = setInterval(nextSlide, delay);\r\n//     };\r\n\r\n//     const stopAutoPlay = () => {\r\n//       if (autoPlayRef.current) {\r\n//         clearInterval(autoPlayRef.current);\r\n//       }\r\n//     };\r\n\r\n//     startAutoPlay();\r\n\r\n//     // Pause on hover\r\n//     const carousel = carouselRef.current;\r\n//     if (carousel) {\r\n//       carousel.addEventListener('mouseenter', stopAutoPlay);\r\n//       carousel.addEventListener('mouseleave', startAutoPlay);\r\n//     }\r\n\r\n//     return () => {\r\n//       stopAutoPlay();\r\n//       if (carousel) {\r\n//         carousel.removeEventListener('mouseenter', stopAutoPlay);\r\n//         carousel.removeEventListener('mouseleave', startAutoPlay);\r\n//       }\r\n//     };\r\n//   }, [autoPlay, delay, nextSlide, items.length]);\r\n\r\n//   // Drag functionality\r\n//   const handleDragStart = (e) => {\r\n//     if (!draggable) return;\r\n//     setIsDragging(true);\r\n//     setStartX(e.type.includes('mouse') ? e.clientX : e.touches[0].clientX);\r\n//   };\r\n\r\n//   const handleDragMove = (e) => {\r\n//     if (!isDragging || !draggable) return;\r\n//     const currentX = e.type.includes('mouse') ? e.clientX : e.touches[0].clientX;\r\n//     setTranslateX(currentX - startX);\r\n//   };\r\n\r\n//   const handleDragEnd = () => {\r\n//     if (!isDragging || !draggable) return;\r\n//     setIsDragging(false);\r\n    \r\n//     const dragThreshold = 100;\r\n//     if (Math.abs(translateX) > dragThreshold) {\r\n//       if (translateX > 0) {\r\n//         prevSlide();\r\n//       } else {\r\n//         nextSlide();\r\n//       }\r\n//     }\r\n//     setTranslateX(0);\r\n//   };\r\n//   const { openPopup, closePopup } = usePopup();\r\n\r\n//   const handlePromoDetail = useCallback((promotion) => {\r\n//     openPopup(\r\n//       <PromotionInfo\r\n//         promotion={promotion}\r\n//         // showSuccess={showSuccess}\r\n//         onClose={() => {}}\r\n//       />,\r\n//       { \r\n//         contentClass: 'promotionPop',\r\n//         size: 'large'\r\n//       }\r\n//     );\r\n//   }, [openPopup]);\r\n\r\n//   // const handlePromoAction = useCallback((promotion) => {\r\n   \r\n//   //     handlePromoDetail(promotion);\r\n//   //     closePopup();\r\n//   // }, [showSuccess, handlePromoDetail]);\r\n\r\n//   return (\r\n//     <div className=\"mcd-carousel-banner\" ref={carouselRef}>\r\n//       <div dir=\"ltr\" className=\"banner\">\r\n//         <div className=\"banner-v1\">\r\n//           <div className=\"carousel-wrap style-init mcd siblings\">\r\n//             {/* Drag container */}\r\n//             <div \r\n//               className=\"cdk-drag item-drag\"\r\n//               style={{ transform: `translate3d(${translateX}px, 0px, 0px)` }}\r\n//               onMouseDown={handleDragStart}\r\n//               onMouseMove={handleDragMove}\r\n//               onMouseUp={handleDragEnd}\r\n//               onMouseLeave={handleDragEnd}\r\n//               onTouchStart={handleDragStart}\r\n//               onTouchMove={handleDragMove}\r\n//               onTouchEnd={handleDragEnd}\r\n//             >\r\n//               <div className=\"item-left\">\r\n//                 <div \r\n//                   className=\"item-wrap\"\r\n//                   style={{ \r\n//                     transform: `translateX(-${currentIndex * itemWidth  + translateX }px)`,\r\n//                     transition: isDragging ? 'none' : 'transform 0.3s ease'\r\n//                   }}\r\n//                 >\r\n//                   {items.map((item, index) => (\r\n//                     <div\r\n//                       key={item.id || index}\r\n//                       className=\"item\"\r\n//                       style={{ width: `${itemWidth}px` }}\r\n//                       data-idx={index}\r\n//                       data-message-id={item.messageId}\r\n//                       onClick={() => handlePromoDetail(item)}\r\n//                     >\r\n//                       <div\r\n//                         className=\"item-pic\"\r\n//                         style={{ backgroundImage: `url(\"${item.image}\")` }}\r\n                        \r\n//                         role=\"button\"\r\n//                         tabIndex={0}\r\n//                         onKeyPress={(e) => {\r\n//                           if (e.key === 'Enter' && item.onClick) {\r\n//                             handlePromoDetail(item);\r\n//                           }\r\n//                         }}\r\n//                       />\r\n//                     </div>\r\n//                   ))}\r\n//                 </div>\r\n//               </div>\r\n//             </div>\r\n            \r\n//             {/* Dot Navigation */}\r\n//             {showDots && items.length > 1 && (\r\n//               <ul className=\"dot-group style-bar\">\r\n//                 {items.map((_, index) => (\r\n//                   <li\r\n//                     key={index}\r\n//                     className={index === currentIndex ? 'active' : ''}\r\n//                     onClick={() => goToSlide(index)}\r\n//                     data-idx={index}\r\n//                   >\r\n//                     <span \r\n//                       className=\"dot-progress\" \r\n//                       style={{ \r\n//                         animationDuration: index === currentIndex ? `${delay}ms` : '0ms'\r\n//                       }}\r\n//                     />\r\n//                   </li>\r\n//                 ))}\r\n//               </ul>\r\n//             )}\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Carousel;\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { gsap } from \"gsap\";\r\n\r\n/**\r\n * McdCarouselBannerWithDrag\r\n *\r\n * Features:\r\n * - Pointer drag support (mouse + touch)\r\n * - Infinite seamless loop via duplicated items\r\n * - Responsive item width auto-fit using ResizeObserver\r\n * - GSAP for smooth auto-play and release/momentum animations\r\n *\r\n * Notes:\r\n * - Provide `images` array below or pass as prop (simple to adapt)\r\n * - Install gsap: npm i gsap\r\n */\r\n\r\nexport default function Carousel({ images: propImages }) {\r\n  // default images (replace or pass prop)\r\n  const defaultImages = [\r\n    \"https://img.s628b.com/upload/h5Announcement/image_305643.jpg\",\r\n    \"https://img.s628b.com/upload/h5Announcement/image_306220.jpg\",\r\n    \"https://img.s628b.com/upload/h5Announcement/image_305443.jpg\",\r\n    \"https://img.s628b.com/upload/h5Announcement/image_274796.png\",\r\n    \"https://img.s628b.com/upload/h5Announcement/image_309851.jpg\",\r\n  ];\r\n  const images = propImages && propImages.length ? propImages : defaultImages;\r\n\r\n  // refs\r\n  const viewportRef = useRef(null); // outer visible container\r\n  const trackRef = useRef(null); // inner container that moves\r\n  const itemsRef = useRef([]); // refs for each item\r\n  const resizeObserverRef = useRef(null);\r\n  const autoplayTlRef = useRef(null);\r\n\r\n  // state\r\n  const [itemW, setItemW] = useState(0);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n  // internal mutable refs\r\n  const posRef = useRef(0); // current translateX (negative moves left)\r\n  const isDraggingRef = useRef(false);\r\n  const dragStartXRef = useRef(0);\r\n  const prevPointerXRef = useRef(0);\r\n  const velocityRef = useRef(0); // px / ms\r\n  const lastMoveTimeRef = useRef(0);\r\n  const rafRef = useRef(null);\r\n  const autoPlayDelay = 3000; // ms per slide\r\n\r\n  // Build duplicated list for infinite looping: [images, images]\r\n  const looped = [...images, ...images];\r\n\r\n  // Helper: set transform with no gsap (fast)\r\n  const setTranslateX = (x) => {\r\n    posRef.current = x;\r\n    if (trackRef.current) trackRef.current.style.transform = `translateX(${x}px)`;\r\n  };\r\n\r\n  // Normalize pos so that we are always in the primary window: when scrolling beyond width, jump back\r\n  const normalizePosition = () => {\r\n    if (!trackRef.current) return;\r\n    const totalWidth = itemW * images.length;\r\n    if (totalWidth === 0) return;\r\n    // If we've scrolled beyond first half to left (more negative than totalWidth), push right by totalWidth\r\n    if (Math.abs(posRef.current) >= totalWidth) {\r\n      // add totalWidth until inside\r\n      const num = Math.floor(Math.abs(posRef.current) / totalWidth);\r\n      posRef.current += num * totalWidth;\r\n      // apply without transition\r\n      trackRef.current.style.transition = \"none\";\r\n      setTranslateX(posRef.current);\r\n      // force reflow then remove none\r\n      void trackRef.current.offsetWidth;\r\n      trackRef.current.style.transition = \"\";\r\n    }\r\n    // If positive (moved to the right beyond 0), subtract totalWidth\r\n    if (posRef.current > 0) {\r\n      const num = Math.ceil(posRef.current / totalWidth);\r\n      posRef.current -= num * totalWidth;\r\n      trackRef.current.style.transition = \"none\";\r\n      setTranslateX(posRef.current);\r\n      void trackRef.current.offsetWidth;\r\n      trackRef.current.style.transition = \"\";\r\n    }\r\n  };\r\n\r\n  // Auto-play using GSAP timeline (smooth tween between slide positions)\r\n  const startAutoplay = () => {\r\n    stopAutoplay();\r\n    if (!trackRef.current || itemW === 0) return;\r\n    autoplayTlRef.current = gsap.timeline({ repeat: -1, paused: true });\r\n\r\n    // We will use a repeating tween: every autoPlayDelay, tween to next position\r\n    const singleTween = () => {\r\n      const fromX = posRef.current;\r\n      const toX = fromX - itemW;\r\n      // push into timeline as callback-based tween for better position tracking\r\n      autoplayTlRef.current.to({}, {\r\n        duration: autoPlayDelay / 1000, // hold for delay (we will then animate)\r\n        onComplete: () => {\r\n          // animate slide movement (1s)\r\n          gsap.to(trackRef.current, {\r\n            x: toX,\r\n            duration: 1,\r\n            ease: \"power2.inOut\",\r\n            onStart: () => { /* noop */ },\r\n            onUpdate: () => {\r\n              // sync posRef\r\n              const matrix = window.getComputedStyle(trackRef.current).transform;\r\n              // compute current translateX from matrix (fast approach)\r\n              if (matrix && matrix !== \"none\") {\r\n                const values = matrix.match(/matrix.*\\((.+)\\)/)[1].split(\", \");\r\n                const curX = parseFloat(values[4]);\r\n                posRef.current = curX;\r\n              }\r\n            },\r\n            onComplete: () => {\r\n              posRef.current = toX;\r\n              normalizePosition();\r\n              updateActiveIndexFromPosition();\r\n            },\r\n          });\r\n        },\r\n      });\r\n    };\r\n\r\n    // The above approach pushes one repeating hold+animate. But timeline repeat:-1 will repeat the singleTween step,\r\n    // however building step inside timeline is simpler: we create timeline with repeating cycle of (hold -> animate)\r\n    autoplayTlRef.current.clear();\r\n    looped.length && autoplayTlRef.current.addLabel(\"start\");\r\n    // We'll build N cycles, but since repeat:-1 we can add a single cycle\r\n    autoplayTlRef.current.to({}, { duration: autoPlayDelay / 1000 }); // hold\r\n    autoplayTlRef.current.to(trackRef.current, {\r\n      x: `-=${itemW}`, // move one item to left\r\n      duration: 1,\r\n      ease: \"power2.inOut\",\r\n      onComplete: () => {\r\n        posRef.current -= itemW;\r\n        normalizePosition();\r\n        updateActiveIndexFromPosition();\r\n      },\r\n    });\r\n    autoplayTlRef.current.repeat(-1);\r\n    autoplayTlRef.current.play();\r\n  };\r\n\r\n  const stopAutoplay = () => {\r\n    if (autoplayTlRef.current) {\r\n      autoplayTlRef.current.kill();\r\n      autoplayTlRef.current = null;\r\n    }\r\n  };\r\n\r\n  // Update active index from current posRef\r\n  const updateActiveIndexFromPosition = () => {\r\n    if (itemW === 0) return;\r\n    const step = Math.round(Math.abs(posRef.current) / itemW);\r\n    const idx = ((step % images.length) + images.length) % images.length;\r\n    setActiveIndex(idx);\r\n  };\r\n\r\n  // Pointer handlers for drag\r\n  useEffect(() => {\r\n    const viewport = viewportRef.current;\r\n    const track = trackRef.current;\r\n    if (!viewport || !track) return;\r\n    let pointerId = null;\r\n\r\n    const onPointerDown = (e) => {\r\n      // Only left mouse button or touch\r\n      if (e.pointerType === \"mouse\" && e.button !== 0) return;\r\n      isDraggingRef.current = true;\r\n      pointerId = e.pointerId;\r\n      viewport.setPointerCapture(pointerId);\r\n      dragStartXRef.current = e.clientX;\r\n      prevPointerXRef.current = e.clientX;\r\n      lastMoveTimeRef.current = performance.now();\r\n      velocityRef.current = 0;\r\n      stopAutoplay();\r\n      // stop any GSAP tweens on track to take manual control\r\n      gsap.killTweensOf(track);\r\n      track.style.transition = \"none\";\r\n    };\r\n\r\n    const onPointerMove = (e) => {\r\n      if (!isDraggingRef.current || e.pointerId !== pointerId) return;\r\n      const now = performance.now();\r\n      const dx = e.clientX - prevPointerXRef.current;\r\n      const dt = Math.max(1, now - lastMoveTimeRef.current); // ms\r\n      // velocity in px/ms\r\n      velocityRef.current = dx / dt;\r\n      lastMoveTimeRef.current = now;\r\n      prevPointerXRef.current = e.clientX;\r\n\r\n      // Update position immediately\r\n      const newX = posRef.current + dx;\r\n      setTranslateX(newX);\r\n      // keep normalized in background if necessary (but do not snap while dragging)\r\n    };\r\n\r\n    const onPointerUp = (e) => {\r\n      if (!isDraggingRef.current || e.pointerId !== pointerId) return;\r\n      isDraggingRef.current = false;\r\n      try { viewport.releasePointerCapture(pointerId); } catch (_) {}\r\n      // On release, apply momentum based on velocityRef\r\n      const velocity = velocityRef.current; // px/ms\r\n      // compute target displacement with simple exponential decay model\r\n      // distance = v * k  where k is chosen to feel right\r\n      const k = 300; // ms factor => larger = more glide\r\n      const displacement = velocity * k; // px\r\n      let target = posRef.current + displacement;\r\n\r\n      // Snap to nearest item (target should be multiple of itemW)\r\n      if (itemW > 0) {\r\n        const nearest = Math.round(target / itemW) * itemW;\r\n        target = nearest;\r\n      }\r\n\r\n      // Animate to target using GSAP for smoothness\r\n      gsap.to(track, {\r\n        x: target,\r\n        duration: Math.min(1.2, Math.abs(displacement) / 1000 + 0.3),\r\n        ease: \"power3.out\",\r\n        onUpdate: () => {\r\n          const matrix = window.getComputedStyle(track).transform;\r\n          if (matrix && matrix !== \"none\") {\r\n            const values = matrix.match(/matrix.*\\((.+)\\)/)[1].split(\", \");\r\n            const curX = parseFloat(values[4]);\r\n            posRef.current = curX;\r\n            updateActiveIndexFromPosition();\r\n          }\r\n        },\r\n        onComplete: () => {\r\n          posRef.current = target;\r\n          normalizePosition();\r\n          updateActiveIndexFromPosition();\r\n          // restart autoplay\r\n          startAutoplay();\r\n        },\r\n      });\r\n    };\r\n\r\n    viewport.addEventListener(\"pointerdown\", onPointerDown);\r\n    viewport.addEventListener(\"pointermove\", onPointerMove);\r\n    window.addEventListener(\"pointerup\", onPointerUp);\r\n    window.addEventListener(\"pointercancel\", onPointerUp);\r\n\r\n    return () => {\r\n      viewport.removeEventListener(\"pointerdown\", onPointerDown);\r\n      viewport.removeEventListener(\"pointermove\", onPointerMove);\r\n      window.removeEventListener(\"pointerup\", onPointerUp);\r\n      window.removeEventListener(\"pointercancel\", onPointerUp);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [itemW, images.length]);\r\n\r\n  // ResizeObserver to manage item width responsiveness\r\n  useEffect(() => {\r\n    if (!viewportRef.current || !trackRef.current) return;\r\n    const ro = new ResizeObserver(() => {\r\n      // Measure first item width (each item flexible)\r\n      const first = itemsRef.current[0];\r\n      if (first) {\r\n        const w = first.getBoundingClientRect().width;\r\n        if (w !== itemW) {\r\n          setItemW(w);\r\n        }\r\n      } else {\r\n        // fallback: viewport width / visibleCount\r\n        const vw = viewportRef.current.getBoundingClientRect().width;\r\n        setItemW(Math.round(vw * 0.8)); // fallback guess\r\n      }\r\n    });\r\n    ro.observe(viewportRef.current);\r\n    resizeObserverRef.current = ro;\r\n    return () => ro.disconnect();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // When itemW updates, re-position/sync and restart autoplay\r\n  useEffect(() => {\r\n    // ensure transform exists\r\n    if (trackRef.current) {\r\n      // set to current pos (in case)\r\n      trackRef.current.style.transform = `translateX(${posRef.current}px)`;\r\n    }\r\n    // restart autoplay with new width\r\n    startAutoplay();\r\n    return () => stopAutoplay();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [itemW]);\r\n\r\n  // Cleanup on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      stopAutoplay();\r\n      if (resizeObserverRef.current) resizeObserverRef.current.disconnect();\r\n      if (rafRef.current) cancelAnimationFrame(rafRef.current);\r\n    };\r\n  }, []);\r\n\r\n  // Render\r\n  return (\r\n    <mcd-carousel-banner id=\"mcd-carousel-banner-1\">\r\n      <div className=\"banner\" dir=\"ltr\" style={{ userSelect: \"none\" }}>\r\n        <div className=\"banner-v1\" style={{ overflow: \"hidden\" }}>\r\n          <div\r\n            className=\"carousel-wrap style-init mcd siblings\"\r\n            data-auto=\"true\"\r\n            data-delay={autoPlayDelay}\r\n            style={{ position: \"relative\" }}\r\n          >\r\n            {/* Viewport: captures pointer events */}\r\n            <div\r\n              className=\"cdk-drag item-drag\"\r\n              ref={viewportRef}\r\n              style={{\r\n                overflow: \"hidden\",\r\n                touchAction: \"pan-y\", // allow horizontal pointer handling\r\n                cursor: \"grab\",\r\n              }}\r\n            >\r\n              <div className=\"item-left\" style={{ display: \"flex\" }}>\r\n                <div\r\n                  className=\"item-wrap\"\r\n                  ref={trackRef}\r\n                  style={{\r\n                    display: \"flex\",\r\n                    flexWrap: \"nowrap\",\r\n                    alignItems: \"stretch\",\r\n                    willChange: \"transform\",\r\n                    // start with 0 translate\r\n                    transform: `translateX(${posRef.current}px)`,\r\n                  }}\r\n                >\r\n                  {/* Render looped items: first images then repeat */}\r\n                  {looped.map((url, idx) => {\r\n                    // index in original images for attributes\r\n                    const origIdx = idx % images.length;\r\n                    return (\r\n                      <div\r\n                        key={idx}\r\n                        className=\"item\"\r\n                        idx={origIdx}\r\n                        message-id={100000 + idx}\r\n                        ref={(el) => (itemsRef.current[idx] = el)}\r\n                        style={{\r\n                          flex: \"0 0 auto\",\r\n                          width: \"min(90vw, 273.9px)\", // responsive rule: adapt to container\r\n                          boxSizing: \"border-box\",\r\n                          padding: 6,\r\n                        }}\r\n                      >\r\n                        <div\r\n                          className=\"item-pic\"\r\n                          style={{\r\n                            width: \"100%\",\r\n                            height: \"160px\",\r\n                            borderRadius: 8,\r\n                            backgroundImage: `url(\"${url}\")`,\r\n                            backgroundSize: \"cover\",\r\n                            backgroundPosition: \"center\",\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Dots */}\r\n            <ul\r\n              className=\"dot-group style-bar\"\r\n              style={{\r\n                display: \"flex\",\r\n                gap: 8,\r\n                listStyle: \"none\",\r\n                padding: 0,\r\n                margin: \"12px 0 0 0\",\r\n                justifyContent: \"center\",\r\n              }}\r\n            >\r\n              {images.map((_, idx) => (\r\n                <li\r\n                  key={idx}\r\n                  className={idx === activeIndex ? \"active\" : \"\"}\r\n                  idx={idx}\r\n                  onClick={() => {\r\n                    // jump to selected index (animate)\r\n                    if (!trackRef.current || itemW === 0) return;\r\n                    stopAutoplay();\r\n                    // compute desired pos such that the left-most visible corresponds to idx (we use posRef negative)\r\n                    // we are in looped mode; choose current window offset's base and animate nearest match\r\n                    // compute current step count:\r\n                    const currentStep = Math.round(Math.abs(posRef.current) / itemW);\r\n                    // desired absolute step where (step % images.length) === idx\r\n                    // choose nearest step to currentStep\r\n                    let desiredStep = currentStep - (currentStep % images.length) + idx;\r\n                    // try also desiredStep +/- images.length for nearest\r\n                    const candidates = [desiredStep - images.length, desiredStep, desiredStep + images.length];\r\n                    let best = candidates[0];\r\n                    let bestDiff = Math.abs(candidates[0] - currentStep);\r\n                    for (let c of candidates) {\r\n                      const diff = Math.abs(c - currentStep);\r\n                      if (diff < bestDiff) { bestDiff = diff; best = c; }\r\n                    }\r\n                    const target = -best * itemW;\r\n                    gsap.to(trackRef.current, {\r\n                      x: target,\r\n                      duration: 0.8,\r\n                      ease: \"power2.inOut\",\r\n                      onUpdate: () => {\r\n                        const matrix = window.getComputedStyle(trackRef.current).transform;\r\n                        if (matrix && matrix !== \"none\") {\r\n                          const values = matrix.match(/matrix.*\\((.+)\\)/)[1].split(\", \");\r\n                          posRef.current = parseFloat(values[4]);\r\n                        }\r\n                        updateActiveIndexFromPosition();\r\n                      },\r\n                      onComplete: () => {\r\n                        posRef.current = target;\r\n                        normalizePosition();\r\n                        updateActiveIndexFromPosition();\r\n                        startAutoplay();\r\n                      },\r\n                    });\r\n                  }}\r\n                  style={{\r\n                    width: 12,\r\n                    height: 12,\r\n                    borderRadius: 999,\r\n                    background: idx === activeIndex ? \"#222\" : \"#ddd\",\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                  }}\r\n                >\r\n                  <span\r\n                    className=\"dot-progress\"\r\n                    style={{\r\n                      width: 6,\r\n                      height: 6,\r\n                      borderRadius: 999,\r\n                      background: \"transparent\",\r\n                      display: \"block\",\r\n                    }}\r\n                  />\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mcd-carousel-banner>\r\n  );\r\n}\r\n"],"mappings":";;AAEA;AACA;AACA;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,SAASC,IAAI,QAAQ,MAAM;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA,SAAAC,MAAA,IAAAC,OAAA;AAcA,eAAe,SAASC,QAAQA,CAAC;EAAEC,MAAM,EAAEC;AAAW,CAAC,EAAE;EAAAC,EAAA;EACvD;EACA,MAAMC,aAAa,GAAG,CACpB,8DAA8D,EAC9D,8DAA8D,EAC9D,8DAA8D,EAC9D,8DAA8D,EAC9D,8DAA8D,CAC/D;EACD,MAAMH,MAAM,GAAGC,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}