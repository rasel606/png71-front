{"ast":null,"code":"import _objectSpread from\"F:/png71/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{API_ENDPOINTS,API_BASE_URL}from'../utils/constants';import{getToken,clearToken}from'../utils/storage';class ApiClient{constructor(baseURL){this.baseURL=baseURL;}async request(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const url=\"\".concat(this.baseURL).concat(endpoint);const token=getToken();const config=_objectSpread({headers:_objectSpread({'Content-Type':'application/json'},options.headers)},options);if(token){config.headers.Authorization=\"Bearer \".concat(token);}try{const response=await fetch(url,config);if(response.status===401){clearToken();window.location.href='/login';throw new Error('Authentication required');}if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||\"HTTP error! status: \".concat(response.status));}return await response.json();}catch(error){console.error('API request failed:',error);throw error;}}get(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.request(endpoint,_objectSpread(_objectSpread({},options),{},{method:'GET'}));}post(endpoint){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.request(endpoint,_objectSpread(_objectSpread({},options),{},{method:'POST',body:JSON.stringify(data)}));}put(endpoint){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.request(endpoint,_objectSpread(_objectSpread({},options),{},{method:'PUT',body:JSON.stringify(data)}));}patch(endpoint){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.request(endpoint,_objectSpread(_objectSpread({},options),{},{method:'PATCH',body:JSON.stringify(data)}));}delete(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.request(endpoint,_objectSpread(_objectSpread({},options),{},{method:'DELETE'}));}}export const apiClient=new ApiClient(API_BASE_URL);","map":{"version":3,"names":["API_ENDPOINTS","API_BASE_URL","getToken","clearToken","ApiClient","constructor","baseURL","request","endpoint","options","arguments","length","undefined","url","concat","token","config","_objectSpread","headers","Authorization","response","fetch","status","window","location","href","Error","ok","errorData","json","catch","message","error","console","get","method","post","data","body","JSON","stringify","put","patch","delete","apiClient"],"sources":["F:/png71/my-app/src/api/index.js"],"sourcesContent":["import { API_ENDPOINTS,API_BASE_URL } from '../utils/constants';\r\nimport { getToken, clearToken } from '../utils/storage';\r\n\r\nclass ApiClient {\r\n  constructor(baseURL) {\r\n    this.baseURL = baseURL;\r\n  }\r\n\r\n  async request(endpoint, options = {}) {\r\n    const url = `${this.baseURL}${endpoint}`;\r\n    const token = getToken();\r\n    \r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...options.headers,\r\n      },\r\n      ...options,\r\n    };\r\n\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, config);\r\n      \r\n      if (response.status === 401) {\r\n        clearToken();\r\n        window.location.href = '/login';\r\n        throw new Error('Authentication required');\r\n      }\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('API request failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  get(endpoint, options = {}) {\r\n    return this.request(endpoint, { ...options, method: 'GET' });\r\n  }\r\n\r\n  post(endpoint, data = {}, options = {}) {\r\n    return this.request(endpoint, {\r\n      ...options,\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  put(endpoint, data = {}, options = {}) {\r\n    return this.request(endpoint, {\r\n      ...options,\r\n      method: 'PUT',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  patch(endpoint, data = {}, options = {}) {\r\n    return this.request(endpoint, {\r\n      ...options,\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  delete(endpoint, options = {}) {\r\n    return this.request(endpoint, { ...options, method: 'DELETE' });\r\n  }\r\n}\r\n\r\nexport const apiClient = new ApiClient(API_BASE_URL);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}