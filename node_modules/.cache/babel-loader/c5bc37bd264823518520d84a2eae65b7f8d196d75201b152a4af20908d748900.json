{"ast":null,"code":"// // hooks/useGameData.js\n// import { useState, useEffect } from 'react';\n// import { useApi } from './useApi';\n// export const useGameData = (initialUrl = \"http://localhost:5000/api/games/New-table-Games-with-Providers\", category_name, selectedProvider) => {\n//   const [data, setData] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n//   const [active, setActive] = useState(null);\n//   const [activeIndex, setActiveIndex] = useState(0);\n//   const [gameData, setGameData] = useState([]);\n//   const { apiCall } = useApi();\n//   const fetchGameData = async (url = initialUrl) => {\n//     setLoading(true);\n//     setError(null);\n//     try {\n//       const response = await fetch(url, {\n//         method: \"GET\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//       });\n//       if (!response.ok) {\n//         throw new Error(`HTTP error! status: ${response.status}`);\n//       }\n//       const result = await response.json();\n//       console.log(\"Game categories result:\", result);\n//       setData(result.data || []);\n//       // Set initial active state\n//       if (result.data && result.data.length > 0) {\n//         setActive(result.data[0]?.category);\n//         setActiveIndex(0);\n//       }\n//       return result;\n//     } catch (err) {\n//       console.error(\"Error fetching game data:\", err);\n//       setError(\"গেম ডেটা লোড করতে সমস্যা হচ্ছে\");\n//       throw err;\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const fetchGames = async (category_name) => {\n//     if (!category_name) return;\n//     try {\n//       // setLoading(true);\n//       const result = await apiCall(\n//         \"/New-Games-with-Providers-By-Category\",\n//         \"GET\",\n//         {\n//           category_name: category_name,\n//         }\n//       );\n//       console.log(\"GET GamesProvidersPage result:\", result);\n//       setGameData(result.data || []);\n//     } catch (error) {\n//       console.error(\"Error fetching games:\", error);\n//     // } finally {\n//     //   setLoading(false);\n//     }\n//   };\n//   useEffect(() => {\n//     fetchGameData();\n//   }, []);\n//   // Fetch games when active category changes\n//   useEffect(() => {\n//     if (active && active.category_name) {\n//       fetchGames(active.category_name || \"\");\n//     }\n//   }, [active, data]);\n//   console.log(data)\n//   // Set initial active category when data loads\n//   useEffect(() => {\n//     if (data.length > 0 && !active) {\n//       setActive(data[0]);\n//       setActiveIndex(0);\n//     }\n//   }, [data, active]);\n//   const handleItemClick = (index, item, onClose) => {\n//     setActiveIndex(index);\n//     setActive(item?.category || item);\n//     // if (onClose ) {\n//     //   onClose();\n//     // }\n//   };\n//   const refetch = () => {\n//     return fetchGameData();\n//   };\n//   const setActiveCategory = (categoryName) => {\n//     const categoryIndex = data.findIndex(\n//       item => item?.category?.name === categoryName\n//     );\n//     if (categoryIndex !== -1) {\n//       setActiveIndex(categoryIndex);\n//       setActive(data[categoryIndex]?.category);\n//     }\n//   };\n//   return {\n//     data,\n//     loading,\n//     error,\n//     active,\n//     activeIndex,\n//     handleItemClick,\n//     setActiveCategory,\n//     refetch,\n//     setActive,\n//     setActiveIndex,\n//     gameData\n//   };\n// };\n// hooks/useGameData.js\nimport{useState,useEffect}from'react';import{useApi}from'./useApi';export const useGameData=function(){let initialUrl=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"http://localhost:5000/api/games/New-table-Games-with-Providers\";let category_name=arguments.length>1?arguments[1]:undefined;let selectedProvider=arguments.length>2?arguments[2]:undefined;const[data,setData]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[active,setActive]=useState(null);const[activeIndex,setActiveIndex]=useState(0);const[gameData,setGameData]=useState([]);const{apiCall}=useApi();const fetchGameData=async function(){let url=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialUrl;setLoading(true);setError(null);try{const response=await fetch(url,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const result=await response.json();console.log(\"Game categories result:\",result);setData(result.data||[]);// Set initial active state\nif(result.data&&result.data.length>0){var _result$data$;setActive((_result$data$=result.data[0])===null||_result$data$===void 0?void 0:_result$data$.category);setActiveIndex(0);}return result;}catch(err){console.error(\"Error fetching game data:\",err);setError(\"গেম ডেটা লোড করতে সমস্যা হচ্ছে\");throw err;}finally{setLoading(false);}};const fetchGames=async category_name=>{if(!category_name)return;try{const result=await apiCall(\"/New-Games-with-Providers-By-Category\",\"GET\",{category_name:category_name});console.log(\"GET GamesProvidersPage result:\",result);setGameData(result.data||[]);}catch(error){console.error(\"Error fetching games:\",error);}};useEffect(()=>{fetchGameData();},[]);// Fetch games when active category changes\nuseEffect(()=>{if(active&&active.category_name){fetchGames(active.category_name||\"\");}},[active,data]);// Set initial active category when data loads\nconst handleItemClick=function(index,item,onClose){let shouldClose=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;setActiveIndex(index);setActive((item===null||item===void 0?void 0:item.category)||item);// Only call onClose if provided and shouldClose is true\nif(onClose&&shouldClose){onClose();}};const refetch=()=>{return fetchGameData();};const setActiveCategory=categoryName=>{const categoryIndex=data.findIndex(item=>{var _item$category;return(item===null||item===void 0?void 0:(_item$category=item.category)===null||_item$category===void 0?void 0:_item$category.name)===categoryName;});if(categoryIndex!==-1){var _data$categoryIndex;setActiveIndex(categoryIndex);setActive((_data$categoryIndex=data[categoryIndex])===null||_data$categoryIndex===void 0?void 0:_data$categoryIndex.category);}};return{data,loading,setLoading,error,active,activeIndex,handleItemClick,setActiveCategory,refetch,setActive,setActiveIndex,gameData};};","map":{"version":3,"names":["useState","useEffect","useApi","useGameData","initialUrl","arguments","length","undefined","category_name","selectedProvider","data","setData","loading","setLoading","error","setError","active","setActive","activeIndex","setActiveIndex","gameData","setGameData","apiCall","fetchGameData","url","response","fetch","method","headers","ok","Error","concat","status","result","json","console","log","_result$data$","category","err","fetchGames","handleItemClick","index","item","onClose","shouldClose","refetch","setActiveCategory","categoryName","categoryIndex","findIndex","_item$category","name","_data$categoryIndex"],"sources":["F:/png71/my-app/src/hooks/useGameData.js"],"sourcesContent":["\r\n// // hooks/useGameData.js\r\n// import { useState, useEffect } from 'react';\r\n// import { useApi } from './useApi';\r\n\r\n// export const useGameData = (initialUrl = \"http://localhost:5000/api/games/New-table-Games-with-Providers\", category_name, selectedProvider) => {\r\n//   const [data, setData] = useState([]);\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [error, setError] = useState(null);\r\n//   const [active, setActive] = useState(null);\r\n//   const [activeIndex, setActiveIndex] = useState(0);\r\n//   const [gameData, setGameData] = useState([]);\r\n  \r\n//   const { apiCall } = useApi();\r\n\r\n//   const fetchGameData = async (url = initialUrl) => {\r\n//     setLoading(true);\r\n//     setError(null);\r\n\r\n//     try {\r\n//       const response = await fetch(url, {\r\n//         method: \"GET\",\r\n//         headers: {\r\n//           \"Content-Type\": \"application/json\",\r\n//         },\r\n//       });\r\n\r\n//       if (!response.ok) {\r\n//         throw new Error(`HTTP error! status: ${response.status}`);\r\n//       }\r\n\r\n//       const result = await response.json();\r\n//       console.log(\"Game categories result:\", result);\r\n//       setData(result.data || []);\r\n\r\n//       // Set initial active state\r\n//       if (result.data && result.data.length > 0) {\r\n//         setActive(result.data[0]?.category);\r\n//         setActiveIndex(0);\r\n//       }\r\n\r\n//       return result;\r\n//     } catch (err) {\r\n//       console.error(\"Error fetching game data:\", err);\r\n//       setError(\"গেম ডেটা লোড করতে সমস্যা হচ্ছে\");\r\n//       throw err;\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   const fetchGames = async (category_name) => {\r\n//     if (!category_name) return;\r\n    \r\n//     try {\r\n//       // setLoading(true);\r\n//       const result = await apiCall(\r\n//         \"/New-Games-with-Providers-By-Category\",\r\n//         \"GET\",\r\n//         {\r\n//           category_name: category_name,\r\n//         }\r\n//       );\r\n\r\n//       console.log(\"GET GamesProvidersPage result:\", result);\r\n//       setGameData(result.data || []);\r\n//     } catch (error) {\r\n//       console.error(\"Error fetching games:\", error);\r\n//     // } finally {\r\n//     //   setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchGameData();\r\n//   }, []);\r\n\r\n//   // Fetch games when active category changes\r\n//   useEffect(() => {\r\n//     if (active && active.category_name) {\r\n//       fetchGames(active.category_name || \"\");\r\n//     }\r\n//   }, [active, data]);\r\n\r\n//   console.log(data)\r\n//   // Set initial active category when data loads\r\n//   useEffect(() => {\r\n//     if (data.length > 0 && !active) {\r\n//       setActive(data[0]);\r\n//       setActiveIndex(0);\r\n//     }\r\n//   }, [data, active]);\r\n\r\n//   const handleItemClick = (index, item, onClose) => {\r\n//     setActiveIndex(index);\r\n//     setActive(item?.category || item);\r\n//     // if (onClose ) {\r\n//     //   onClose();\r\n//     // }\r\n//   };\r\n\r\n//   const refetch = () => {\r\n//     return fetchGameData();\r\n//   };\r\n\r\n//   const setActiveCategory = (categoryName) => {\r\n//     const categoryIndex = data.findIndex(\r\n//       item => item?.category?.name === categoryName\r\n//     );\r\n//     if (categoryIndex !== -1) {\r\n//       setActiveIndex(categoryIndex);\r\n//       setActive(data[categoryIndex]?.category);\r\n//     }\r\n//   };\r\n\r\n//   return {\r\n//     data,\r\n//     loading,\r\n//     error,\r\n//     active,\r\n//     activeIndex,\r\n//     handleItemClick,\r\n//     setActiveCategory,\r\n//     refetch,\r\n//     setActive,\r\n//     setActiveIndex,\r\n//     gameData\r\n//   };\r\n// };\r\n\r\n\r\n\r\n// hooks/useGameData.js\r\nimport { useState, useEffect } from 'react';\r\nimport { useApi } from './useApi';\r\n\r\nexport const useGameData = (initialUrl = \"http://localhost:5000/api/games/New-table-Games-with-Providers\", category_name, selectedProvider) => {\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [active, setActive] = useState(null);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [gameData, setGameData] = useState([]);\r\n  \r\n  const { apiCall } = useApi();\r\n\r\n  const fetchGameData = async (url = initialUrl) => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await fetch(url, {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      console.log(\"Game categories result:\", result);\r\n      setData(result.data || []);\r\n\r\n      // Set initial active state\r\n      if (result.data && result.data.length > 0) {\r\n        setActive(result.data[0]?.category);\r\n        setActiveIndex(0);\r\n      }\r\n\r\n      return result;\r\n    } catch (err) {\r\n      console.error(\"Error fetching game data:\", err);\r\n      setError(\"গেম ডেটা লোড করতে সমস্যা হচ্ছে\");\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchGames = async (category_name) => {\r\n    if (!category_name) return;\r\n    \r\n    try {\r\n      const result = await apiCall(\r\n        \"/New-Games-with-Providers-By-Category\",\r\n        \"GET\",\r\n        {\r\n          category_name: category_name,\r\n        }\r\n      );\r\n\r\n      console.log(\"GET GamesProvidersPage result:\", result);\r\n      setGameData(result.data || []);\r\n    } catch (error) {\r\n      console.error(\"Error fetching games:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchGameData();\r\n  }, []);\r\n\r\n  // Fetch games when active category changes\r\n  useEffect(() => {\r\n    if (active && active.category_name) {\r\n      fetchGames(active.category_name || \"\");\r\n    }\r\n  }, [active, data]);\r\n\r\n  // Set initial active category when data loads\r\n \r\n\r\n  const handleItemClick = (index, item, onClose, shouldClose = true) => {\r\n    setActiveIndex(index);\r\n    setActive(item?.category || item);\r\n    \r\n    // Only call onClose if provided and shouldClose is true\r\n    if (onClose && shouldClose) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const refetch = () => {\r\n    return fetchGameData();\r\n  };\r\n\r\n  const setActiveCategory = (categoryName) => {\r\n    const categoryIndex = data.findIndex(\r\n      item => item?.category?.name === categoryName\r\n    );\r\n    if (categoryIndex !== -1) {\r\n      setActiveIndex(categoryIndex);\r\n      setActive(data[categoryIndex]?.category);\r\n    }\r\n  };\r\n\r\n  return {\r\n    data,\r\n    loading,\r\n    setLoading,\r\n    error,\r\n    active,\r\n    activeIndex,\r\n    handleItemClick,\r\n    setActiveCategory,\r\n    refetch,\r\n    setActive,\r\n    setActiveIndex,\r\n    gameData\r\n  };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}