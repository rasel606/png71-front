{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default()=>{const images=[\"https://i.ibb.co.com/DChN5S5/img-1.jpg\",\"https://i.ibb.co.com/VqtD7Tq/img-2.jpg\",\"https://i.ibb.co.com/7Kkr63k/img-3.jpg\",\"https://i.ibb.co.com/LQB0VW7/img-4.jpg\",\"https://i.ibb.co.com/gdQVX9d/image-5.jpg\"];const marqueeRef=useRef(null);const intervalRef=useRef(null);const positionRef=useRef(0);const itemWidthRef=useRef(0);const[activeIndex,setActiveIndex]=useState(0);useEffect(()=>{const marquee=marqueeRef.current;if(!marquee)return;const wrapper=marquee.querySelector('.item-wrap');const firstItem=wrapper.querySelector('.item');if(!firstItem)return;itemWidthRef.current=firstItem.offsetWidth;const moveSlider=()=>{positionRef.current-=itemWidthRef.current;if(Math.abs(positionRef.current)>=itemWidthRef.current*images.length){positionRef.current=0;wrapper.style.transition='none';wrapper.style.transform=\"translateX(\".concat(positionRef.current,\"px)\");void wrapper.offsetWidth;// Force reflow\n}wrapper.style.transition='transform 1s ease-in-out';wrapper.style.transform=\"translateX(\".concat(positionRef.current,\"px)\");// Calculate new active index\nconst step=Math.abs(positionRef.current)/itemWidthRef.current;const newIndex=Math.floor(step)%images.length;setActiveIndex(newIndex);};intervalRef.current=setInterval(moveSlider,5000);const handleResize=()=>{itemWidthRef.current=firstItem.offsetWidth;};window.addEventListener('resize',handleResize);return()=>{clearInterval(intervalRef.current);window.removeEventListener('resize',handleResize);};},[images.length]);return/*#__PURE__*/_jsx(\"div\",{className:\"banner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"banner-v1\",ref:marqueeRef,children:/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-wrap style-init mcd siblings\",\"data-auto\":\"true\",\"data-delay\":\"500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cdk-drag item-drag\",children:/*#__PURE__*/_jsx(\"div\",{className:\"item-left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"item-wrap\",children:[...images,...images].map((url,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"item-pic\",style:{backgroundImage:\"url(\\\"\".concat(url,\"\\\")\")}})},idx))})})}),/*#__PURE__*/_jsx(\"ul\",{className:\"dot-group style-bar\",children:images.map((_,idx)=>/*#__PURE__*/_jsx(\"li\",{className:\"\".concat(idx===activeIndex?\"active\":\"\"),children:/*#__PURE__*/_jsx(\"span\",{className:\"dot-progress\",style:{animationDuration:\"5000ms\"}},activeIndex)},idx))})]})})});};","map":{"version":3,"names":["React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","images","marqueeRef","intervalRef","positionRef","itemWidthRef","activeIndex","setActiveIndex","marquee","current","wrapper","querySelector","firstItem","offsetWidth","moveSlider","Math","abs","length","style","transition","transform","concat","step","newIndex","floor","setInterval","handleResize","window","addEventListener","clearInterval","removeEventListener","className","children","ref","map","url","idx","backgroundImage","_","animationDuration"],"sources":["F:/png71/my-app/src/components/common/Carousel.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\n\r\nexport default () => {\r\n  const images = [\r\n    \"https://i.ibb.co.com/DChN5S5/img-1.jpg\",\r\n    \"https://i.ibb.co.com/VqtD7Tq/img-2.jpg\",\r\n    \"https://i.ibb.co.com/7Kkr63k/img-3.jpg\",\r\n    \"https://i.ibb.co.com/LQB0VW7/img-4.jpg\",\r\n    \"https://i.ibb.co.com/gdQVX9d/image-5.jpg\",\r\n  ];\r\n\r\n  const marqueeRef = useRef(null);\r\n  const intervalRef = useRef(null);\r\n  const positionRef = useRef(0);\r\n  const itemWidthRef = useRef(0);\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const marquee = marqueeRef.current;\r\n    if (!marquee) return;\r\n\r\n    const wrapper = marquee.querySelector('.item-wrap');\r\n    const firstItem = wrapper.querySelector('.item');\r\n    if (!firstItem) return;\r\n\r\n    itemWidthRef.current = firstItem.offsetWidth;\r\n    \r\n    const moveSlider = () => {\r\n      positionRef.current -= itemWidthRef.current;\r\n      \r\n      if (Math.abs(positionRef.current) >= itemWidthRef.current * images.length) {\r\n        positionRef.current = 0;\r\n        wrapper.style.transition = 'none';\r\n        wrapper.style.transform = `translateX(${positionRef.current}px)`;\r\n        void wrapper.offsetWidth; // Force reflow\r\n      }\r\n      \r\n      wrapper.style.transition = 'transform 1s ease-in-out';\r\n      wrapper.style.transform = `translateX(${positionRef.current}px)`;\r\n      \r\n      // Calculate new active index\r\n      const step = Math.abs(positionRef.current) / itemWidthRef.current;\r\n      const newIndex = Math.floor(step) % images.length;\r\n      setActiveIndex(newIndex);\r\n    };\r\n\r\n    intervalRef.current = setInterval(moveSlider, 5000);\r\n\r\n    const handleResize = () => {\r\n      itemWidthRef.current = firstItem.offsetWidth;\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => {\r\n      clearInterval(intervalRef.current);\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, [images.length]);\r\n\r\n  return (\r\n    <div className=\"banner\">\r\n      <div className=\"banner-v1\" ref={marqueeRef}>\r\n        <div className=\"carousel-wrap style-init mcd siblings\" data-auto=\"true\" data-delay=\"500\">\r\n          <div className=\"cdk-drag item-drag\">\r\n            <div className=\"item-left\">\r\n              <div className=\"item-wrap\">\r\n                {[...images, ...images].map((url, idx) => (\r\n                  <div key={idx} className=\"item\">\r\n                    <div\r\n                      className=\"item-pic\"\r\n                      style={{ backgroundImage: `url(\"${url}\")` }}\r\n                    />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <ul className=\"dot-group style-bar\">\r\n            {images.map((_, idx) => (\r\n              <li key={idx} className={`${idx === activeIndex ? \"active\" : \"\"}`}>\r\n                {/* Key forces animation restart when active */}\r\n                <span \r\n                  key={activeIndex} \r\n                  className={\"dot-progress\"}\r\n                  style={{ animationDuration: \"5000ms\" }}\r\n                ></span>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}