{"ast":null,"code":"var _jsxFileName = \"F:\\\\png71\\\\my-app\\\\src\\\\components\\\\member\\\\BettingRecord\\\\BettingRecords.jsx\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect, useCallback } from \"react\";\n// import { useNavigate, useLocation } from \"react-router-dom\";\n// import { useApi } from \"../../../hooks/useApi\";\n\n// const BettingRecords = ({ showError, showSuccess, showWarning, showInfo }) => {\n//   const navigate = useNavigate();\n//   const location = useLocation();\n//   const [activeTab, setActiveTab] = useState(\"settled\");\n//   const [showFilter, setShowFilter] = useState(false);\n//   const [loading, setLoading] = useState(false);\n//   const [loadingMore, setLoadingMore] = useState(false);\n//   const [hasMore, setHasMore] = useState(true);\n//   const { apiCall } = useApi();\n\n//   // Filter states\n//   const [filters, setFilters] = useState({\n//     startDate: \"\",\n//     endDate: \"\",\n//     platforms: [],\n//     gameTypes: [],\n//     settlement: \"settled\",\n//     page: 1,\n//     limit: 2000,\n//   });\n\n//   const [availableFilters, setAvailableFilters] = useState({\n//     platforms: [],\n//     gameTypes: [],\n//     dateRange: { minDate: null, maxDate: null },\n//   });\n\n//   const [bettingData, setBettingData] = useState([]);\n//   const [pagination, setPagination] = useState({\n//     page: 1,\n//     limit: 2000,\n//     total: 0,\n//     pages: 0,\n//   });\n\n//   // Date options for quick selection\n//   const dateOptions = [\n//     {\n//       value: \"today\",\n//       label: \"Today\",\n//       getDate: () => {\n//         const today = new Date();\n//         return {\n//           startDate: today.toISOString().split(\"T\")[0],\n//           endDate: today.toISOString().split(\"T\")[0],\n//         };\n//       },\n//     },\n//     {\n//       value: \"yesterday\",\n//       label: \"Yesterday\",\n//       getDate: () => {\n//         const yesterday = new Date();\n//         yesterday.setDate(yesterday.getDate() - 1);\n//         return {\n//           startDate: yesterday.toISOString().split(\"T\")[0],\n//           endDate: yesterday.toISOString().split(\"T\")[0],\n//         };\n//       },\n//     },\n//     {\n//       value: \"last7days\",\n//       label: \"Last 7 days\",\n//       getDate: () => {\n//         const endDate = new Date();\n//         const startDate = new Date();\n//         startDate.setDate(startDate.getDate() - 6);\n//         return {\n//           startDate: startDate.toISOString().split(\"T\")[0],\n//           endDate: endDate.toISOString().split(\"T\")[0],\n//         };\n//       },\n//     },\n//     {\n//       value: \"last30days\",\n//       label: \"Last 30 days\",\n//       getDate: () => {\n//         const endDate = new Date();\n//         const startDate = new Date();\n//         startDate.setDate(startDate.getDate() - 29);\n//         return {\n//           startDate: startDate.toISOString().split(\"T\")[0],\n//           endDate: endDate.toISOString().split(\"T\")[0],\n//         };\n//       },\n//     },\n//   ];\n\n//   const [selectedDateOption, setSelectedDateOption] = useState(\"last7days\");\n\n//   // Load available filters\n//   const loadAvailableFilters = useCallback(async () => {\n//     try {\n//       const response = await apiCall(\"/game-list-filters\", \"GET\");\n//       console.log(\"GamesProvidersPage category result\", response.data);\n\n//       if (response.success) {\n//         setAvailableFilters(response.data || {});\n//       }\n//     } catch (error) {\n//       console.error(\"Error loading filters:\", error);\n//       showError(\"Failed to load filters\");\n//     }\n//   }, [apiCall, showError]);\n\n//   // Load betting records\n//   const loadBettingRecords = useCallback(\n//     async (page = 1, isLoadMore = false) => {\n//       try {\n//         if (isLoadMore) {\n//           setLoadingMore(true);\n//         } else {\n//           setLoading(true);\n//         }\n\n//         const params = {\n//           page,\n//           limit: filters.limit,\n//           settlement: activeTab,\n//         };\n\n//         // Add platform and game type filters if they exist\n//         if (filters.platforms.length > 0) {\n//           params.platforms = filters.platforms;\n//         }\n\n//         if (filters.gameTypes.length > 0) {\n//           params.gameTypes = filters.gameTypes;\n//         }\n\n//         // Apply date filter based on selected option\n//         if (selectedDateOption && dateOptions.find((opt) => opt.value === selectedDateOption)) {\n//           const dateOption = dateOptions.find(\n//             (opt) => opt.value === selectedDateOption\n//           );\n//           const dates = dateOption.getDate();\n//           params.startDate = dates.startDate;\n//           params.endDate = dates.endDate;\n//         }\n\n//         console.log(\"Loading betting records with params:\", params);\n\n//         // Use the correct endpoint for betting records\n//         const response = await apiCall(\"/betting-history\", \"GET\", params);\n\n//         if (response.success) {\n//           if (isLoadMore) {\n//             setBettingData((prev) => [...prev, ...response.data]);\n//           } else {\n//             setBettingData(response.data || []);\n//           }\n\n//           setPagination(response.pagination || {\n//             page: page,\n//             limit: filters.limit,\n//             total: response.data?.length || 0,\n//             pages: Math.ceil((response.data?.length || 0) / filters.limit)\n//           });\n\n//           setHasMore(page < (response.pagination?.pages || 1));\n\n//           if (isLoadMore) {\n//             showSuccess(`Loaded ${response.data?.length || 0} more records`);\n//           }\n//         } else {\n//           showError(response.message || \"Failed to load betting records\");\n//         }\n//       } catch (error) {\n//         console.error(\"Error loading betting records:\", error);\n//         showError(\"Failed to load betting records\");\n//       } finally {\n//         setLoading(false);\n//         setLoadingMore(false);\n//       }\n//     },\n//     [filters, activeTab, selectedDateOption, showError, showSuccess, apiCall, dateOptions]\n//   );\n\n//   // Initial load\n//   useEffect(() => {\n//     loadAvailableFilters();\n//     loadBettingRecords(1, false);\n//   }, []);\n\n//   // Reload when filters or tab change\n//   useEffect(() => {\n//     setBettingData([]);\n//     setPagination(prev => ({ ...prev, page: 1 }));\n//     loadBettingRecords(1, false);\n//   }, [filters, activeTab, selectedDateOption]);\n\n//   // Handle tab change\n//   const handleTabChange = (tab) => {\n//     setActiveTab(tab);\n//     setFilters((prev) => ({ ...prev, settlement: tab, page: 1 }));\n//   };\n\n//   // Handle filter toggle\n//   const toggleFilter = () => {\n//     setShowFilter(!showFilter);\n//   };\n\n//   // Handle platform selection\n//   const handlePlatformToggle = (platform) => {\n//     setFilters((prev) => ({\n//       ...prev,\n//       platforms: prev.platforms.includes(platform)\n//         ? prev.platforms.filter((p) => p !== platform)\n//         : [...prev.platforms, platform],\n//       page: 1,\n//     }));\n//   };\n\n//   // Handle game type selection\n//   const handleGameTypeToggle = (gameType) => {\n//     setFilters((prev) => ({\n//       ...prev,\n//       gameTypes: prev.gameTypes.includes(gameType)\n//         ? prev.gameTypes.filter((g) => g !== gameType)\n//         : [...prev.gameTypes, gameType],\n//       page: 1,\n//     }));\n//   };\n\n//   // Handle date option change\n//   const handleDateOptionChange = (optionValue) => {\n//     setSelectedDateOption(optionValue);\n//     setFilters((prev) => ({ ...prev, page: 1 }));\n//   };\n\n//   // Select all platforms\n//   const selectAllPlatforms = () => {\n//     setFilters(prev => ({\n//       ...prev,\n//       platforms: [...availableFilters.platforms],\n//       page: 1\n//     }));\n//   };\n\n//   // Clear all platforms\n//   const clearAllPlatforms = () => {\n//     setFilters(prev => ({\n//       ...prev,\n//       platforms: [],\n//       page: 1\n//     }));\n//   };\n\n//   // Select all game types\n//   const selectAllGameTypes = () => {\n//     setFilters(prev => ({\n//       ...prev,\n//       gameTypes: [...availableFilters.gameTypes],\n//       page: 1\n//     }));\n//   };\n\n//   // Clear all game types\n//   const clearAllGameTypes = () => {\n//     setFilters(prev => ({\n//       ...prev,\n//       gameTypes: [],\n//       page: 1\n//     }));\n//   };\n\n//   // Apply filters and close filter panel\n//   const applyFilters = () => {\n//     setShowFilter(false);\n//     setBettingData([]);\n//     loadBettingRecords(1, false);\n//     showInfo(\"Filters applied successfully\");\n//   };\n\n//   // Reset filters\n//   const resetFilters = () => {\n//     setFilters({\n//       startDate: \"\",\n//       endDate: \"\",\n//       platforms: [],\n//       gameTypes: [],\n//       settlement: activeTab,\n//       page: 1,\n//       limit: 200,\n//     });\n//     setSelectedDateOption(\"last7days\");\n//     showInfo(\"Filters reset to default\");\n//   };\n\n//   // Close filter panel\n//   const closeFilter = () => {\n//     setShowFilter(false);\n//   };\n\n//   // Load more records\n//   const loadMore = () => {\n//     if (!loadingMore && hasMore) {\n//       const nextPage = pagination.page + 1;\n//       setFilters(prev => ({ ...prev, page: nextPage }));\n//       loadBettingRecords(nextPage, true);\n//     }\n//   };\n\n//   // Format currency\n//   const formatCurrency = (amount) => {\n//     return new Intl.NumberFormat(\"en-US\", {\n//       minimumFractionDigits: 2,\n//       maximumFractionDigits: 2,\n//     }).format(amount || 0);\n//   };\n\n//   // Format date\n//   const formatDate = (dateString) => {\n//     try {\n//       const date = new Date(dateString);\n//       return date.toLocaleDateString(\"en-US\", {\n//         year: \"numeric\",\n//         month: \"short\",\n//         day: \"numeric\",\n//       });\n//     } catch (error) {\n//       return \"Invalid Date\";\n//     }\n//   };\n\n//   // Calculate total stats for a date group\n//   const calculateDateGroupStats = (records) => {\n//     const totals = records.reduce((acc, record) => ({\n//       turnover: acc.turnover + (record.turnover || 0),\n//       profitLoss: acc.profitLoss + (record.profitLoss || 0),\n//       bet: acc.bet + (record.bet || 0),\n//       payout: acc.payout + (record.payout || 0),\n//     }), { turnover: 0, profitLoss: 0, bet: 0, payout: 0 });\n\n//     return totals;\n//   };\n\n//   return (\n//     <div className=\"member-content betting-records-page fixed-tab player-content\">\n//       {/* Header Section */}\n//       <div className=\"page-header\">\n//         <div className=\"header-content\">\n//           <h1 className=\"page-title\">Betting Records</h1>\n//           <div className=\"header-stats\">\n//             <div className=\"stat-item\">\n//               <span className=\"stat-label\">Total Records:</span>\n//               <span className=\"stat-value\">{pagination.total}</span>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n\n//       {/* Tab Navigation */}\n//       <div className=\"tab-btn-section\">\n//         <div className=\"tab-btn tab-btn-page\">\n//           <div\n//             className=\"line\"\n//             style={{\n//               width: \"calc(50%)\",\n//               transform: `translate(${\n//                 activeTab === \"settled\" ? \"0%\" : \"100%\"\n//               }, 0px)`,\n//             }}\n//           ></div>\n//           <div\n//             className={`btn ${activeTab === \"settled\" ? \"active\" : \"\"}`}\n//             onClick={() => handleTabChange(\"settled\")}\n//           >\n//             <div className=\"text\">Settled</div>\n//           </div>\n//           <div\n//             className={`btn ${activeTab === \"unsettled\" ? \"active\" : \"\"}`}\n//             onClick={() => handleTabChange(\"unsettled\")}\n//           >\n//             <div className=\"text\">Unsettled</div>\n//           </div>\n//         </div>\n//       </div>\n\n//       {/* Filter Tab */}\n//       <div className=\"tab filter-tab\">\n//         <ul className=\"item-ani\">\n//           {dateOptions.map((option) => (\n//             <li\n//               key={option.value}\n//               className={selectedDateOption === option.value ? \"active\" : \"\"}\n//               onClick={() => handleDateOptionChange(option.value)}\n//             >\n//               {option.label}\n//             </li>\n//           ))}\n//         </ul>\n//         <div className=\"btn search-btn\" onClick={toggleFilter}>\n//           <span\n//             className=\"item-icon\"\n//             style={{\n//               maskImage: 'url(\"/assets/images/icon-set/index-theme-icon/games-filter-icon.svg\")',\n//               WebkitMaskImage: 'url(\"/assets/images/icon-set/index-theme-icon/games-filter-icon.svg\")',\n//             }}\n//           ></span>\n//           <span className=\"filter-badge\">\n//             {filters.platforms.length + filters.gameTypes.length > 0 ? \n//               filters.platforms.length + filters.gameTypes.length : ''}\n//           </span>\n//         </div>\n//       </div>\n\n//       {/* Filter Panel */}\n//       {showFilter && (\n//         <div className=\"searchpage active\">\n//           <div className=\"search-top-info\">\n//             <div className=\"back\" onClick={closeFilter}>\n//               <span\n//                 className=\"item-icon\"\n//                 style={{\n//                   maskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\n//                   WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\n//                 }}\n//               ></span>\n//               Back\n//             </div>\n//             <input\n//               type=\"text\"\n//               placeholder=\"Betting Record Filter\"\n//               disabled\n//               style={{ backgroundImage: 'url(\"\")' }}\n//             />\n//           </div>\n\n//           <div className=\"searchpage-main\">\n//             {/* Platforms Filter */}\n//             <div className=\"search-checkbox-group check-group\">\n//               <div className=\"filter-header\">\n//                 <h2>Platform ({filters.platforms.length} selected)</h2>\n//                 <div className=\"filter-actions\">\n//                   <button className=\"filter-action-btn\" onClick={selectAllPlatforms}>\n//                     Select All\n//                   </button>\n//                   <button className=\"filter-action-btn\" onClick={clearAllPlatforms}>\n//                     Clear All\n//                   </button>\n//                 </div>\n//               </div>\n//               <ul>\n//                 {availableFilters.platforms && availableFilters.platforms.map((platform) => (\n//                   <li key={platform}>\n//                     <input\n//                       type=\"checkbox\"\n//                       id={`platform-${platform}`}\n//                       checked={filters.platforms.includes(platform)}\n//                       onChange={() => handlePlatformToggle(platform)}\n//                     />\n//                     <label htmlFor={`platform-${platform}`}>{platform}</label>\n//                   </li>\n//                 ))}\n//               </ul>\n//             </div>\n\n//             {/* Game Types Filter */}\n//             <div className=\"search-checkbox-group check-group\">\n//               <div className=\"filter-header\">\n//                 <h2>Game Type ({filters.gameTypes.length} selected)</h2>\n//                 <div className=\"filter-actions\">\n//                   <button className=\"filter-action-btn\" onClick={selectAllGameTypes}>\n//                     Select All\n//                   </button>\n//                   <button className=\"filter-action-btn\" onClick={clearAllGameTypes}>\n//                     Clear All\n//                   </button>\n//                 </div>\n//               </div>\n//               <ul>\n//                 {availableFilters.gameTypes && availableFilters.gameTypes.map((gameType) => (\n//                   <li key={gameType}>\n//                     <input\n//                       type=\"checkbox\"\n//                       id={`gameType-${gameType}`}\n//                       checked={filters.gameTypes.includes(gameType)}\n//                       onChange={() => handleGameTypeToggle(gameType)}\n//                     />\n//                     <label htmlFor={`gameType-${gameType}`}>{gameType}</label>\n//                   </li>\n//                 ))}\n//               </ul>\n//             </div>\n\n//             {/* Date Filter */}\n//             <div className=\"search-checkbox-group check-group\">\n//               <h2>Date Range</h2>\n//               <ul>\n//                 {dateOptions.map((option) => (\n//                   <li key={option.value}>\n//                     <input\n//                       type=\"radio\"\n//                       id={`date-${option.value}`}\n//                       name=\"dateOption\"\n//                       checked={selectedDateOption === option.value}\n//                       onChange={() => handleDateOptionChange(option.value)}\n//                     />\n//                     <label htmlFor={`date-${option.value}`}>{option.label}</label>\n//                   </li>\n//                 ))}\n//               </ul>\n//             </div>\n//           </div>\n\n//           <div className=\"searchpage-bar active\">\n//             <button className=\"button button-secondary\" onClick={resetFilters}>\n//               Reset\n//             </button>\n//             <button className=\"button\" onClick={applyFilters}>\n//               Confirm\n//             </button>\n//           </div>\n//         </div>\n//       )}\n\n//       {/* Betting Records Content */}\n//       {!showFilter && (\n//         <div className=\"inner-wrap\">\n//           <div className=\"inner-box\">\n//             {/* Loading State */}\n//             {loading && (\n//               <div className=\"loading-state\">\n//                 <div className=\"loading-spinner\"></div>\n//                 <div className=\"loading-text\">Loading betting records...</div>\n//               </div>\n//             )}\n\n//             {/* Active Filters Summary */}\n//             {!loading && (filters.platforms.length > 0 || filters.gameTypes.length > 0) && (\n//               <div className=\"active-filters\">\n//                 <div className=\"filters-summary\">\n//                   <span className=\"filters-label\">Active Filters:</span>\n//                   {filters.platforms.length > 0 && (\n//                     <div className=\"filter-tag\">\n//                       Platforms: {filters.platforms.join(\", \")}\n//                       <button \n//                         className=\"filter-tag-remove\"\n//                         onClick={() => setFilters(prev => ({ ...prev, platforms: [] }))}\n//                       >\n//                         ×\n//                       </button>\n//                     </div>\n//                   )}\n//                   {filters.gameTypes.length > 0 && (\n//                     <div className=\"filter-tag\">\n//                       Game Types: {filters.gameTypes.join(\", \")}\n//                       <button \n//                         className=\"filter-tag-remove\"\n//                         onClick={() => setFilters(prev => ({ ...prev, gameTypes: [] }))}\n//                       >\n//                         ×\n//                       </button>\n//                     </div>\n//                   )}\n//                 </div>\n//               </div>\n//             )}\n\n//             {/* Table Header */}\n//             {!loading && bettingData.length > 0 && (\n//               <div className=\"record-item item-title\">\n//                 <div className=\"item platform\">Platform</div>\n//                 <div className=\"item type\">Game Type</div>\n//                 <div className=\"item bet\">Turnover</div>\n//                 <div className=\"item profit\">Profit/Loss</div>\n//               </div>\n//             )}\n\n//             {/* Betting Records List */}\n//             {!loading && bettingData.length > 0 && (\n//               <div className=\"list list-betting-record\">\n//                 {bettingData.map((dayData, index) => {\n//                   const dayStats = calculateDateGroupStats(dayData.records || []);\n//                   return (\n//                     <div key={index} className=\"date-group\">\n//                       <div className=\"date-title\">\n//                         <div className=\"date\">\n//                           <span\n//                             className=\"item-icon\"\n//                             style={{\n//                               maskImage: 'url(\"/assets/images/icon-set/icon-calendar-type02.svg\")',\n//                               WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-calendar-type02.svg\")',\n//                             }}\n//                           ></span>\n//                           {formatDate(dayData.date)}\n//                         </div>\n//                         <div className=\"date-stats\">\n//                           <span className=\"stat\">Turnover: {formatCurrency(dayStats.turnover)}</span>\n//                           <span className={`stat ${dayStats.profitLoss >= 0 ? 'positive' : 'negative'}`}>\n//                             P/L: {formatCurrency(dayStats.profitLoss)}\n//                           </span>\n//                         </div>\n//                         <div className=\"time-zone\">GMT+8</div>\n//                       </div>\n\n//                       <div className=\"list-content\">\n//                         {dayData.records && dayData.records.map((record, recordIndex) => (\n//                           <div\n//                             key={record._id || recordIndex}\n//                             className=\"record-item\"\n//                             onClick={() => showInfo(`Platform: ${record.platform} | Game: ${record.gameType}`)}\n//                           >\n//                             <div className=\"item platform\">\n//                               <span className=\"platform-name\">{record.platform}</span>\n//                             </div>\n//                             <div className=\"item type\">\n//                               <span className=\"game-type\">{record.gameType}</span>\n//                             </div>\n//                             <div className=\"item bet\">\n//                               {formatCurrency(record.turnover)}\n//                             </div>\n//                             <div\n//                               className={`item profit ${\n//                                 record.profitLoss >= 0 ? \"positive\" : \"negative\"\n//                               }`}\n//                             >\n//                               {record.profitLoss >= 0 ? \"+\" : \"-\"}\n//                               {formatCurrency(Math.abs(record.profitLoss))}\n//                             </div>\n//                             <div\n//                               className=\"list-arrow\"\n//                               style={{\n//                                 maskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\n//                                 WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\n//                               }}\n//                             ></div>\n//                           </div>\n//                         ))}\n//                       </div>\n//                     </div>\n//                   );\n//                 })}\n//               </div>\n//             )}\n\n//             {/* Load More Button */}\n//             {!loading && hasMore && bettingData.length > 0 && (\n//               <div className=\"load-more-section\">\n//                 <button\n//                   className=\"load-more-btn\"\n//                   onClick={loadMore}\n//                   disabled={loadingMore}\n//                 >\n//                   {loadingMore ? (\n//                     <>\n//                       <div className=\"loading-spinner-small\"></div>\n//                       Loading...\n//                     </>\n//                   ) : (\n//                     `Load More (${pagination.total - bettingData.length} remaining)`\n//                   )}\n//                 </button>\n//               </div>\n//             )}\n\n//             {/* Loading More State */}\n//             {loadingMore && (\n//               <div className=\"loading-more-state\">\n//                 <div className=\"loading-spinner-small\"></div>\n//                 <div className=\"loading-text\">Loading more records...</div>\n//               </div>\n//             )}\n\n//             {/* Empty State */}\n//             {!loading && bettingData.length === 0 && (\n//               <div className=\"empty-state\">\n//                 <div className=\"empty-icon\">\n//                   <span\n//                     className=\"item-icon\"\n//                     style={{\n//                       maskImage: 'url(\"/assets/images/icon-set/icon-empty-betting.svg\")',\n//                       WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-empty-betting.svg\")',\n//                     }}\n//                   ></span>\n//                 </div>\n//                 <div className=\"empty-text\">No betting records found</div>\n//                 <div className=\"empty-subtext\">\n//                   {activeTab === \"settled\"\n//                     ? \"You have no settled bets for the selected period.\"\n//                     : \"You have no unsettled bets for the selected period.\"}\n//                 </div>\n//                 <button\n//                   className=\"button button-outline\"\n//                   onClick={resetFilters}\n//                 >\n//                   Clear Filters\n//                 </button>\n//               </div>\n//             )}\n\n//             {/* Error State */}\n//             {!loading && bettingData.length === 0 && (\n//               <div className=\"empty-state\">\n//                 <div className=\"empty-icon\">\n//                   <span\n//                     className=\"item-icon\"\n//                     style={{\n//                       maskImage: 'url(\"/assets/images/icon-set/icon-error.svg\")',\n//                       WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-error.svg\")',\n//                     }}\n//                   ></span>\n//                 </div>\n//                 <div className=\"empty-text\">\n//                   No records match your filters\n//                 </div>\n//                 <button\n//                   className=\"button button-outline\"\n//                   onClick={resetFilters}\n//                 >\n//                   Clear Filters\n//                 </button>\n//               </div>\n//             )}\n//           </div>\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default BettingRecords;\n\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { useApi } from \"../../../hooks/useApi\";\nimport { useGameData } from \"../../../hooks/useGameData\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BettingRecords = ({\n  showError,\n  showSuccess,\n  showWarning,\n  showInfo\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [activeTab, setActiveTab] = useState(\"settled\");\n  const [showFilter, setShowFilter] = useState(false);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  const {\n    apiCall\n  } = useApi();\n\n  // Properly use game data hook\n  const {\n    data: gameCategories,\n    loading: gameDataLoading,\n    active: activeCategory,\n    activeIndex,\n    handleItemClick\n  } = useGameData();\n\n  // Filter states\n  const [filters, setFilters] = useState({\n    startDate: \"\",\n    endDate: \"\",\n    platforms: [],\n    gameTypes: [],\n    settlement: \"settled\",\n    page: 1,\n    limit: 20\n  });\n  const [availableFilters, setAvailableFilters] = useState({\n    platforms: [],\n    gameTypes: [],\n    dateRange: {\n      minDate: null,\n      maxDate: null\n    }\n  });\n  const [bettingData, setBettingData] = useState([]);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 20,\n    total: 0,\n    pages: 0\n  });\n\n  // Date options for quick selection\n  const dateOptions = [{\n    value: \"today\",\n    label: \"Today\"\n  }, {\n    value: \"yesterday\",\n    label: \"Yesterday\"\n  }, {\n    value: \"last7days\",\n    label: \"Last 7 days\"\n  }, {\n    value: \"last30days\",\n    label: \"Last 30 days\"\n  }];\n  const [selectedDateOption, setSelectedDateOption] = useState(\"last7days\");\n\n  // Extract providers from active category\n  const extractProviders = useCallback(() => {\n    if (!(activeCategory !== null && activeCategory !== void 0 && activeCategory.uniqueProviders)) return [];\n    return activeCategory.uniqueProviders.map(provider => ({\n      providercode: provider.providercode || provider.id || provider.code || \"\",\n      company: provider.company || provider.name || provider.provider || \"\",\n      image_url: provider.image_url || provider.logo || \"\"\n    })).filter(provider => provider.providercode); // Filter out invalid providers\n  }, [activeCategory]);\n\n  // Extract game types from all categories\n  const extractGameTypes = useCallback(() => {\n    if (!Array.isArray(gameCategories)) return [];\n    return gameCategories.map(category => ({\n      key: category.category_key || category.id || category.category_name || \"\",\n      name: category.category_name || category.name || \"\",\n      image: category.image || \"\"\n    })).filter(gameType => gameType.key); // Filter out invalid game types\n  }, [gameCategories]);\n\n  // Load available filters using gameData\n  const loadAvailableFilters = useCallback(() => {\n    const platforms = extractProviders();\n    const gameTypes = extractGameTypes();\n    console.log(\"Loaded platforms:\", platforms);\n    console.log(\"Loaded gameTypes:\", gameTypes);\n    setAvailableFilters(prev => ({\n      ...prev,\n      platforms,\n      gameTypes\n    }));\n  }, [extractProviders, extractGameTypes]);\n\n  // Build API params from filters\n  const buildApiParams = useCallback((overrides = {}) => {\n    var _overrides$page, _overrides$limit;\n    const payload = {\n      page: (_overrides$page = overrides.page) !== null && _overrides$page !== void 0 ? _overrides$page : filters.page,\n      limit: (_overrides$limit = overrides.limit) !== null && _overrides$limit !== void 0 ? _overrides$limit : filters.limit,\n      settlement: activeTab,\n      dateOption: selectedDateOption\n    };\n\n    // Convert platform objects to provider codes\n    if (filters.platforms.length > 0) {\n      payload.platforms = filters.platforms.map(platform => typeof platform === 'object' ? platform.providercode : platform);\n    }\n\n    // Convert game type objects to keys\n    if (filters.gameTypes.length > 0) {\n      payload.gameTypes = filters.gameTypes.map(gameType => typeof gameType === 'object' ? gameType.key : gameType);\n    }\n\n    // Date range\n    if (filters.startDate) payload.startDate = filters.startDate;\n    if (filters.endDate) payload.endDate = filters.endDate;\n    return payload;\n  }, [filters, activeTab, selectedDateOption]);\n\n  // Load betting records\n  const loadBettingRecords = useCallback(async (page = 1, isLoadMore = false) => {\n    try {\n      if (isLoadMore) {\n        setLoadingMore(true);\n      } else {\n        // Use gameDataLoading state from useGameData\n      }\n      const params = buildApiParams({\n        page\n      });\n      console.log(\"Loading betting records with params:\", params);\n      try {\n        // Call the backend API\n        const response = await apiCall(\"/api/member/betting-records-simple\", \"GET\", params);\n        if (response.success) {\n          var _response$data, _response$data2, _response$pagination;\n          if (isLoadMore) {\n            setBettingData(prev => [...prev, ...response.data]);\n          } else {\n            setBettingData(response.data || []);\n          }\n          setPagination(response.pagination || {\n            page: page,\n            limit: filters.limit,\n            total: ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.length) || 0,\n            pages: Math.ceil((((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.length) || 0) / filters.limit)\n          });\n          setHasMore(page < (((_response$pagination = response.pagination) === null || _response$pagination === void 0 ? void 0 : _response$pagination.pages) || 1));\n        } else {\n          throw new Error(response.message || \"Failed to load betting records\");\n        }\n      } catch (apiError) {\n        console.log(\"API call failed, using sample data:\", apiError);\n        // Use sample data if API fails\n        const sampleData = generateSampleData();\n        if (isLoadMore) {\n          setBettingData(prev => [...prev, ...sampleData]);\n        } else {\n          setBettingData(sampleData);\n        }\n        setPagination({\n          page: page,\n          limit: filters.limit,\n          total: sampleData.length * 3,\n          pages: 3\n        });\n        setHasMore(page < 3);\n        if (isLoadMore) {\n          showSuccess(`Loaded ${sampleData.length} more records`);\n        }\n      }\n    } catch (error) {\n      console.error(\"Error loading betting records:\", error);\n      showError(\"Failed to load betting records\");\n    } finally {\n      setLoadingMore(false);\n    }\n  }, [buildApiParams, filters.limit, showError, showSuccess, apiCall]);\n\n  // Generate sample data for demonstration\n  const generateSampleData = () => {\n    const platforms = availableFilters.platforms.length > 0 ? availableFilters.platforms : [{\n      providercode: \"JILI\",\n      company: \"JILI\"\n    }, {\n      providercode: \"PNG\",\n      company: \"PNG\"\n    }, {\n      providercode: \"JDB\",\n      company: \"JDB\"\n    }];\n    const gameTypes = availableFilters.gameTypes.length > 0 ? availableFilters.gameTypes : [{\n      key: \"slot\",\n      name: \"Slot\"\n    }, {\n      key: \"live\",\n      name: \"Live Casino\"\n    }, {\n      key: \"sports\",\n      name: \"Sports\"\n    }];\n    return [{\n      date: new Date().toISOString().split('T')[0],\n      records: Array.from({\n        length: 6\n      }, (_, i) => ({\n        _id: `sample-${i}-${Date.now()}`,\n        platform: platforms[i % platforms.length].company,\n        gameType: gameTypes[i % gameTypes.length].name,\n        turnover: Math.random() * 1000 + 100,\n        profitLoss: (Math.random() - 0.5) * 200,\n        bet: Math.random() * 500 + 50,\n        payout: Math.random() * 600 + 40,\n        start_time: new Date()\n      }))\n    }];\n  };\n\n  // Close modal\n  const closeModal = () => {\n    var _location$state;\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.background) {\n      navigate(-1);\n    } else {\n      navigate(\"/\");\n    }\n  };\n\n  // Initial load\n  useEffect(() => {\n    loadAvailableFilters();\n  }, [loadAvailableFilters]);\n\n  // Reload when filters or tab change\n  useEffect(() => {\n    setBettingData([]);\n    setPagination(prev => ({\n      ...prev,\n      page: 1\n    }));\n    loadBettingRecords(1, false);\n  }, [filters, activeTab, selectedDateOption, loadBettingRecords]);\n\n  // Handle tab change\n  const handleTabChange = tab => {\n    setActiveTab(tab);\n    setFilters(prev => ({\n      ...prev,\n      settlement: tab,\n      page: 1\n    }));\n  };\n\n  // Handle filter toggle\n  const toggleFilter = () => {\n    setShowFilter(!showFilter);\n  };\n\n  // Handle platform selection\n  const handlePlatformToggle = platform => {\n    setFilters(prev => ({\n      ...prev,\n      platforms: prev.platforms.some(p => (typeof p === 'object' ? p.providercode : p) === (typeof platform === 'object' ? platform.providercode : platform)) ? prev.platforms.filter(p => (typeof p === 'object' ? p.providercode : p) !== (typeof platform === 'object' ? platform.providercode : platform)) : [...prev.platforms, platform],\n      page: 1\n    }));\n  };\n\n  // Handle game type selection\n  const handleGameTypeToggle = gameType => {\n    setFilters(prev => ({\n      ...prev,\n      gameTypes: prev.gameTypes.some(g => (typeof g === 'object' ? g.key : g) === (typeof gameType === 'object' ? gameType.key : gameType)) ? prev.gameTypes.filter(g => (typeof g === 'object' ? g.key : g) !== (typeof gameType === 'object' ? gameType.key : gameType)) : [...prev.gameTypes, gameType],\n      page: 1\n    }));\n  };\n\n  // Handle date option change\n  const handleDateOptionChange = optionValue => {\n    setSelectedDateOption(optionValue);\n    setFilters(prev => ({\n      ...prev,\n      page: 1\n    }));\n  };\n\n  // Select all platforms\n  const selectAllPlatforms = () => {\n    setFilters(prev => ({\n      ...prev,\n      platforms: [...availableFilters.platforms],\n      page: 1\n    }));\n  };\n\n  // Clear all platforms\n  const clearAllPlatforms = () => {\n    setFilters(prev => ({\n      ...prev,\n      platforms: [],\n      page: 1\n    }));\n  };\n\n  // Select all game types\n  const selectAllGameTypes = () => {\n    setFilters(prev => ({\n      ...prev,\n      gameTypes: [...availableFilters.gameTypes],\n      page: 1\n    }));\n  };\n\n  // Clear all game types\n  const clearAllGameTypes = () => {\n    setFilters(prev => ({\n      ...prev,\n      gameTypes: [],\n      page: 1\n    }));\n  };\n\n  // Apply filters and close filter panel\n  const applyFilters = () => {\n    setShowFilter(false);\n    setBettingData([]);\n    loadBettingRecords(1, false);\n    showInfo(\"Filters applied successfully\");\n  };\n\n  // Reset filters\n  const resetFilters = () => {\n    setFilters({\n      startDate: \"\",\n      endDate: \"\",\n      platforms: [],\n      gameTypes: [],\n      settlement: activeTab,\n      page: 1,\n      limit: 20\n    });\n    setSelectedDateOption(\"last7days\");\n    showInfo(\"Filters reset to default\");\n  };\n\n  // Close filter panel\n  const closeFilter = () => {\n    setShowFilter(false);\n  };\n\n  // Load more records\n  const loadMore = () => {\n    if (!loadingMore && hasMore) {\n      const nextPage = pagination.page + 1;\n      setFilters(prev => ({\n        ...prev,\n        page: nextPage\n      }));\n      loadBettingRecords(nextPage, true);\n    }\n  };\n\n  // Format currency\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat(\"en-US\", {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(amount || 0);\n  };\n\n  // Format date\n  const formatDate = dateString => {\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric'\n      });\n    } catch (error) {\n      return \"Invalid Date\";\n    }\n  };\n\n  // Check if platform is selected\n  const isPlatformSelected = platform => {\n    return filters.platforms.some(p => (typeof p === 'object' ? p.providercode : p) === (typeof platform === 'object' ? platform.providercode : platform));\n  };\n\n  // Check if game type is selected\n  const isGameTypeSelected = gameType => {\n    return filters.gameTypes.some(g => (typeof g === 'object' ? g.key : g) === (typeof gameType === 'object' ? gameType.key : gameType));\n  };\n  const loading = gameDataLoading && !loadingMore;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content mcd-style fixed-tab player-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-btn-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-btn tab-btn-page\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"line\",\n          style: {\n            width: \"calc(50%)\",\n            transform: `translate(${activeTab === \"settled\" ? \"0%\" : \"100%\"}, 0px)`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `btn ${activeTab === \"settled\" ? \"active\" : \"\"}`,\n          onClick: () => handleTabChange(\"settled\"),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text\",\n            children: \"Settled\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1153,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `btn ${activeTab === \"unsettled\" ? \"active\" : \"\"}`,\n          onClick: () => handleTabChange(\"unsettled\"),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text\",\n            children: \"Unsettled\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1159,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1141,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-content tab-content-page\",\n      children: [!showFilter && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab filter-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"item-ani\",\n          children: dateOptions.map(option => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: selectedDateOption === option.value ? \"active\" : \"\",\n            onClick: () => handleDateOptionChange(option.value),\n            children: option.label\n          }, option.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1171,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn search-btn\",\n          onClick: toggleFilter,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"item-icon\",\n            style: {\n              maskImage: 'url(\"/assets/images/icon-set/index-theme-icon/games-filter-icon.svg\")',\n              WebkitMaskImage: 'url(\"/assets/images/icon-set/index-theme-icon/games-filter-icon.svg\")'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1181,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1180,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1168,\n        columnNumber: 11\n      }, this), showFilter && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"searchpage active\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-top-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"back\",\n            onClick: closeFilter,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"item-icon\",\n              style: {\n                maskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\n                WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1197,\n              columnNumber: 17\n            }, this), \"Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1196,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Betting Record Filter\",\n            disabled: true,\n            style: {\n              backgroundImage: 'url(\"\")'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchpage-main\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-checkbox-group check-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"Game Type (\", filters.gameTypes.length, \" selected)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1217,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"filter-action-btn\",\n                onClick: selectAllGameTypes,\n                children: \"Select All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1219,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"filter-action-btn\",\n                onClick: clearAllGameTypes,\n                children: \"Clear All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1222,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1218,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: availableFilters.gameTypes.map(gameType => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: `gameType-${gameType.key}`,\n                  checked: isGameTypeSelected(gameType),\n                  onChange: () => handleGameTypeToggle(gameType)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1229,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: `gameType-${gameType.key}`,\n                  children: gameType.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1235,\n                  columnNumber: 23\n                }, this)]\n              }, gameType.key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1228,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1226,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-checkbox-group check-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"Platform (\", filters.platforms.length, \" selected)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"filter-action-btn\",\n                onClick: selectAllPlatforms,\n                children: \"Select All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1247,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"filter-action-btn\",\n                onClick: clearAllPlatforms,\n                children: \"Clear All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1250,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: availableFilters.platforms.map(platform => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  id: `platform-${platform.providercode}`,\n                  checked: isPlatformSelected(platform),\n                  onChange: () => handlePlatformToggle(platform)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1257,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: `platform-${platform.providercode}`,\n                  children: platform.company\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1263,\n                  columnNumber: 23\n                }, this)]\n              }, platform.providercode, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1256,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1254,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1244,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-checkbox-group check-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1273,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: dateOptions.map(option => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  id: `date-${option.value}`,\n                  name: \"dateOption\",\n                  checked: selectedDateOption === option.value,\n                  onChange: () => handleDateOptionChange(option.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1277,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: `date-${option.value}`,\n                  children: option.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1284,\n                  columnNumber: 23\n                }, this)]\n              }, option.value, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1276,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1274,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1272,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1214,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchpage-bar active\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button button-secondary\",\n            onClick: resetFilters,\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1292,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button\",\n            onClick: applyFilters,\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1295,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1291,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1194,\n        columnNumber: 11\n      }, this), !showFilter && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inner-wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inner-box\",\n          children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1309,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-text\",\n              children: \"Loading betting records...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1310,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1308,\n            columnNumber: 17\n          }, this), !loading && bettingData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"record-item item-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item platform\",\n              children: \"Platform\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1317,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item type\",\n              children: \"Game Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1318,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item bet\",\n              children: \"Turnover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1319,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item profit\",\n              children: \"Profit/Loss\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1320,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1316,\n            columnNumber: 17\n          }, this), !loading && bettingData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"list list-betting-record\",\n            children: bettingData.map((dayData, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"date-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"date-title\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"date\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"item-icon\",\n                    style: {\n                      maskImage: 'url(\"/assets/images/icon-set/icon-calendar-type02.svg\")',\n                      WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-calendar-type02.svg\")'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1331,\n                    columnNumber: 27\n                  }, this), formatDate(dayData.date)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1330,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"time-zone\",\n                  children: \"GMT+8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1340,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1329,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"list-content\",\n                children: dayData.records && dayData.records.map((record, recordIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"record-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"item platform\",\n                    children: record.platform\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1349,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"item type\",\n                    children: record.gameType\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1350,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"item bet\",\n                    children: formatCurrency(record.turnover)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1351,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `item profit ${record.profitLoss >= 0 ? \"positive\" : \"negative\"}`,\n                    children: [record.profitLoss >= 0 ? \"+\" : \"-\", formatCurrency(Math.abs(record.profitLoss))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1354,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"list-arrow\",\n                    style: {\n                      maskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\n                      WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1360,\n                    columnNumber: 29\n                  }, this)]\n                }, record._id || recordIndex, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1345,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1343,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1328,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1326,\n            columnNumber: 17\n          }, this), !loading && hasMore && bettingData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"load-more-section\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"load-more-btn\",\n              onClick: loadMore,\n              disabled: loadingMore,\n              children: loadingMore ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"loading-spinner-small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1385,\n                  columnNumber: 25\n                }, this), \"Loading...\"]\n              }, void 0, true) : \"Load More Records\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1378,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1377,\n            columnNumber: 17\n          }, this), !loading && bettingData.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-icon\",\n                style: {\n                  maskImage: 'url(\"/assets/images/icon-set/icon-empty-betting.svg\")',\n                  WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-empty-betting.svg\")'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1399,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1398,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-text\",\n              children: \"No betting records found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1407,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-subtext\",\n              children: activeTab === \"settled\" ? \"You have no settled bets for the selected period.\" : \"You have no unsettled bets for the selected period.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1408,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1397,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1305,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1304,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1164,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1137,\n    columnNumber: 5\n  }, this);\n};\n_s(BettingRecords, \"Dx1WcYv5IYNP4xetPhzqaphxiV4=\", false, function () {\n  return [useNavigate, useLocation, useApi, useGameData];\n});\n_c = BettingRecords;\nexport default BettingRecords;\nvar _c;\n$RefreshReg$(_c, \"BettingRecords\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useLocation","useApi","useGameData","jsxDEV","_jsxDEV","Fragment","_Fragment","BettingRecords","showError","showSuccess","showWarning","showInfo","_s","navigate","location","activeTab","setActiveTab","showFilter","setShowFilter","loadingMore","setLoadingMore","hasMore","setHasMore","apiCall","data","gameCategories","loading","gameDataLoading","active","activeCategory","activeIndex","handleItemClick","filters","setFilters","startDate","endDate","platforms","gameTypes","settlement","page","limit","availableFilters","setAvailableFilters","dateRange","minDate","maxDate","bettingData","setBettingData","pagination","setPagination","total","pages","dateOptions","value","label","selectedDateOption","setSelectedDateOption","extractProviders","uniqueProviders","map","provider","providercode","id","code","company","name","image_url","logo","filter","extractGameTypes","Array","isArray","category","key","category_key","category_name","image","gameType","loadAvailableFilters","console","log","prev","buildApiParams","overrides","_overrides$page","_overrides$limit","payload","dateOption","length","platform","loadBettingRecords","isLoadMore","params","response","success","_response$data","_response$data2","_response$pagination","Math","ceil","Error","message","apiError","sampleData","generateSampleData","error","date","Date","toISOString","split","records","from","_","i","_id","now","turnover","random","profitLoss","bet","payout","start_time","closeModal","_location$state","state","background","handleTabChange","tab","toggleFilter","handlePlatformToggle","some","p","handleGameTypeToggle","g","handleDateOptionChange","optionValue","selectAllPlatforms","clearAllPlatforms","selectAllGameTypes","clearAllGameTypes","applyFilters","resetFilters","closeFilter","loadMore","nextPage","formatCurrency","amount","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","formatDate","dateString","toLocaleDateString","year","month","day","isPlatformSelected","isGameTypeSelected","className","children","style","width","transform","fileName","_jsxFileName","lineNumber","columnNumber","onClick","option","maskImage","WebkitMaskImage","type","placeholder","disabled","backgroundImage","checked","onChange","htmlFor","dayData","index","record","recordIndex","abs","_c","$RefreshReg$"],"sources":["F:/png71/my-app/src/components/member/BettingRecord/BettingRecords.jsx"],"sourcesContent":["// import React, { useState, useEffect, useCallback } from \"react\";\r\n// import { useNavigate, useLocation } from \"react-router-dom\";\r\n// import { useApi } from \"../../../hooks/useApi\";\r\n\r\n\r\n// const BettingRecords = ({ showError, showSuccess, showWarning, showInfo }) => {\r\n//   const navigate = useNavigate();\r\n//   const location = useLocation();\r\n//   const [activeTab, setActiveTab] = useState(\"settled\");\r\n//   const [showFilter, setShowFilter] = useState(false);\r\n//   const [loading, setLoading] = useState(false);\r\n//   const [loadingMore, setLoadingMore] = useState(false);\r\n//   const [hasMore, setHasMore] = useState(true);\r\n//   const { apiCall } = useApi();\r\n  \r\n//   // Filter states\r\n//   const [filters, setFilters] = useState({\r\n//     startDate: \"\",\r\n//     endDate: \"\",\r\n//     platforms: [],\r\n//     gameTypes: [],\r\n//     settlement: \"settled\",\r\n//     page: 1,\r\n//     limit: 2000,\r\n//   });\r\n\r\n//   const [availableFilters, setAvailableFilters] = useState({\r\n//     platforms: [],\r\n//     gameTypes: [],\r\n//     dateRange: { minDate: null, maxDate: null },\r\n//   });\r\n\r\n//   const [bettingData, setBettingData] = useState([]);\r\n//   const [pagination, setPagination] = useState({\r\n//     page: 1,\r\n//     limit: 2000,\r\n//     total: 0,\r\n//     pages: 0,\r\n//   });\r\n\r\n//   // Date options for quick selection\r\n//   const dateOptions = [\r\n//     {\r\n//       value: \"today\",\r\n//       label: \"Today\",\r\n//       getDate: () => {\r\n//         const today = new Date();\r\n//         return {\r\n//           startDate: today.toISOString().split(\"T\")[0],\r\n//           endDate: today.toISOString().split(\"T\")[0],\r\n//         };\r\n//       },\r\n//     },\r\n//     {\r\n//       value: \"yesterday\",\r\n//       label: \"Yesterday\",\r\n//       getDate: () => {\r\n//         const yesterday = new Date();\r\n//         yesterday.setDate(yesterday.getDate() - 1);\r\n//         return {\r\n//           startDate: yesterday.toISOString().split(\"T\")[0],\r\n//           endDate: yesterday.toISOString().split(\"T\")[0],\r\n//         };\r\n//       },\r\n//     },\r\n//     {\r\n//       value: \"last7days\",\r\n//       label: \"Last 7 days\",\r\n//       getDate: () => {\r\n//         const endDate = new Date();\r\n//         const startDate = new Date();\r\n//         startDate.setDate(startDate.getDate() - 6);\r\n//         return {\r\n//           startDate: startDate.toISOString().split(\"T\")[0],\r\n//           endDate: endDate.toISOString().split(\"T\")[0],\r\n//         };\r\n//       },\r\n//     },\r\n//     {\r\n//       value: \"last30days\",\r\n//       label: \"Last 30 days\",\r\n//       getDate: () => {\r\n//         const endDate = new Date();\r\n//         const startDate = new Date();\r\n//         startDate.setDate(startDate.getDate() - 29);\r\n//         return {\r\n//           startDate: startDate.toISOString().split(\"T\")[0],\r\n//           endDate: endDate.toISOString().split(\"T\")[0],\r\n//         };\r\n//       },\r\n//     },\r\n//   ];\r\n\r\n//   const [selectedDateOption, setSelectedDateOption] = useState(\"last7days\");\r\n\r\n//   // Load available filters\r\n//   const loadAvailableFilters = useCallback(async () => {\r\n//     try {\r\n//       const response = await apiCall(\"/game-list-filters\", \"GET\");\r\n//       console.log(\"GamesProvidersPage category result\", response.data);\r\n\r\n//       if (response.success) {\r\n//         setAvailableFilters(response.data || {});\r\n//       }\r\n//     } catch (error) {\r\n//       console.error(\"Error loading filters:\", error);\r\n//       showError(\"Failed to load filters\");\r\n//     }\r\n//   }, [apiCall, showError]);\r\n\r\n//   // Load betting records\r\n//   const loadBettingRecords = useCallback(\r\n//     async (page = 1, isLoadMore = false) => {\r\n//       try {\r\n//         if (isLoadMore) {\r\n//           setLoadingMore(true);\r\n//         } else {\r\n//           setLoading(true);\r\n//         }\r\n\r\n//         const params = {\r\n//           page,\r\n//           limit: filters.limit,\r\n//           settlement: activeTab,\r\n//         };\r\n\r\n//         // Add platform and game type filters if they exist\r\n//         if (filters.platforms.length > 0) {\r\n//           params.platforms = filters.platforms;\r\n//         }\r\n\r\n//         if (filters.gameTypes.length > 0) {\r\n//           params.gameTypes = filters.gameTypes;\r\n//         }\r\n\r\n//         // Apply date filter based on selected option\r\n//         if (selectedDateOption && dateOptions.find((opt) => opt.value === selectedDateOption)) {\r\n//           const dateOption = dateOptions.find(\r\n//             (opt) => opt.value === selectedDateOption\r\n//           );\r\n//           const dates = dateOption.getDate();\r\n//           params.startDate = dates.startDate;\r\n//           params.endDate = dates.endDate;\r\n//         }\r\n\r\n//         console.log(\"Loading betting records with params:\", params);\r\n\r\n//         // Use the correct endpoint for betting records\r\n//         const response = await apiCall(\"/betting-history\", \"GET\", params);\r\n\r\n//         if (response.success) {\r\n//           if (isLoadMore) {\r\n//             setBettingData((prev) => [...prev, ...response.data]);\r\n//           } else {\r\n//             setBettingData(response.data || []);\r\n//           }\r\n          \r\n//           setPagination(response.pagination || {\r\n//             page: page,\r\n//             limit: filters.limit,\r\n//             total: response.data?.length || 0,\r\n//             pages: Math.ceil((response.data?.length || 0) / filters.limit)\r\n//           });\r\n          \r\n//           setHasMore(page < (response.pagination?.pages || 1));\r\n          \r\n//           if (isLoadMore) {\r\n//             showSuccess(`Loaded ${response.data?.length || 0} more records`);\r\n//           }\r\n//         } else {\r\n//           showError(response.message || \"Failed to load betting records\");\r\n//         }\r\n//       } catch (error) {\r\n//         console.error(\"Error loading betting records:\", error);\r\n//         showError(\"Failed to load betting records\");\r\n//       } finally {\r\n//         setLoading(false);\r\n//         setLoadingMore(false);\r\n//       }\r\n//     },\r\n//     [filters, activeTab, selectedDateOption, showError, showSuccess, apiCall, dateOptions]\r\n//   );\r\n\r\n//   // Initial load\r\n//   useEffect(() => {\r\n//     loadAvailableFilters();\r\n//     loadBettingRecords(1, false);\r\n//   }, []);\r\n\r\n//   // Reload when filters or tab change\r\n//   useEffect(() => {\r\n//     setBettingData([]);\r\n//     setPagination(prev => ({ ...prev, page: 1 }));\r\n//     loadBettingRecords(1, false);\r\n//   }, [filters, activeTab, selectedDateOption]);\r\n\r\n//   // Handle tab change\r\n//   const handleTabChange = (tab) => {\r\n//     setActiveTab(tab);\r\n//     setFilters((prev) => ({ ...prev, settlement: tab, page: 1 }));\r\n//   };\r\n\r\n//   // Handle filter toggle\r\n//   const toggleFilter = () => {\r\n//     setShowFilter(!showFilter);\r\n//   };\r\n\r\n//   // Handle platform selection\r\n//   const handlePlatformToggle = (platform) => {\r\n//     setFilters((prev) => ({\r\n//       ...prev,\r\n//       platforms: prev.platforms.includes(platform)\r\n//         ? prev.platforms.filter((p) => p !== platform)\r\n//         : [...prev.platforms, platform],\r\n//       page: 1,\r\n//     }));\r\n//   };\r\n\r\n//   // Handle game type selection\r\n//   const handleGameTypeToggle = (gameType) => {\r\n//     setFilters((prev) => ({\r\n//       ...prev,\r\n//       gameTypes: prev.gameTypes.includes(gameType)\r\n//         ? prev.gameTypes.filter((g) => g !== gameType)\r\n//         : [...prev.gameTypes, gameType],\r\n//       page: 1,\r\n//     }));\r\n//   };\r\n\r\n//   // Handle date option change\r\n//   const handleDateOptionChange = (optionValue) => {\r\n//     setSelectedDateOption(optionValue);\r\n//     setFilters((prev) => ({ ...prev, page: 1 }));\r\n//   };\r\n\r\n//   // Select all platforms\r\n//   const selectAllPlatforms = () => {\r\n//     setFilters(prev => ({\r\n//       ...prev,\r\n//       platforms: [...availableFilters.platforms],\r\n//       page: 1\r\n//     }));\r\n//   };\r\n\r\n//   // Clear all platforms\r\n//   const clearAllPlatforms = () => {\r\n//     setFilters(prev => ({\r\n//       ...prev,\r\n//       platforms: [],\r\n//       page: 1\r\n//     }));\r\n//   };\r\n\r\n//   // Select all game types\r\n//   const selectAllGameTypes = () => {\r\n//     setFilters(prev => ({\r\n//       ...prev,\r\n//       gameTypes: [...availableFilters.gameTypes],\r\n//       page: 1\r\n//     }));\r\n//   };\r\n\r\n//   // Clear all game types\r\n//   const clearAllGameTypes = () => {\r\n//     setFilters(prev => ({\r\n//       ...prev,\r\n//       gameTypes: [],\r\n//       page: 1\r\n//     }));\r\n//   };\r\n\r\n//   // Apply filters and close filter panel\r\n//   const applyFilters = () => {\r\n//     setShowFilter(false);\r\n//     setBettingData([]);\r\n//     loadBettingRecords(1, false);\r\n//     showInfo(\"Filters applied successfully\");\r\n//   };\r\n\r\n//   // Reset filters\r\n//   const resetFilters = () => {\r\n//     setFilters({\r\n//       startDate: \"\",\r\n//       endDate: \"\",\r\n//       platforms: [],\r\n//       gameTypes: [],\r\n//       settlement: activeTab,\r\n//       page: 1,\r\n//       limit: 200,\r\n//     });\r\n//     setSelectedDateOption(\"last7days\");\r\n//     showInfo(\"Filters reset to default\");\r\n//   };\r\n\r\n//   // Close filter panel\r\n//   const closeFilter = () => {\r\n//     setShowFilter(false);\r\n//   };\r\n\r\n//   // Load more records\r\n//   const loadMore = () => {\r\n//     if (!loadingMore && hasMore) {\r\n//       const nextPage = pagination.page + 1;\r\n//       setFilters(prev => ({ ...prev, page: nextPage }));\r\n//       loadBettingRecords(nextPage, true);\r\n//     }\r\n//   };\r\n\r\n//   // Format currency\r\n//   const formatCurrency = (amount) => {\r\n//     return new Intl.NumberFormat(\"en-US\", {\r\n//       minimumFractionDigits: 2,\r\n//       maximumFractionDigits: 2,\r\n//     }).format(amount || 0);\r\n//   };\r\n\r\n//   // Format date\r\n//   const formatDate = (dateString) => {\r\n//     try {\r\n//       const date = new Date(dateString);\r\n//       return date.toLocaleDateString(\"en-US\", {\r\n//         year: \"numeric\",\r\n//         month: \"short\",\r\n//         day: \"numeric\",\r\n//       });\r\n//     } catch (error) {\r\n//       return \"Invalid Date\";\r\n//     }\r\n//   };\r\n\r\n//   // Calculate total stats for a date group\r\n//   const calculateDateGroupStats = (records) => {\r\n//     const totals = records.reduce((acc, record) => ({\r\n//       turnover: acc.turnover + (record.turnover || 0),\r\n//       profitLoss: acc.profitLoss + (record.profitLoss || 0),\r\n//       bet: acc.bet + (record.bet || 0),\r\n//       payout: acc.payout + (record.payout || 0),\r\n//     }), { turnover: 0, profitLoss: 0, bet: 0, payout: 0 });\r\n\r\n//     return totals;\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"member-content betting-records-page fixed-tab player-content\">\r\n//       {/* Header Section */}\r\n//       <div className=\"page-header\">\r\n//         <div className=\"header-content\">\r\n//           <h1 className=\"page-title\">Betting Records</h1>\r\n//           <div className=\"header-stats\">\r\n//             <div className=\"stat-item\">\r\n//               <span className=\"stat-label\">Total Records:</span>\r\n//               <span className=\"stat-value\">{pagination.total}</span>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Tab Navigation */}\r\n//       <div className=\"tab-btn-section\">\r\n//         <div className=\"tab-btn tab-btn-page\">\r\n//           <div\r\n//             className=\"line\"\r\n//             style={{\r\n//               width: \"calc(50%)\",\r\n//               transform: `translate(${\r\n//                 activeTab === \"settled\" ? \"0%\" : \"100%\"\r\n//               }, 0px)`,\r\n//             }}\r\n//           ></div>\r\n//           <div\r\n//             className={`btn ${activeTab === \"settled\" ? \"active\" : \"\"}`}\r\n//             onClick={() => handleTabChange(\"settled\")}\r\n//           >\r\n//             <div className=\"text\">Settled</div>\r\n//           </div>\r\n//           <div\r\n//             className={`btn ${activeTab === \"unsettled\" ? \"active\" : \"\"}`}\r\n//             onClick={() => handleTabChange(\"unsettled\")}\r\n//           >\r\n//             <div className=\"text\">Unsettled</div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Filter Tab */}\r\n//       <div className=\"tab filter-tab\">\r\n//         <ul className=\"item-ani\">\r\n//           {dateOptions.map((option) => (\r\n//             <li\r\n//               key={option.value}\r\n//               className={selectedDateOption === option.value ? \"active\" : \"\"}\r\n//               onClick={() => handleDateOptionChange(option.value)}\r\n//             >\r\n//               {option.label}\r\n//             </li>\r\n//           ))}\r\n//         </ul>\r\n//         <div className=\"btn search-btn\" onClick={toggleFilter}>\r\n//           <span\r\n//             className=\"item-icon\"\r\n//             style={{\r\n//               maskImage: 'url(\"/assets/images/icon-set/index-theme-icon/games-filter-icon.svg\")',\r\n//               WebkitMaskImage: 'url(\"/assets/images/icon-set/index-theme-icon/games-filter-icon.svg\")',\r\n//             }}\r\n//           ></span>\r\n//           <span className=\"filter-badge\">\r\n//             {filters.platforms.length + filters.gameTypes.length > 0 ? \r\n//               filters.platforms.length + filters.gameTypes.length : ''}\r\n//           </span>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* Filter Panel */}\r\n//       {showFilter && (\r\n//         <div className=\"searchpage active\">\r\n//           <div className=\"search-top-info\">\r\n//             <div className=\"back\" onClick={closeFilter}>\r\n//               <span\r\n//                 className=\"item-icon\"\r\n//                 style={{\r\n//                   maskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\r\n//                   WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\r\n//                 }}\r\n//               ></span>\r\n//               Back\r\n//             </div>\r\n//             <input\r\n//               type=\"text\"\r\n//               placeholder=\"Betting Record Filter\"\r\n//               disabled\r\n//               style={{ backgroundImage: 'url(\"\")' }}\r\n//             />\r\n//           </div>\r\n\r\n//           <div className=\"searchpage-main\">\r\n//             {/* Platforms Filter */}\r\n//             <div className=\"search-checkbox-group check-group\">\r\n//               <div className=\"filter-header\">\r\n//                 <h2>Platform ({filters.platforms.length} selected)</h2>\r\n//                 <div className=\"filter-actions\">\r\n//                   <button className=\"filter-action-btn\" onClick={selectAllPlatforms}>\r\n//                     Select All\r\n//                   </button>\r\n//                   <button className=\"filter-action-btn\" onClick={clearAllPlatforms}>\r\n//                     Clear All\r\n//                   </button>\r\n//                 </div>\r\n//               </div>\r\n//               <ul>\r\n//                 {availableFilters.platforms && availableFilters.platforms.map((platform) => (\r\n//                   <li key={platform}>\r\n//                     <input\r\n//                       type=\"checkbox\"\r\n//                       id={`platform-${platform}`}\r\n//                       checked={filters.platforms.includes(platform)}\r\n//                       onChange={() => handlePlatformToggle(platform)}\r\n//                     />\r\n//                     <label htmlFor={`platform-${platform}`}>{platform}</label>\r\n//                   </li>\r\n//                 ))}\r\n//               </ul>\r\n//             </div>\r\n\r\n//             {/* Game Types Filter */}\r\n//             <div className=\"search-checkbox-group check-group\">\r\n//               <div className=\"filter-header\">\r\n//                 <h2>Game Type ({filters.gameTypes.length} selected)</h2>\r\n//                 <div className=\"filter-actions\">\r\n//                   <button className=\"filter-action-btn\" onClick={selectAllGameTypes}>\r\n//                     Select All\r\n//                   </button>\r\n//                   <button className=\"filter-action-btn\" onClick={clearAllGameTypes}>\r\n//                     Clear All\r\n//                   </button>\r\n//                 </div>\r\n//               </div>\r\n//               <ul>\r\n//                 {availableFilters.gameTypes && availableFilters.gameTypes.map((gameType) => (\r\n//                   <li key={gameType}>\r\n//                     <input\r\n//                       type=\"checkbox\"\r\n//                       id={`gameType-${gameType}`}\r\n//                       checked={filters.gameTypes.includes(gameType)}\r\n//                       onChange={() => handleGameTypeToggle(gameType)}\r\n//                     />\r\n//                     <label htmlFor={`gameType-${gameType}`}>{gameType}</label>\r\n//                   </li>\r\n//                 ))}\r\n//               </ul>\r\n//             </div>\r\n\r\n//             {/* Date Filter */}\r\n//             <div className=\"search-checkbox-group check-group\">\r\n//               <h2>Date Range</h2>\r\n//               <ul>\r\n//                 {dateOptions.map((option) => (\r\n//                   <li key={option.value}>\r\n//                     <input\r\n//                       type=\"radio\"\r\n//                       id={`date-${option.value}`}\r\n//                       name=\"dateOption\"\r\n//                       checked={selectedDateOption === option.value}\r\n//                       onChange={() => handleDateOptionChange(option.value)}\r\n//                     />\r\n//                     <label htmlFor={`date-${option.value}`}>{option.label}</label>\r\n//                   </li>\r\n//                 ))}\r\n//               </ul>\r\n//             </div>\r\n//           </div>\r\n\r\n//           <div className=\"searchpage-bar active\">\r\n//             <button className=\"button button-secondary\" onClick={resetFilters}>\r\n//               Reset\r\n//             </button>\r\n//             <button className=\"button\" onClick={applyFilters}>\r\n//               Confirm\r\n//             </button>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* Betting Records Content */}\r\n//       {!showFilter && (\r\n//         <div className=\"inner-wrap\">\r\n//           <div className=\"inner-box\">\r\n//             {/* Loading State */}\r\n//             {loading && (\r\n//               <div className=\"loading-state\">\r\n//                 <div className=\"loading-spinner\"></div>\r\n//                 <div className=\"loading-text\">Loading betting records...</div>\r\n//               </div>\r\n//             )}\r\n\r\n//             {/* Active Filters Summary */}\r\n//             {!loading && (filters.platforms.length > 0 || filters.gameTypes.length > 0) && (\r\n//               <div className=\"active-filters\">\r\n//                 <div className=\"filters-summary\">\r\n//                   <span className=\"filters-label\">Active Filters:</span>\r\n//                   {filters.platforms.length > 0 && (\r\n//                     <div className=\"filter-tag\">\r\n//                       Platforms: {filters.platforms.join(\", \")}\r\n//                       <button \r\n//                         className=\"filter-tag-remove\"\r\n//                         onClick={() => setFilters(prev => ({ ...prev, platforms: [] }))}\r\n//                       >\r\n//                         ×\r\n//                       </button>\r\n//                     </div>\r\n//                   )}\r\n//                   {filters.gameTypes.length > 0 && (\r\n//                     <div className=\"filter-tag\">\r\n//                       Game Types: {filters.gameTypes.join(\", \")}\r\n//                       <button \r\n//                         className=\"filter-tag-remove\"\r\n//                         onClick={() => setFilters(prev => ({ ...prev, gameTypes: [] }))}\r\n//                       >\r\n//                         ×\r\n//                       </button>\r\n//                     </div>\r\n//                   )}\r\n//                 </div>\r\n//               </div>\r\n//             )}\r\n\r\n//             {/* Table Header */}\r\n//             {!loading && bettingData.length > 0 && (\r\n//               <div className=\"record-item item-title\">\r\n//                 <div className=\"item platform\">Platform</div>\r\n//                 <div className=\"item type\">Game Type</div>\r\n//                 <div className=\"item bet\">Turnover</div>\r\n//                 <div className=\"item profit\">Profit/Loss</div>\r\n//               </div>\r\n//             )}\r\n\r\n//             {/* Betting Records List */}\r\n//             {!loading && bettingData.length > 0 && (\r\n//               <div className=\"list list-betting-record\">\r\n//                 {bettingData.map((dayData, index) => {\r\n//                   const dayStats = calculateDateGroupStats(dayData.records || []);\r\n//                   return (\r\n//                     <div key={index} className=\"date-group\">\r\n//                       <div className=\"date-title\">\r\n//                         <div className=\"date\">\r\n//                           <span\r\n//                             className=\"item-icon\"\r\n//                             style={{\r\n//                               maskImage: 'url(\"/assets/images/icon-set/icon-calendar-type02.svg\")',\r\n//                               WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-calendar-type02.svg\")',\r\n//                             }}\r\n//                           ></span>\r\n//                           {formatDate(dayData.date)}\r\n//                         </div>\r\n//                         <div className=\"date-stats\">\r\n//                           <span className=\"stat\">Turnover: {formatCurrency(dayStats.turnover)}</span>\r\n//                           <span className={`stat ${dayStats.profitLoss >= 0 ? 'positive' : 'negative'}`}>\r\n//                             P/L: {formatCurrency(dayStats.profitLoss)}\r\n//                           </span>\r\n//                         </div>\r\n//                         <div className=\"time-zone\">GMT+8</div>\r\n//                       </div>\r\n\r\n//                       <div className=\"list-content\">\r\n//                         {dayData.records && dayData.records.map((record, recordIndex) => (\r\n//                           <div\r\n//                             key={record._id || recordIndex}\r\n//                             className=\"record-item\"\r\n//                             onClick={() => showInfo(`Platform: ${record.platform} | Game: ${record.gameType}`)}\r\n//                           >\r\n//                             <div className=\"item platform\">\r\n//                               <span className=\"platform-name\">{record.platform}</span>\r\n//                             </div>\r\n//                             <div className=\"item type\">\r\n//                               <span className=\"game-type\">{record.gameType}</span>\r\n//                             </div>\r\n//                             <div className=\"item bet\">\r\n//                               {formatCurrency(record.turnover)}\r\n//                             </div>\r\n//                             <div\r\n//                               className={`item profit ${\r\n//                                 record.profitLoss >= 0 ? \"positive\" : \"negative\"\r\n//                               }`}\r\n//                             >\r\n//                               {record.profitLoss >= 0 ? \"+\" : \"-\"}\r\n//                               {formatCurrency(Math.abs(record.profitLoss))}\r\n//                             </div>\r\n//                             <div\r\n//                               className=\"list-arrow\"\r\n//                               style={{\r\n//                                 maskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\r\n//                                 WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\r\n//                               }}\r\n//                             ></div>\r\n//                           </div>\r\n//                         ))}\r\n//                       </div>\r\n//                     </div>\r\n//                   );\r\n//                 })}\r\n//               </div>\r\n//             )}\r\n\r\n//             {/* Load More Button */}\r\n//             {!loading && hasMore && bettingData.length > 0 && (\r\n//               <div className=\"load-more-section\">\r\n//                 <button\r\n//                   className=\"load-more-btn\"\r\n//                   onClick={loadMore}\r\n//                   disabled={loadingMore}\r\n//                 >\r\n//                   {loadingMore ? (\r\n//                     <>\r\n//                       <div className=\"loading-spinner-small\"></div>\r\n//                       Loading...\r\n//                     </>\r\n//                   ) : (\r\n//                     `Load More (${pagination.total - bettingData.length} remaining)`\r\n//                   )}\r\n//                 </button>\r\n//               </div>\r\n//             )}\r\n\r\n//             {/* Loading More State */}\r\n//             {loadingMore && (\r\n//               <div className=\"loading-more-state\">\r\n//                 <div className=\"loading-spinner-small\"></div>\r\n//                 <div className=\"loading-text\">Loading more records...</div>\r\n//               </div>\r\n//             )}\r\n\r\n//             {/* Empty State */}\r\n//             {!loading && bettingData.length === 0 && (\r\n//               <div className=\"empty-state\">\r\n//                 <div className=\"empty-icon\">\r\n//                   <span\r\n//                     className=\"item-icon\"\r\n//                     style={{\r\n//                       maskImage: 'url(\"/assets/images/icon-set/icon-empty-betting.svg\")',\r\n//                       WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-empty-betting.svg\")',\r\n//                     }}\r\n//                   ></span>\r\n//                 </div>\r\n//                 <div className=\"empty-text\">No betting records found</div>\r\n//                 <div className=\"empty-subtext\">\r\n//                   {activeTab === \"settled\"\r\n//                     ? \"You have no settled bets for the selected period.\"\r\n//                     : \"You have no unsettled bets for the selected period.\"}\r\n//                 </div>\r\n//                 <button\r\n//                   className=\"button button-outline\"\r\n//                   onClick={resetFilters}\r\n//                 >\r\n//                   Clear Filters\r\n//                 </button>\r\n//               </div>\r\n//             )}\r\n\r\n//             {/* Error State */}\r\n//             {!loading && bettingData.length === 0 && (\r\n//               <div className=\"empty-state\">\r\n//                 <div className=\"empty-icon\">\r\n//                   <span\r\n//                     className=\"item-icon\"\r\n//                     style={{\r\n//                       maskImage: 'url(\"/assets/images/icon-set/icon-error.svg\")',\r\n//                       WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-error.svg\")',\r\n//                     }}\r\n//                   ></span>\r\n//                 </div>\r\n//                 <div className=\"empty-text\">\r\n//                   No records match your filters\r\n//                 </div>\r\n//                 <button\r\n//                   className=\"button button-outline\"\r\n//                   onClick={resetFilters}\r\n//                 >\r\n//                   Clear Filters\r\n//                 </button>\r\n//               </div>\r\n//             )}\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default BettingRecords;\r\n\r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useApi } from \"../../../hooks/useApi\";\r\nimport { useGameData } from \"../../../hooks/useGameData\";\r\n\r\nconst BettingRecords = ({ showError, showSuccess, showWarning, showInfo }) => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [activeTab, setActiveTab] = useState(\"settled\");\r\n  const [showFilter, setShowFilter] = useState(false);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const { apiCall } = useApi();\r\n  \r\n  // Properly use game data hook\r\n  const { data: gameCategories, loading: gameDataLoading, active: activeCategory, activeIndex, handleItemClick } = useGameData();\r\n\r\n  // Filter states\r\n  const [filters, setFilters] = useState({\r\n    startDate: \"\",\r\n    endDate: \"\",\r\n    platforms: [],\r\n    gameTypes: [],\r\n    settlement: \"settled\",\r\n    page: 1,\r\n    limit: 20,\r\n  });\r\n\r\n  const [availableFilters, setAvailableFilters] = useState({\r\n    platforms: [],\r\n    gameTypes: [],\r\n    dateRange: { minDate: null, maxDate: null },\r\n  });\r\n\r\n  const [bettingData, setBettingData] = useState([]);\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 20,\r\n    total: 0,\r\n    pages: 0,\r\n  });\r\n\r\n  // Date options for quick selection\r\n  const dateOptions = [\r\n    { value: \"today\", label: \"Today\" },\r\n    { value: \"yesterday\", label: \"Yesterday\" },\r\n    { value: \"last7days\", label: \"Last 7 days\" },\r\n    { value: \"last30days\", label: \"Last 30 days\" },\r\n  ];\r\n\r\n  const [selectedDateOption, setSelectedDateOption] = useState(\"last7days\");\r\n\r\n  // Extract providers from active category\r\n  const extractProviders = useCallback(() => {\r\n    if (!activeCategory?.uniqueProviders) return [];\r\n    \r\n    return activeCategory.uniqueProviders.map(provider => ({\r\n      providercode: provider.providercode || provider.id || provider.code || \"\",\r\n      company: provider.company || provider.name || provider.provider || \"\",\r\n      image_url: provider.image_url || provider.logo || \"\"\r\n    })).filter(provider => provider.providercode); // Filter out invalid providers\r\n  }, [activeCategory]);\r\n\r\n  // Extract game types from all categories\r\n  const extractGameTypes = useCallback(() => {\r\n    if (!Array.isArray(gameCategories)) return [];\r\n    \r\n    return gameCategories.map(category => ({\r\n      key: category.category_key || category.id || category.category_name || \"\",\r\n      name: category.category_name || category.name || \"\",\r\n      image: category.image || \"\"\r\n    })).filter(gameType => gameType.key); // Filter out invalid game types\r\n  }, [gameCategories]);\r\n\r\n  // Load available filters using gameData\r\n  const loadAvailableFilters = useCallback(() => {\r\n    const platforms = extractProviders();\r\n    const gameTypes = extractGameTypes();\r\n\r\n    console.log(\"Loaded platforms:\", platforms);\r\n    console.log(\"Loaded gameTypes:\", gameTypes);\r\n\r\n    setAvailableFilters(prev => ({\r\n      ...prev,\r\n      platforms,\r\n      gameTypes,\r\n    }));\r\n  }, [extractProviders, extractGameTypes]);\r\n\r\n  // Build API params from filters\r\n  const buildApiParams = useCallback((overrides = {}) => {\r\n    const payload = {\r\n      page: overrides.page ?? filters.page,\r\n      limit: overrides.limit ?? filters.limit,\r\n      settlement: activeTab,\r\n      dateOption: selectedDateOption,\r\n    };\r\n\r\n    // Convert platform objects to provider codes\r\n    if (filters.platforms.length > 0) {\r\n      payload.platforms = filters.platforms.map(platform => \r\n        typeof platform === 'object' ? platform.providercode : platform\r\n      );\r\n    }\r\n\r\n    // Convert game type objects to keys\r\n    if (filters.gameTypes.length > 0) {\r\n      payload.gameTypes = filters.gameTypes.map(gameType =>\r\n        typeof gameType === 'object' ? gameType.key : gameType\r\n      );\r\n    }\r\n\r\n    // Date range\r\n    if (filters.startDate) payload.startDate = filters.startDate;\r\n    if (filters.endDate) payload.endDate = filters.endDate;\r\n\r\n    return payload;\r\n  }, [filters, activeTab, selectedDateOption]);\r\n\r\n  // Load betting records\r\n  const loadBettingRecords = useCallback(\r\n    async (page = 1, isLoadMore = false) => {\r\n      try {\r\n        if (isLoadMore) {\r\n          setLoadingMore(true);\r\n        } else {\r\n          // Use gameDataLoading state from useGameData\r\n        }\r\n\r\n        const params = buildApiParams({ page });\r\n\r\n        console.log(\"Loading betting records with params:\", params);\r\n\r\n        try {\r\n          // Call the backend API\r\n          const response = await apiCall(\"/api/member/betting-records-simple\", \"GET\", params);\r\n          \r\n          if (response.success) {\r\n            if (isLoadMore) {\r\n              setBettingData(prev => [...prev, ...response.data]);\r\n            } else {\r\n              setBettingData(response.data || []);\r\n            }\r\n            \r\n            setPagination(response.pagination || {\r\n              page: page,\r\n              limit: filters.limit,\r\n              total: response.data?.length || 0,\r\n              pages: Math.ceil((response.data?.length || 0) / filters.limit)\r\n            });\r\n            \r\n            setHasMore(page < (response.pagination?.pages || 1));\r\n          } else {\r\n            throw new Error(response.message || \"Failed to load betting records\");\r\n          }\r\n        } catch (apiError) {\r\n          console.log(\"API call failed, using sample data:\", apiError);\r\n          // Use sample data if API fails\r\n          const sampleData = generateSampleData();\r\n          if (isLoadMore) {\r\n            setBettingData(prev => [...prev, ...sampleData]);\r\n          } else {\r\n            setBettingData(sampleData);\r\n          }\r\n          \r\n          setPagination({\r\n            page: page,\r\n            limit: filters.limit,\r\n            total: sampleData.length * 3,\r\n            pages: 3\r\n          });\r\n          \r\n          setHasMore(page < 3);\r\n          \r\n          if (isLoadMore) {\r\n            showSuccess(`Loaded ${sampleData.length} more records`);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error loading betting records:\", error);\r\n        showError(\"Failed to load betting records\");\r\n      } finally {\r\n        setLoadingMore(false);\r\n      }\r\n    },\r\n    [buildApiParams, filters.limit, showError, showSuccess, apiCall]\r\n  );\r\n\r\n  // Generate sample data for demonstration\r\n  const generateSampleData = () => {\r\n    const platforms = availableFilters.platforms.length > 0 \r\n      ? availableFilters.platforms \r\n      : [\r\n          { providercode: \"JILI\", company: \"JILI\" },\r\n          { providercode: \"PNG\", company: \"PNG\" },\r\n          { providercode: \"JDB\", company: \"JDB\" }\r\n        ];\r\n    \r\n    const gameTypes = availableFilters.gameTypes.length > 0\r\n      ? availableFilters.gameTypes\r\n      : [\r\n          { key: \"slot\", name: \"Slot\" },\r\n          { key: \"live\", name: \"Live Casino\" },\r\n          { key: \"sports\", name: \"Sports\" }\r\n        ];\r\n    \r\n    return [{\r\n      date: new Date().toISOString().split('T')[0],\r\n      records: Array.from({ length: 6 }, (_, i) => ({\r\n        _id: `sample-${i}-${Date.now()}`,\r\n        platform: platforms[i % platforms.length].company,\r\n        gameType: gameTypes[i % gameTypes.length].name,\r\n        turnover: Math.random() * 1000 + 100,\r\n        profitLoss: (Math.random() - 0.5) * 200,\r\n        bet: Math.random() * 500 + 50,\r\n        payout: Math.random() * 600 + 40,\r\n        start_time: new Date()\r\n      }))\r\n    }];\r\n  };\r\n\r\n  // Close modal\r\n  const closeModal = () => {\r\n    if (location.state?.background) {\r\n      navigate(-1);\r\n    } else {\r\n      navigate(\"/\");\r\n    }\r\n  };\r\n\r\n  // Initial load\r\n  useEffect(() => {\r\n    loadAvailableFilters();\r\n  }, [loadAvailableFilters]);\r\n\r\n  // Reload when filters or tab change\r\n  useEffect(() => {\r\n    setBettingData([]);\r\n    setPagination(prev => ({ ...prev, page: 1 }));\r\n    loadBettingRecords(1, false);\r\n  }, [filters, activeTab, selectedDateOption, loadBettingRecords]);\r\n\r\n  // Handle tab change\r\n  const handleTabChange = (tab) => {\r\n    setActiveTab(tab);\r\n    setFilters(prev => ({ ...prev, settlement: tab, page: 1 }));\r\n  };\r\n\r\n  // Handle filter toggle\r\n  const toggleFilter = () => {\r\n    setShowFilter(!showFilter);\r\n  };\r\n\r\n  // Handle platform selection\r\n  const handlePlatformToggle = (platform) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      platforms: prev.platforms.some(p => \r\n        (typeof p === 'object' ? p.providercode : p) === \r\n        (typeof platform === 'object' ? platform.providercode : platform)\r\n      )\r\n        ? prev.platforms.filter(p => \r\n            (typeof p === 'object' ? p.providercode : p) !== \r\n            (typeof platform === 'object' ? platform.providercode : platform)\r\n          )\r\n        : [...prev.platforms, platform],\r\n      page: 1,\r\n    }));\r\n  };\r\n\r\n  // Handle game type selection\r\n  const handleGameTypeToggle = (gameType) => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      gameTypes: prev.gameTypes.some(g => \r\n        (typeof g === 'object' ? g.key : g) === \r\n        (typeof gameType === 'object' ? gameType.key : gameType)\r\n      )\r\n        ? prev.gameTypes.filter(g => \r\n            (typeof g === 'object' ? g.key : g) !== \r\n            (typeof gameType === 'object' ? gameType.key : gameType)\r\n          )\r\n        : [...prev.gameTypes, gameType],\r\n      page: 1,\r\n    }));\r\n  };\r\n\r\n  // Handle date option change\r\n  const handleDateOptionChange = (optionValue) => {\r\n    setSelectedDateOption(optionValue);\r\n    setFilters(prev => ({ ...prev, page: 1 }));\r\n  };\r\n\r\n  // Select all platforms\r\n  const selectAllPlatforms = () => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      platforms: [...availableFilters.platforms],\r\n      page: 1\r\n    }));\r\n  };\r\n\r\n  // Clear all platforms\r\n  const clearAllPlatforms = () => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      platforms: [],\r\n      page: 1\r\n    }));\r\n  };\r\n\r\n  // Select all game types\r\n  const selectAllGameTypes = () => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      gameTypes: [...availableFilters.gameTypes],\r\n      page: 1\r\n    }));\r\n  };\r\n\r\n  // Clear all game types\r\n  const clearAllGameTypes = () => {\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      gameTypes: [],\r\n      page: 1\r\n    }));\r\n  };\r\n\r\n  // Apply filters and close filter panel\r\n  const applyFilters = () => {\r\n    setShowFilter(false);\r\n    setBettingData([]);\r\n    loadBettingRecords(1, false);\r\n    showInfo(\"Filters applied successfully\");\r\n  };\r\n\r\n  // Reset filters\r\n  const resetFilters = () => {\r\n    setFilters({\r\n      startDate: \"\",\r\n      endDate: \"\",\r\n      platforms: [],\r\n      gameTypes: [],\r\n      settlement: activeTab,\r\n      page: 1,\r\n      limit: 20,\r\n    });\r\n    setSelectedDateOption(\"last7days\");\r\n    showInfo(\"Filters reset to default\");\r\n  };\r\n\r\n  // Close filter panel\r\n  const closeFilter = () => {\r\n    setShowFilter(false);\r\n  };\r\n\r\n  // Load more records\r\n  const loadMore = () => {\r\n    if (!loadingMore && hasMore) {\r\n      const nextPage = pagination.page + 1;\r\n      setFilters(prev => ({ ...prev, page: nextPage }));\r\n      loadBettingRecords(nextPage, true);\r\n    }\r\n  };\r\n\r\n  // Format currency\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat(\"en-US\", {\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2,\r\n    }).format(amount || 0);\r\n  };\r\n\r\n  // Format date\r\n  const formatDate = (dateString) => {\r\n    try {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('en-US', { \r\n        year: 'numeric', \r\n        month: 'short', \r\n        day: 'numeric' \r\n      });\r\n    } catch (error) {\r\n      return \"Invalid Date\";\r\n    }\r\n  };\r\n\r\n  // Check if platform is selected\r\n  const isPlatformSelected = (platform) => {\r\n    return filters.platforms.some(p => \r\n      (typeof p === 'object' ? p.providercode : p) === \r\n      (typeof platform === 'object' ? platform.providercode : platform)\r\n    );\r\n  };\r\n\r\n  // Check if game type is selected\r\n  const isGameTypeSelected = (gameType) => {\r\n    return filters.gameTypes.some(g => \r\n      (typeof g === 'object' ? g.key : g) === \r\n      (typeof gameType === 'object' ? gameType.key : gameType)\r\n    );\r\n  };\r\n\r\n  const loading = gameDataLoading && !loadingMore;\r\n\r\n  return (\r\n    <div className=\"content mcd-style fixed-tab player-content\">\r\n      \r\n      {/* Tab Navigation */}\r\n      <div className=\"tab-btn-section\">\r\n        <div className=\"tab-btn tab-btn-page\">\r\n          <div\r\n            className=\"line\"\r\n            style={{\r\n              width: \"calc(50%)\",\r\n              transform: `translate(${activeTab === \"settled\" ? \"0%\" : \"100%\"}, 0px)`,\r\n            }}\r\n          ></div>\r\n          <div\r\n            className={`btn ${activeTab === \"settled\" ? \"active\" : \"\"}`}\r\n            onClick={() => handleTabChange(\"settled\")}\r\n          >\r\n            <div className=\"text\">Settled</div>\r\n          </div>\r\n          <div\r\n            className={`btn ${activeTab === \"unsettled\" ? \"active\" : \"\"}`}\r\n            onClick={() => handleTabChange(\"unsettled\")}\r\n          >\r\n            <div className=\"text\">Unsettled</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"tab-content tab-content-page\">\r\n        \r\n        {/* Filter Tab */}\r\n        {!showFilter && (\r\n          <div className=\"tab filter-tab\">\r\n            <ul className=\"item-ani\">\r\n              {dateOptions.map((option) => (\r\n                <li\r\n                  key={option.value}\r\n                  className={selectedDateOption === option.value ? \"active\" : \"\"}\r\n                  onClick={() => handleDateOptionChange(option.value)}\r\n                >\r\n                  {option.label}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <div className=\"btn search-btn\" onClick={toggleFilter}>\r\n              <span\r\n                className=\"item-icon\"\r\n                style={{\r\n                  maskImage: 'url(\"/assets/images/icon-set/index-theme-icon/games-filter-icon.svg\")',\r\n                  WebkitMaskImage: 'url(\"/assets/images/icon-set/index-theme-icon/games-filter-icon.svg\")',\r\n                }}\r\n              ></span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Filter Panel */}\r\n        {showFilter && (\r\n          <div className=\"searchpage active\">\r\n            <div className=\"search-top-info\">\r\n              <div className=\"back\" onClick={closeFilter}>\r\n                <span\r\n                  className=\"item-icon\"\r\n                  style={{\r\n                    maskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\r\n                    WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\r\n                  }}\r\n                ></span>\r\n                Back\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Betting Record Filter\"\r\n                disabled\r\n                style={{ backgroundImage: 'url(\"\")' }}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"searchpage-main\">\r\n              {/* Game Types Filter */}\r\n              <div className=\"search-checkbox-group check-group\">\r\n                <h2>Game Type ({filters.gameTypes.length} selected)</h2>\r\n                <div className=\"filter-actions\">\r\n                  <button className=\"filter-action-btn\" onClick={selectAllGameTypes}>\r\n                    Select All\r\n                  </button>\r\n                  <button className=\"filter-action-btn\" onClick={clearAllGameTypes}>\r\n                    Clear All\r\n                  </button>\r\n                </div>\r\n                <ul>\r\n                  {availableFilters.gameTypes.map((gameType) => (\r\n                    <li key={gameType.key}>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        id={`gameType-${gameType.key}`}\r\n                        checked={isGameTypeSelected(gameType)}\r\n                        onChange={() => handleGameTypeToggle(gameType)}\r\n                      />\r\n                      <label htmlFor={`gameType-${gameType.key}`}>\r\n                        {gameType.name}\r\n                      </label>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n\r\n              {/* Platforms Filter */}\r\n              <div className=\"search-checkbox-group check-group\">\r\n                <h2>Platform ({filters.platforms.length} selected)</h2>\r\n                <div className=\"filter-actions\">\r\n                  <button className=\"filter-action-btn\" onClick={selectAllPlatforms}>\r\n                    Select All\r\n                  </button>\r\n                  <button className=\"filter-action-btn\" onClick={clearAllPlatforms}>\r\n                    Clear All\r\n                  </button>\r\n                </div>\r\n                <ul>\r\n                  {availableFilters.platforms.map((platform) => (\r\n                    <li key={platform.providercode}>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        id={`platform-${platform.providercode}`}\r\n                        checked={isPlatformSelected(platform)}\r\n                        onChange={() => handlePlatformToggle(platform)}\r\n                      />\r\n                      <label htmlFor={`platform-${platform.providercode}`}>\r\n                        {platform.company}\r\n                      </label>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n\r\n              {/* Date Filter */}\r\n              <div className=\"search-checkbox-group check-group\">\r\n                <h2>Date</h2>\r\n                <ul>\r\n                  {dateOptions.map((option) => (\r\n                    <li key={option.value}>\r\n                      <input\r\n                        type=\"radio\"\r\n                        id={`date-${option.value}`}\r\n                        name=\"dateOption\"\r\n                        checked={selectedDateOption === option.value}\r\n                        onChange={() => handleDateOptionChange(option.value)}\r\n                      />\r\n                      <label htmlFor={`date-${option.value}`}>{option.label}</label>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"searchpage-bar active\">\r\n              <button className=\"button button-secondary\" onClick={resetFilters}>\r\n                Reset\r\n              </button>\r\n              <button className=\"button\" onClick={applyFilters}>\r\n                Confirm\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Betting Records Content */}\r\n        {!showFilter && (\r\n          <div className=\"inner-wrap\">\r\n            <div className=\"inner-box\">\r\n              {/* Loading State */}\r\n              {loading && (\r\n                <div className=\"loading-state\">\r\n                  <div className=\"loading-spinner\"></div>\r\n                  <div className=\"loading-text\">Loading betting records...</div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Table Header */}\r\n              {!loading && bettingData.length > 0 && (\r\n                <div className=\"record-item item-title\">\r\n                  <div className=\"item platform\">Platform</div>\r\n                  <div className=\"item type\">Game Type</div>\r\n                  <div className=\"item bet\">Turnover</div>\r\n                  <div className=\"item profit\">Profit/Loss</div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Betting Records List */}\r\n              {!loading && bettingData.length > 0 && (\r\n                <div className=\"list list-betting-record\">\r\n                  {bettingData.map((dayData, index) => (\r\n                    <div key={index} className=\"date-group\">\r\n                      <div className=\"date-title\">\r\n                        <div className=\"date\">\r\n                          <span\r\n                            className=\"item-icon\"\r\n                            style={{\r\n                              maskImage: 'url(\"/assets/images/icon-set/icon-calendar-type02.svg\")',\r\n                              WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-calendar-type02.svg\")',\r\n                            }}\r\n                          ></span>\r\n                          {formatDate(dayData.date)}\r\n                        </div>\r\n                        <div className=\"time-zone\">GMT+8</div>\r\n                      </div>\r\n\r\n                      <div className=\"list-content\">\r\n                        {dayData.records && dayData.records.map((record, recordIndex) => (\r\n                          <div\r\n                            key={record._id || recordIndex}\r\n                            className=\"record-item\"\r\n                          >\r\n                            <div className=\"item platform\">{record.platform}</div>\r\n                            <div className=\"item type\">{record.gameType}</div>\r\n                            <div className=\"item bet\">\r\n                              {formatCurrency(record.turnover)}\r\n                            </div>\r\n                            <div\r\n                              className={`item profit ${record.profitLoss >= 0 ? \"positive\" : \"negative\"}`}\r\n                            >\r\n                              {record.profitLoss >= 0 ? \"+\" : \"-\"}\r\n                              {formatCurrency(Math.abs(record.profitLoss))}\r\n                            </div>\r\n                            <div\r\n                              className=\"list-arrow\"\r\n                              style={{\r\n                                maskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\r\n                                WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-arrow-type09.svg\")',\r\n                              }}\r\n                            ></div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              {/* Load More Button */}\r\n              {!loading && hasMore && bettingData.length > 0 && (\r\n                <div className=\"load-more-section\">\r\n                  <button\r\n                    className=\"load-more-btn\"\r\n                    onClick={loadMore}\r\n                    disabled={loadingMore}\r\n                  >\r\n                    {loadingMore ? (\r\n                      <>\r\n                        <div className=\"loading-spinner-small\"></div>\r\n                        Loading...\r\n                      </>\r\n                    ) : (\r\n                      \"Load More Records\"\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {/* Empty State */}\r\n              {!loading && bettingData.length === 0 && (\r\n                <div className=\"empty-state\">\r\n                  <div className=\"empty-icon\">\r\n                    <span\r\n                      className=\"item-icon\"\r\n                      style={{\r\n                        maskImage: 'url(\"/assets/images/icon-set/icon-empty-betting.svg\")',\r\n                        WebkitMaskImage: 'url(\"/assets/images/icon-set/icon-empty-betting.svg\")',\r\n                      }}\r\n                    ></span>\r\n                  </div>\r\n                  <div className=\"empty-text\">No betting records found</div>\r\n                  <div className=\"empty-subtext\">\r\n                    {activeTab === \"settled\"\r\n                      ? \"You have no settled bets for the selected period.\"\r\n                      : \"You have no unsettled bets for the selected period.\"}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BettingRecords;"],"mappings":";;AAAA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,WAAW,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA,EA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}